{"version":3,"sources":["Components/assets/state.png","Components/assets/channel.png","Components/assets/device.png","Components/assets/empty.png","Components/Loader.js","i18n.js","Connection.js","Dialogs/Error.js","Theme.js","GenericApp.js","Components/Utils.js","Tabs/Logo.js","Dialogs/Message.js","Tabs/Options.js","Components/cp-react-tree-table/src/component/Column.js","Components/cp-react-tree-table/src/component/ColumnWrapper.js","Components/cp-react-tree-table/src/component/VirtualListRow.js","Components/cp-react-tree-table/src/model/row.js","Components/cp-react-tree-table/src/util/index.js","Components/cp-react-tree-table/src/model/bt_node.js","Components/cp-react-tree-table/src/model/bt_leaf.js","Components/cp-react-tree-table/src/model/bt_root.js","Components/cp-react-tree-table/src/component/VirtualList.js","Components/cp-react-tree-table/src/component/TreeDataTable.js","Components/cp-react-tree-table/src/util/search.js","Components/cp-react-tree-table/src/index.js","Components/SelectID.js","Dialogs/SelectID.js","Tabs/Extended.js","Tabs/Services.js","Tabs/Enums.js","Tabs/AlexaSmartNames.js","Tabs/AlisaSmartNames.js","App.js","serviceWorker.js","createTheme.js","index.js","assets/copy-content.svg"],"names":["module","exports","Loader","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","size","react_default","a","createElement","className","theme","style","width","height","left","borderWidth","top","bottom","React","Component","withStyles","I18n","lang","word","arg1","arg2","arg3","translations","w","console","log","concat","undefined","replace","en","require","ru","de","window","sysLang","PROGRESS","CONNECTING","CONNECTED","OBJECTS_LOADED","READY","Connection","autoSubscribes","autoSubscribeLog","socket","io","connect","location","protocol","host","query","states","objects","scripts","list","hosts","groups","instances","firstConnect","waitForRestart","systemLang","connected","statesSubscribes","objectsSubscribes","onProgress","onError","err","error","on","emit","acl","data","systemConfig","common","language","navigator","userLanguage","onLanguage","getObjects","onReady","subscribe","reload","subscribed","message","onLog","onLogHandler","operation","type","id","obj","setTimeout","objectChange","state","stateChange","cb","cbs","indexOf","push","reg","RegExp","getState","pos","splice","length","Promise","resolve","_this2","changed","_rev","JSON","stringify","match","oldObj","_id","keys","forEach","test","onBlocklyChanges","blockly","onObjectChange","task","hasOwnProperty","disableProgressUdpate","_this3","res","STATES_LOADED","_this4","reject","val","_this5","setState","refresh","_this6","slice","startsWith","parseInt","split","pop","isEnable","_this7","_this8","_this9","_this10","oldId","newId","newCommon","_this11","_obj","engine","enabled","source","debug","verbose","name","engineType","adapter","_this12","startkey","endkey","doc","rows","map","item","value","originalGroup","confirmed","deleted","_this13","l","substring","deleteId","g","_this14","onConfirmDelete","result","_deleteGroup","newName","_list","_this15","nId","renameGroup","instance","command","handler","_enum","_this16","_res","i","PropTypes","func","DialogError","handleOk","onClose","Dialog","open","maxWidth","fullWidth","aria-labelledby","aria-describedby","DialogTitle","classes","titleBackground","root","titleColor","title","t","DialogContent","DialogContentText","text","DialogActions","Button","onClick","color","autoFocus","Theme","background","button","borderRadius","GenericApp","search","tmp","pathname","adapterName","instanceId","selectedTab","localStorage","selectedTabNum","native","errorText","loaded","themeType","toast","savedNative","progress","setLanguage","getObject","then","tab","index","isClose","_oldObj","b","setObject","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","action","IconButton","key","aria-label","close","index_esm","Dialogs_Error","newNative","getIsChanged","buttonStyle","Toolbar","position","right","Fab","variant","disabled","onSave","assign","marginLeft","flexGrow","attr","parse","parent","$iframeDialog","postMessage","e","days","months","Utils","filter","toUpperCase","toLowerCase","join","settings","options","isDesc","desc","lastIndexOf","CapitalWords","trim","forEnumId","custom","user","subOrder","order","subURLs","URLs","dest","Array","from","_result$splice","removed","slicedToArray","defaultEnabling","useCustom","icon","s","useCommon","alt","src","parts","defaultValue","r","toString","rgb","seconds","parseFloat","isNaN","hours","Math","floor","minutes","secs","angle","num","format","dateFormat","now","m","year","find","y","day","Date","abs","getTime","date","getDay","getDate","getMonth","href","target","p","noCommon","smartName","newSmartName","byON","smartType","getLanguage","nnn","_smartName","role","empty","nl","pl","it","fr","pt","es","el","document","body","appendChild","select","execCommand","removeChild","stopPropagation","preventDefault","namespace","INSTANCES","Logo","evt","f","files","FileReader","onload","contents","json","onLoad","readAsText","alert","news","titleLang","generateFile","input","setAttribute","addEventListener","handleFileSelect","click","logo","readme","buttons","focus","upload","fa_index_esm","download","filename","encodeURIComponent","display","marginRight","marginTop","float","padding","DialogMessage","Options","inAction","forceUserCreate","showHint","isInstanceAlive","TextField","label","onChange","margin","Card","card","CardActionArea","CardMedia","media","image","CardContent","renderTextWithA","CardActions","textAlign","ack","catch","Message","FormControlLabel","paddingTop","controlElement","control","Checkbox","checked","Tabs_Logo","column","columnSettings","renderInput","renderCheckbox","resetCerts","onForceUserCreate","fontWeight","columnLogo","renderCard","renderHint","renderToast","minHeight","minWidth","verticalAlign","Column","ColumnWrapper","_this$props","rowData","toggle","rowMetadata","renderCell","classNameColumn","_width","cWidth","baseClass","objectSpread","STYLE_COLUMN","boxSizing","overflow","VirtualListRow","overscanHeight","topOffset","row","hasVisibleChildren","onToggle","columns","classNameRow","selected","classNameSelected","metadata","getMetadata","STYLE_ROW","getHeight","data-rindex","onRowClick","onDoubleClick","data-depth","depth","Children","toArray","ColumnWrapper_ColumnWrapper","Row","hasChildren","arguments","isVisible","_height","_cacheHeight","_hasChildren","_updateHeight","hide","show","diff","n","processData","rowHeightDefault","processLevel","children","needle","haystack","noop","BTNode","_size","ch","getSize","at","child","sz","rm","min","oldHeight","removeInner","BTLeaf","collapse","insertInner","remaining","leaf","maybeSpill","me","sibling","myIndex","copy","op","used","mapRange","apply","BTRoot","insert","get","prototype","Error","node","cur","chunk","rHeight","getRow","rowObj","VirtualList","_handleScroll","onScroll","container","scrollTop","_setHeight","offsetHeight","removeEventListener","lastVisibleRowIndex","classNamePartlyVisible","classNameMover","classNameInner","_this$state","startYMax","max","startY","startIndex","getIndexAtY","endY","endIndex","contentTopOffset","getYAtIndex","visibleRowsData","visibleRows","relativeIndex","visible","VirtualListRow_VirtualListRow","STYLE_LIST","ref","elem","STYLE_WRAPPER","STYLE_CONTENT","posY","parentNode","WebkitOverflowScrolling","TreeDataTable","_handleOnToggle","delta","_toggleRow","hasChange","toggleOpen","currentDepth","rowIndex","getRowIndex","rowHeight","VirtualList_VirtualList","virtualList","expandAncestors","dataNode","mapAll","findNodeData","ancestors","currentRowIndex","previousDepth","currentRow","currentRoot","scrollTo","to","_from","_to","_isOpRangeValid","hasChanged","_walkOne","expandOrCollapse","_showRowsInRange","_hideRowsInRange","maxTo","warn","binarySearch","d","applyFilter","filters","context","filteredOut","room","members","expert","fID","fName","getName","_item","formatDate","dateObj","getFullYear","v","getHours","getMinutes","getSeconds","getMilliseconds","formatValue","texts","valFull","ex","getStates","isCommon","valText","ts","lc","unit","quality","q","quality2text","getSelectIdIcon","prefix","_id_","IconDefaultDevice","IconDefaultChannel","IconDefaultState","IconDefault","SelectID","selectedFound","copyContentImg","CopyContentImg","treeTableRef","createRef","mainRef","connection","_buildTree","ids","sort","currentPathArr","currentPath","currentPathLen","info","funcEnums","roomEnums","roles","croot","_loop","statesOnly","repeat","u","move","curPath","_loop2","k","_croot","buildTree","onSelect","isDouble","getObjectName","toggleChildren","current","getElementsByClassName","__installed","cellCopy","div","img","secondary","A200","onCopy","dataset","cellCopyPressed","installCopyButtons","findNode","_parts","_path","_level","found","scrollIntoView","isState","paddingLeft","data-index","cellWrapper","toggleButtonWrapper","cellWrapperElement","findRoomsForObject","withParentInfo","rooms","origin","findFunctionsForObject","funcs","filterTimer","clearTimeout","forceUpdate","FormControl","headerCellInput","marginBottom","Input","underline","placeholder","onFilter","autoComplete","values","Select","inputProps","displayEmpty","MenuItem","selectNone","selectIcon","getFilterSelect","expandAll","collapseAll","toolbar","toolbarButtons","onExpandAll","onCollapseAll","visibleButtons","onExpandVisible","onCollapseVisible","WIDTHS","mainDiv","getToolbar","header","headerCell","getFilterInput","getFilterSelectRole","getFilterSelectRoom","getFilterSelectFunction","tableDiv","cp_react_tree_table_src","partlyVisible","treeTable","treeTableRow","isDoubleClick","grow","renderIndexColumn","bind","cellDivId","renderColumnName","cellDiv","renderColumnRole","renderColumnRoom","renderColumnFunc","renderColumnValue","CircularProgress","borderTop","borderBottom","boxShadow","fontSize","alignItems","lineHeight","opacity","paddingRight","cursor","selectSpan","border","A700","DialogSelectID","onOk","headerID","disableBackdropClick","disableEscapeKeyDown","paper","dialog","content","Components_SelectID","ok","handleCancel","cancel","fontStyle","ExtendedOptions","showSelectId","FormHelperText","Dialogs_SelectID","renderSelect","getSelectIdDialog","Services","running","text2commandList","addValue","onKeyChangedBound","onKeyChanged","assertThisInitialized","getAdapterInstances","subscribeState","unsubscribeState","showError","chips","chipsDiv","onKeyUp","keyCode","onChipsAdd","Chip","onDelete","onChipsDelete","chip","reissueUrlKey","fullSize","login","readOnly","copyToClipboard","renderChips","text2command","Enums","editId","editedSmartName","loading","onEnumUpdateBound","onEnumUpdate","getEnums","subscribeObject","unsubscribeObject","removeChanged","updateObjInState","sendTo","getSmartNameFromObj","disableSmartName","removeSmartName","addChanged","informInstance","getObjectNameFromObj","enumLine","enumLineName","enumLineSubName","enumLineId","Switch","enumLineEnabled","onToggleEnum","enumLineEdit","onEdit","renderEnum","newObj","updateSmartName","helperText","changeSmartName","columnHeader","columnDiv","renderEnums","renderMessage","renderEditDialog","palette","primary","light","contrastText","actionsMapping","turnOn","IconOn","turnOff","setTargetTemperature","IconTemperature","incrementTargetTemperature","IconUp","decrementTargetTemperature","IconDown","setPercentage","IconPercentage","incrementPercentage","decrementPercentage","setColor","IconColor","setColorTemperature","IconBulb","incrementColorTemperature","decrementColorTemperature","getTargetTemperature","IconThermometer","getTemperatureReading","setLockState","IconLock","getLockState","SMARTTYPES","AlexaSmartNames","translated","editObjectName","showConfirmation","devices","browse","expanded","lastChanged","timerChanged","browseTimer","browseTimerCount","waitForUpdateID","onReadyUpdateBound","onReadyUpdate","onResultUpdateBound","onResultUpdate","isIndicate","lastBrowse","devTimer","device","dev","additionalApplianceDetails","friendlyNames","friendlyName","actions","Icon","actionIcon","lineNum","items","devSubLineByOn","devSubLineByOnSelect","onParamsChange","devSubLineTypeTitle","group","channels","names","types","byONs","smarttypes","smartTypes","c","chan","devSubLine","devLineActions","channelLineActions","renderActions","devSubLineName","devSubSubLineName","renderSelectType","renderSelectByOn","devSubLineDelete","onAskDelete","nameModified","devModified","devCount","devLine","devLineNumber","devLineExpand","onExpand","Badge","badgeContent","devLineNameBlock","devLineName","devLineDescription","friendlyDescription","devLineProgress","devLineEdit","devLineDelete","renderChannels","editedId","onKeyDown","renderDevice","_this17","renderDevices","renderConfirmDialog","devLineEnabled","devSubLineEdit","OnOff","Brightness","RGB","AlisaDevices","iobID","main","getId","devSubSubLine","setId","devSubLineSetId","attributes","description","isIFrame","self","App","amazonAlexa","yandexAlisa","AppBar","Tabs","getSelectedTab","selectTab","Tab","data-name","tabContent","Tabs_Options","onLoadConfig","updateNativeValue","Tabs_Enums","Tabs_AlexaSmartNames","AlisaSmartNames","Extended","Tabs_Services","onShowError","renderError","renderSaveCloseButtons","Components_Loader","Boolean","hostname","createTheme","createMuiTheme","dark","build","ReactDOM","render","MuiThemeProvider","src_App","onThemeChange","_theme","getElementById","serviceWorker","ready","registration","unregister","__webpack_require__"],"mappings":"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","file":"static/js/main.ae459fb9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAT3SURBVHhe7V0tUxxBEKVSkREIZCQiMhKZH4BKRSAQCAQmLgKBQ/AD8gMQSEREJAKBRCAQkYiIiIiIiIiISz+qu2pqs9zN3rzh5nafmDo+dofufvO6Z7p7l43ZbLah0YYNBERDi1FgCIw23EJr7lnMEDPEjD5WihlihpghZjTEAoEhMOSScrfQCuANsUVgCAy5LgXwhlggMKYMxov3H1/Z2LdxYePexi8bszUckBvyX9o4sLGZu0Macl21AG4C79r4voaGz1ksP02vD0MMnXMtHQxnw+cEhCv7+tDGNn6XI1Rr17hOb1wP6BOAnTNZQgXDhf7mwoLaB60ZliGPu6pwuQ8sQNhgBCNuTMDXDMVbnQP62YCeYMk5Q04aGB4jIBhWzKiBCMM7IMGQ3VJAKGC4e4pgPUrX9JSh3WVhEUL/opjIAgPbVwh0Vbo61vF+0/va9d8vkZ8FBs4RAOOwRJh1vdf0PnH9L0p0YIGBAxHA2C4RZl3vTeLlfYkOLDAiiBX5zBJFVnmvgbEV2/kSOVhgPB6CSgRZ93sdjCIbCAxS8lBgkAzJYKXAEBj/V+kYq4KxOlc5B8MGihkkdgkMkiEZjBIYAmP1McMTk3v2iTTMnSfpIlmH71EeRb7s2Q6hk2OGKbxp48zGn1B+wSeuw/VVatape5sUGKYsmJA2NNza90jQ7dh4rJ/g07/Hz6PwEzUWes16cmCYUV/aOE0YgHT1u5yg68BEehugnObct8w1k2BGAsRf+/p4SUMd2724vxogowfDXRMMCEMWuRncnwBSNFffghg1GAi6SYxYihFdo9l8R240xB5qUB87GNgFgRXXy7imOTXrrz7vGXne4jJCk+kQMxbaQmP7mhWscw1r8751MDA/7RwyWmYkseI218hDrgPb3Hh7Q+6bd+2YwYgGhxOWsTpngk9uvKIGgkmcM8xQSGnAB+9UAgMHRcx/x5p/zMyIhrgqnYlmOJzUH3NZAmNBtpWxyhYZmf03GPO1upv64cqJGYtWVc9hqniP3QmG0RSnmNEAGKhHAODau6nLobrOOUwWL8hW3VQ0Ut+wjNVhXjx9VNSoPJWtbXoCp7oqYxseB0PiUSfw3JVuxlJuKtdYbIr2bAqUtW0FDMiR5KhUz8gFhnHgmbNLiZIrADnKlanDXNQxVOlbxngdQ3Zr4F+QBs+Z14N11C+qlVydxePc2vYZ2l1W2h2CNDiyr33dIfg5tq/BBtxHL7Wy42aT54w5Lkt9U4tcQs2Y8QRLcA5RR+ETxin2l4sAb/33jAW5Vm6qZUAEhrrQV9+F3iJDxAwxQ8yotYlRACexS26KZEhGDGoJjN8uDK1dkmGg55rDdG/q3SHxXkK9VaeArayYEQ0EU3/fVFGDAwsMvHgXKZGpv4mt6JWALDCQTcWLdwFIkUDP5edZfwf6ut7Qv+gBHAoYXlzBY1rxZGmVTkCWAVnzmL7o2Y0aS3G9hAaGAxKt/FN7r21RrIjFwQYD7uohYcgoXZa7pmAE+oK3GGyjguHsACDncQiyT5RH8ZA8XlRPEZqh+JA5/BwB+aFH+lw5dpE0nehghJJufP2XgAHnjmpgOEv0/zNaAWOIK9C1s42qzJCBh/2jL4ExwI3UXlwCQ2AMo2/tFdnK/GKGmCFm9LFRzBAzxAwxoyEWCAyBIZeUu3VWAG+ILQJDYMh1KYA3xAKB0TgY/wCrKvMDWcWHNQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAR7SURBVHhe7Z2hUhxBEIap6AhEZAQCkQeIiIjgAVApJAKBTVUkAkFVHiEPgEAikQhEREQkIhIREYFAREZc+j96iq27pdid+Xe2b/cXUyHczl7PfP13z8zODluLxWJLJUYfCEQgZxQMwYgRFqKFZylDypAy2lQpZUgZUoaUEUgFgiEYCkldh9BK4IHUIhiCodClBB5IBYIxZxivPn1+beXQyoWVWysPVhYbWGA37L+0cmRlu+sIqc91gyVwM3jfyu8N7PguznJv7Tro09FdrqXDcDV8a0C4tp+Prezisy5GRbvG2/TO24H2JGDnTJVQYbjRv9xYSPsoWscy7PFQlULuHQsIG0ZSxHcz8C2j4VHvgfZZQTuhknOGnTQYniNgGDxm0iBSxzuQpJD9UiAUGB6eUrKeZGh6rqM9ZMEJ0f6inMiCgeErDLou9Y5NrG/tvvH2H5bYz4KBeQRgHJcYk1PXvvPMv/sspz6jjn3/qdtwUXI/FgxMiABjt8SYnLpBYGBOhfbf5rQh1WHBSEmsKGbmNKQRsykjmkwb3jiMh5z6bBjLSVCJIbl1I8CA7Q6jqA9YyhAMn5XnOhXqTQFGGskVJc+STpQyfDncwsOeh4ib0g4tqa8w9RirBaPpRQyvyPVKwVh5YjYyjA/+/T9ygTLqMfpgCgl8xzvijtGpufcQjMecIRiBcoZgBIKRliLuc0MMo57C1NNcY7QVgARSMARjfWsmwytKQsXY36/lkMZcx2CkJfxBNpd1cRSGQ2z8PMO9EttlkDd2unTcENfMFkZq+Ev/DtHpz91TMF7YtysYFXZ6r3qh/f+n/+49K5n2BTl7ZTTG+GmrzJ5gEB459vHEFmUIBnP2mQNDCbwlJzDipWBMYEOC5wi8J4F5xmj7fBkOOZVJn2CMlTNWQ5p5pWAEgvHVw8Rpn9zDvFZh6mkJPcJO9OJnKlPJGYIRKEwJRhQYzNifey/ljAqLkl3hCIZgxHsG3tV7h7xOypAypIw2hUkZUkYsZZhHfrRyZQXHDqHg5+UTv5pl9sqwDvhi5V/LQyb8ruo61axhuCLQ6cuOt4JTblBOGoCqKWTuMBCOsDi3pgCHg8+uaoWqucNAfkCHrx2n5ArBZ9VeExAMwWgdTf11z6h2doiPmuD9Jy1P/pA3qoUp+65QZ4ekcwmrnaqD4asn6tETuNkR6lQdnPda/bypRqJePmVbKdXOn2rYcVkyYKBMjMwYHLw7yklsrpBRJ31mQ9rRWLRViAVjGyMXB1JkUIlnjVG34Yhof9HLOhQYvpHswGHgLaI5nt5ZfAI0DYYDSWcVzu1c26JckRTNhoFwlV7pgkImGbI8NKX3CP9gaMsIkVQYrg4ASTv8kNSR3LB2hOEfxWhGw/vcw+cRsB/tSMkabcMoktYmOozGjhH9lYCey/iDwXCV6O9n9AAyKIw+oUDXkt7PUEdynipKGT3CyNBOJxiCwZH10J5a+/5ShpQhZbSpTsqQMqQMKSOQCgRDMBSSug6RlcADqUUwBEOhSwk8kAoEIziM/5ZTLyXvAlkpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAUXSURBVHhe7V2rUlxBEE1FRyCQEQhEPiAiIoIPQKWQCAQ2VZEIBFX5hHwAAolEIhAREZGISEREBAIRGbHpQ/VUpnYvl57pvtne3SOmCnZnhp4+fU7P497hxWw2e8GSwwcEIlEwEgyCkUMWsskzmUFmkBlDrCQzyAwyg8xIxAKCQTAoSdYpNBN4IrYQDIJB6WICT8QCgrHJYLz88PGVlEMpF1JupTxIma1ggd2w/1LKkZQt6wyppd5kCVwM3pfycwUdbwmWexnXQYujLXXDwVA2fKlAuJafj6Xs4juLUdnq6Jje6DgwngLYeSRLQsFQo3+osaD2UTbHRtijUlUk9y4KkGgwCiO+ioGvIwaetQ+MTwrGCZacR9gZBobmCBiGiFlrIIrjFZDCkH0vICFgqDyVZL2W0vSUo1WyEIQYvysnRoGB6SsMuvZGxyq2l3Hf6PgPPfZHgYF1BMA4bjVG2pxp27PWtqjvbV9JTrcdYsOpjuGiZwylTRQYWBABjN1WY7zO9LYPAgNrKoz/tnX8df0oMEoSa9ZMrzMrzXbNaDx2SNttBeMhAxiPi6AeQzxOUJnC9oR7ehlgR7cPomXKbIg6zrLlYAI3AzM0KMw+eCpoo2TKbMgEYJSZnCt5bjQzxhJnAcwie1J3T+vfWOpXf9fETqv8tticjhkEY/G0c2kylQWMQDvMUp2OGZbcYZEd6eed9vXNUn9epgiG8bTP4lwBYkfBuLPUJxgjZ88BsxgXGIEMXT2Zmo9egvEvkf/3BD4BGGUr4r5Fpiawg8yIWv0GMJRgEIy5hOxZfXojkmDkA6Ns4Xc/XOYNCk9ALm3XNjpxKjPwuAw0e6c3iROMzmNTy9rAusE3tgJvAXZjmUEwxlfR3dO6HnmYj0L5/bt+9rY3offYUTNn45lRSUx5VGaPYOjGX4vGerR6gBkE46kd0BZQeuSBOSNhzngOlKmDgjljICgElHMFpvs53x6GEgyCMf6qsGda541InT2RGctK4ANbKp81IE5b8sSczHQ/+Nw7nZ63deUPl9QRLkdG9OFRh3XbKCQYiWSKYESA0avx2dqthUxlc2qvPQQj0V0gBINgLC4AI6KiVx6ytIvwwdLXGVmc6bWDYFCm4mRKoum9lCspuDIIBT8/ntZZi7cPb/vI6b150GPO6aGotPkk5c/AmQQ+M+0xefvwtl+LLXSNRjj90fFScEMNykkF0ChDvH142w9sVnY/lLHUvSmVIxi/wAAFB99dPcNGSFp3HxE2rAszkB/gyIWrkJQh+G70EX/NMd19eNuvEzMIxsAkJSqB/9ZIN90dUknEyUCEIW+0yFRXHxE2VDOpVHeHlHsJTbfqiCPwIr03gbv6iLChAiPVrTq477XpvqkqUQ/dVGC6e8rbh7d9BUa5b+rSuj4aqhclU+Vmm6ab2DQ6vYs+MKS7jyAbyhON3Y8KAZwoMLaq2YnLIE9kLaOtjLsEIiYl3S/rhIGhB/oHKlV4i2gTb+903wAdwoxKO8tdhZt2r60rV4SuwCswIFfllS4wZC0lS6WpvEf4S37fjpDIUGaoXAGQ8oQfZkpIbphtYPoXYnTEwFv6gN1qP8ZRkjXGhllk2JjCwZibe/O/BDQcB0wGhrKE/z8jCxgtUsC6QesMOtJ+Mjnmq0lliiC1gUQwGjR96uAiGASjjb5TR2SW/skMMoPMmOw8IwvNV90OyhRlijJFmUrEAoJBMChJ1okFE3githAMgkHpGpKuv887tA5HhhPjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAPhJREFUeF7tyKEBADAQhLDff+nrAngqEDG5bfkEZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZgy7B/6DRu7DB74QAAAAAElFTkSuQmCC\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport './loader.css'\n\nconst styles = theme => ({\n\n});\n\nclass Loader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.size = this.props.size || 234;\n    }\n\n    render() {\n        return (\n            <div className={'logo-back logo-background-' + this.props.theme}>\n                <div className=\"logo-div\" style={{width: this.size, height: this.size}}>\n                    <div className={'logo-top logo-background-' + this.props.theme} style={{left: '37%'}}/>\n                    <div className={'logo-top logo-background-' + this.props.theme} style={{left: '57%'}}/>\n                    <div\n                        className={'logo-border logo-background-' + this.props.theme + ' logo-animate-wait'}\n                        style={{borderWidth: this.size * 0.132}}\n                    />\n                    <div className={'logo-i logo-animate-color-inside-' + this.props.theme}/>\n                    <div className={'logo-i-top logo-animate-color-inside-' + this.props.theme} style={{top: '18%'}}/>\n                    <div className={'logo-i-top logo-animate-color-inside-' + this.props.theme} style={{bottom: '18%'}}/>\n                </div>\n                <div className={'logo-animate-grow logo-animate-grow-' + this.props.theme}\n                     style={{width: this.size + 11, height: this.size + 11}}\n                />\n            </div>\n        );\n    }\n}\n\nLoader.propTypes = {\n    size: PropTypes.number,\n    theme: PropTypes.string\n};\n\nexport default withStyles(styles)(Loader);\n\n","/**\n * Copyright 2018 bluefox <dogafox@gmail.com>\n *\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\nclass I18n {\n    static translations = {\n        'en': require('./i18n/en'),\n        'ru': require('./i18n/ru'),\n        'de': require('./i18n/de'),\n    };\n\n    static lang = window.sysLang || 'en';\n\n    static setLanguage(lang) {\n        if (lang) {\n            I18n.lang = lang;\n        }\n    }\n    static getLanguage() {\n        return I18n.lang;\n    }\n    static t(word, arg1, arg2, arg3) {\n        if (I18n.translations[I18n.lang]) {\n            const w = I18n.translations[I18n.lang][word];\n            if (w) {\n                word = w;\n            } else {\n                console.log(`Translate: ${word}`);\n            }\n        }\n        if (arg1 !== undefined) {\n            word = word.replace('%s', arg1);\n            if (arg2 !== undefined) {\n                word = word.replace('%s', arg2);\n                if (arg3 !== undefined) {\n                    word = word.replace('%s', arg3);\n\n                }\n            }\n        }\n        return word;\n    }\n}\n\n/*I18n.translations = {\n    'en': require('./i18n/en'),\n    'ru': require('./i18n/ru'),\n    'de': require('./i18n/de'),\n};\nI18n.fallbacks = true;\nI18n.t = function () {};*/\n\nexport default I18n;","import PropTypes from 'prop-types';\n\nexport const PROGRESS = {\n    CONNECTING: 0,\n    CONNECTED: 1,\n    OBJECTS_LOADED: 2,\n    READY: 3\n};\n\nclass Connection {\n    constructor(props) {\n        props = props || {};\n        this.props = props;\n        this.autoSubscribes = this.props.autoSubscribes || [];\n        this.autoSubscribeLog = this.props.autoSubscribeLog;\n        this.socket = window.io.connect(\n            window.location.protocol + '//' + window.location.host.replace('3000', 8081), // todo: do replace only if not in iFrame\n            {query: 'ws=true'});\n        this.states = {};\n        this.objects = null;\n        this.scripts = {\n            list: [],\n            hosts: [],\n            groups: [],\n            instances: []\n        };\n        this.firstConnect = true;\n        this.waitForRestart = false;\n        this.systemLang = 'en';\n        this.connected = false;\n        this.statesSubscribes = {}; // subscribe for states\n        this.objectsSubscribes = {}; // subscribe for objects\n        this.onProgress = this.props.onProgress || function () {};\n        this.onError = this.props.onError || function (err) {console.error(err);};\n\n        this.socket.on('connect', () => {\n            this.connected = true;\n            if (this.firstConnect) {\n                this.onProgress(PROGRESS.CONNECTED);\n                this.firstConnect = false;\n                this.socket.emit('getUserPermissions', (err, acl) => {\n                    this.acl = acl;\n                    // Read system configuration\n                    this.socket.emit('getObject', 'system.config', (err, data) => {\n                        this.systemConfig = data;\n                        if (!err && this.systemConfig && this.systemConfig.common) {\n                            this.systemLang = this.systemConfig.common.language;\n                        } else {\n                            this.systemLang = window.navigator.userLanguage || window.navigator.language;\n\n                            if (this.systemLang !== 'en' && this.systemLang !== 'de' && this.systemLang !== 'ru') {\n                                this.systemConfig.common.language = 'en';\n                                this.systemLang = 'en';\n                            }\n                        }\n                        this.props.onLanguage && this.props.onLanguage(this.systemLang);\n\n                        this.getObjects(() => {\n                            this.onProgress(PROGRESS.READY);\n                            this.props.onReady && this.props.onReady(this.objects, this.scripts);\n                        });\n                    });\n                });\n            } else {\n                this.onProgress(PROGRESS.READY);\n            }\n\n            this.subscribe(true);\n\n            if (this.waitForRestart) {\n                window.location.reload();\n            }\n        });\n        this.socket.on('disconnect', () => {\n            this.connected = false;\n            this.subscribed = false;\n            this.onProgress(PROGRESS.CONNECTING)\n        });\n        this.socket.on('reconnect', () => {\n            this.onProgress(PROGRESS.READY);\n            if (this.waitForRestart) {\n                window.location.reload();\n            }\n        });\n        this.socket.on('reauthenticate', () => window.location.reload());\n        this.socket.on('log', message => {\n            this.props.onLog && this.props.onLog(message);\n            this.onLogHandler && this.onLogHandler(message);\n        });\n\n        this.socket.on('permissionError', err =>\n            this.onError({message: 'no permission', operation: err.operation, type: err.type, id: (err.id || '')}));\n\n        this.socket.on('objectChange', (id, obj) => setTimeout(() => this.objectChange(id, obj), 0));\n        this.socket.on('stateChange', (id, state) => setTimeout(() => this.stateChange(id, state), 0))\n    }\n\n    subscribeState(id, cb) {\n        if (!this.statesSubscribes[id]) {\n            let reg = id.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*');\n            if (reg.indexOf('*') === -1) {\n                reg += '$';\n            }\n            this.statesSubscribes[id] = {reg: new RegExp(reg), cbs: []};\n            this.statesSubscribes[id].cbs.push(cb);\n            if (this.connected) {\n                this.socket.emit('subscribe', id);\n            }\n        } else {\n            this.statesSubscribes[id].cbs.indexOf(cb) === -1 && this.statesSubscribes[id].cbs.push(cb);\n        }\n        this.getState(id, cb);\n    }\n\n    unsubscribeState(id, cb) {\n        if (this.statesSubscribes[id]) {\n            if (cb) {\n                const pos = this.statesSubscribes[id].cbs.indexOf(cb);\n                pos !== -1 && this.statesSubscribes[id].cbs.splice(pos, 1);\n            } else {\n                this.statesSubscribes[id].cbs = null;\n            }\n\n            if (this.connected && (!this.statesSubscribes[id].cbs || !this.statesSubscribes[id].cbs.length)) {\n                delete this.statesSubscribes[id];\n                this.socket.emit('unsubscribe', id);\n            }\n        }\n    }\n\n    subscribeObject(id, cb) {\n        if (!this.objectsSubscribes[id]) {\n            let reg = id.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*');\n            if (reg.indexOf('*') === -1) {\n                reg += '$';\n            }\n            this.objectsSubscribes[id] = {reg: new RegExp(reg), cbs: []};\n            this.objectsSubscribes[id].cbs.push(cb);\n            if (this.connected) {\n                this.socket.emit('subscribeObjects', id);\n            }\n        } else {\n            this.objectsSubscribes[id].cbs.indexOf(cb) === -1 && this.objectsSubscribes[id].cbs.push(cb);\n        }\n        return Promise.resolve();\n    }\n\n    unsubscribeObject(id, cb) {\n        if (this.objectsSubscribes[id]) {\n            if (cb) {\n                const pos = this.objectsSubscribes[id].cbs.indexOf(cb);\n                pos !== -1 && this.objectsSubscribes[id].cbs.splice(pos, 1);\n            } else {\n                this.objectsSubscribes[id].cbs = null;\n            }\n\n            if (this.connected && (!this.objectsSubscribes[id].cbs || !this.objectsSubscribes[id].cbs.length)) {\n                delete this.objectsSubscribes[id];\n                this.socket.emit('unsubscribeObjects', id);\n            }\n        }\n        return Promise.resolve();\n    }\n\n    objectChange(id, obj) {\n        // update main.objects cache\n        if (!this.objects) return;\n\n        let changed = false;\n        if (obj) {\n            if (obj._rev && this.objects[id]) {\n                this.objects[id]._rev = obj._rev;\n            }\n\n            if (!this.objects[id] || JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                this.objects[id] = obj;\n                changed = true;\n                let pos;\n                if (obj.type === 'instance') {\n                    pos = this.scripts.instances.indexOf(id);\n                    pos === -1 && this.scripts.instances.push(id);\n                } else\n                if (obj.type === 'script') {\n                    pos = this.scripts.list.indexOf(id);\n                    pos === -1 && this.scripts.list.push(id);\n                } else\n                if (id.match(/^script\\.js\\./) && obj.type === 'channel') {\n                    pos = this.scripts.groups.indexOf(id);\n                    pos === -1 && this.scripts.groups.push(id);\n                }\n            }\n        } else if (this.objects[id]) {\n            const oldObj = {_id: id, type: this.objects[id].type};\n            delete this.objects[id];\n            let pos;\n            if (oldObj.type === 'instance') {\n                pos = this.scripts.instances.indexOf(id);\n                if (pos !== -1) this.scripts.instances.splice(pos, 1);\n            } else\n            if (oldObj.type === 'script') {\n                pos = this.scripts.list.indexOf(id);\n                if (pos !== -1) this.scripts.list.splice(pos, 1);\n            } else\n            if (id.match(/^script\\.js\\./) && oldObj.type === 'channel') {\n                pos = this.scripts.groups.indexOf(id);\n                if (pos !== -1) this.scripts.groups.splice(pos, 1);\n            }\n            changed = true;\n        }\n\n        Object.keys(this.objectsSubscribes).forEach(_id => {\n            if (_id === id || this.objectsSubscribes[_id].reg.test(id)) {\n                this.objectsSubscribes[_id].cbs.forEach(cb => cb(id, obj));\n            }\n        });\n\n        if (this.props.onBlocklyChanges && id.match(/^system\\.adapter\\.[-\\w\\d]+\\$/)) {\n            if (obj[id].common && obj[id].common.blockly) {\n                this.props.onBlocklyChanges(id);\n            }\n        }\n        if (changed && this.props.onObjectChange) {\n            this.props.onObjectChange(this.objects, this.scripts);\n        }\n    }\n\n    stateChange(id, state) {\n        id = id ? id.replace(/[\\s'\"]/g, '_') : '';\n        for (const task in this.statesSubscribes) {\n            if (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\n                this.statesSubscribes[task].cbs.forEach(cb => cb(id, state));\n            }\n        }\n    }\n\n    getStates(cb, disableProgressUdpate) {\n        this.socket.emit('getStates', (err, res) => {\n            this.states = res;\n            !disableProgressUdpate && this.onProgress(PROGRESS.STATES_LOADED);\n            cb && setTimeout(() => cb(this.states), 0);\n        });\n    }\n\n    getState(id, cb) {\n        if (!cb) {\n            return new Promise((resolve, reject) =>\n                this.getState(id, (err, state) => err ? reject(err) : resolve(state)));\n        } else {\n            this.socket.emit('getState', id, cb);\n        }\n    }\n\n    setState(id, val, cb) {\n        if (!cb) {\n            return new Promise((resolve, reject) =>\n                this.setState(id, val, err => err ? reject(err) : resolve()));\n        } else {\n            this.socket.emit('setState', id, val, cb);\n        }\n    }\n\n    getObjects(refresh, cb, disableProgressUdpate) {\n        if (typeof refresh === 'function') {\n            disableProgressUdpate = cb;\n            cb = refresh;\n            refresh = false;\n        }\n\n        if (!refresh && this.objects) {\n            return setTimeout(() => cb && cb(this.objects), 0);\n        }\n\n        this.socket.emit('getAllObjects', (err, res) => {\n            setTimeout(() => {\n                let obj;\n                this.objects = res;\n                for (const id in this.objects) {\n                    if (!this.objects.hasOwnProperty(id) || id.slice(0, 7) === '_design') continue;\n\n                    obj = res[id];\n                    if (obj.type === 'instance') {\n                        id.startsWith('system.adapter.javascript.') && this.scripts.instances.push(parseInt(id.split('.').pop()));\n                    }\n                    if (obj.type === 'script')   this.scripts.list.push(id);\n                    if (obj.type === 'channel' && id.match(/^script\\.js\\./)) this.scripts.groups.push(id);\n                    if (obj.type === 'host')     this.scripts.hosts.push(id);\n                }\n                disableProgressUdpate && this.onProgress(PROGRESS.OBJECTS_LOADED);\n\n                cb && cb(this.objects);\n            }, 0);\n        });\n    }\n\n    subscribe(isEnable) {\n        if (isEnable && !this.subscribed) {\n            this.subscribed = true;\n            this.autoSubscribes.forEach(id => this.socket.emit('subscribeObjects', id));\n            Object.keys(this.objectsSubscribes).forEach(id => this.socket.emit('subscribeObjects', id));\n            this.autoSubscribeLog && this.socket.emit('requireLog', true);\n\n            Object.keys(this.statesSubscribes).forEach(id => this.socket.emit('subscribe', id));\n        } else if (!isEnable && this.subscribed) {\n            this.subscribed = false;\n            this.autoSubscribes.forEach(id => this.socket.emit('unsubscribeObjects', id));\n            Object.keys(this.objectsSubscribes).forEach(id => this.socket.emit('unsubscribeObjects', id));\n            this.autoSubscribeLog && this.socket.emit('requireLog', false);\n\n            Object.keys(this.statesSubscribes).forEach(id => this.socket.emit('unsubscribe', id));\n        }\n    }\n\n    delObject(id) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('delObject', id, err => {\n                err ? reject(err) : resolve();\n            });\n        });\n    }\n\n    setObject(id, obj) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('setObject', id, obj, err => {\n                err ? reject(err) : resolve();\n            });\n        });\n    }\n\n    getObject(id) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('getObject', id, (err, obj) => {\n                err ? reject(err) : resolve(obj);\n            });\n        });\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('getObject', oldId, (err, _obj) => {\n                setTimeout(() => {\n                    const obj = {common: {}};\n\n                    if (newCommon.engine  !== undefined) obj.common.engine  = newCommon.engine;\n                    if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                    if (newCommon.source  !== undefined) obj.common.source  = newCommon.source;\n                    if (newCommon.debug   !== undefined) obj.common.debug   = newCommon.debug;\n                    if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                    if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                        if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                            if (newCommon.engineType !== undefined) obj.common.engineType  = newCommon.engineType || 'Javascript/js';\n\n                            this.socket.emit('extendObject', oldId, obj, err => err ? reject(err) : resolve());\n                        } else {\n                            this.socket.emit('extendObject', oldId, obj, err => err ? reject(err) : resolve());\n                        }\n                    } else {\n                        // let prefix;\n\n                        // let parts = _obj.common.engineType.split('/');\n\n                        // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                        if (_obj && _obj.common) {\n                            _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                            this.socket.emit('delObject', oldId, err => {\n                                if (err) {\n                                    reject(err);\n                                } else {\n                                    if (obj.common.engine  !== undefined) _obj.common.engine  = obj.common.engine;\n                                    if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                    if (obj.common.source  !== undefined) _obj.common.source  = obj.common.source;\n                                    if (obj.common.name    !== undefined) _obj.common.name    = obj.common.name;\n                                    if (obj.common.debug   !== undefined) _obj.common.debug   = obj.common.debug;\n                                    if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                    delete _obj._rev;\n\n                                    // Name must always exist\n                                    _obj.common.name = newCommon.name;\n\n                                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                    this.socket.emit('setObject', newId, _obj, err => err ? reject(err) : resolve());\n                                }\n                            });\n                            return;\n                        } else {\n                            _obj = obj;\n                        }\n\n                        // Name must always exist\n                        _obj.common.name = newCommon.name;\n\n                        _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                        this.socket.emit('setObject', newId, _obj, err => err ? reject(err) : resolve());\n                    }\n                }, 0);\n            });\n        });\n    }\n\n    getAdapterInstances(adapter) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('getObjectView', 'system', 'instance', {startkey: 'system.adapter.' + adapter, endkey: 'system.adapter.' + (adapter ? adapter + '.' : '') + '\\u9999'}, (err, doc) => {\n                if (err) {\n                    reject(err);\n                } else {\n                    resolve(doc.rows.map(item => item.value));\n                }\n            });\n        });\n    }\n\n    _deleteGroup(id, originalGroup, confirmed, deleted) {\n        if (confirmed.indexOf(id) === -1) {\n            confirmed.push(id);\n        }\n\n        return new Promise((resolve, reject) => {\n            // find all elements\n            for (let l = 0; l < this.scripts.list.length; l++) {\n                if (this.scripts.list[l].substring(0, id.length + 1) === id + '.' &&\n                    (!deleted || deleted.indexOf(this.scripts.list[l]) === -1)) {\n                    return this.deleteId(this.scripts.list[l], id, confirmed, deleted);\n                }\n            }\n\n            for (let g = 0; g < this.scripts.groups.length; g++) {\n                if (this.scripts.groups[g].substring(0, id.length + 1) === id + '.') {\n                    return this.deleteId(this.scripts.groups[g], id, confirmed, deleted);\n                }\n            }\n\n            this.socket.emit('delObject', id, err => {\n                if (err) {\n                    reject(err);\n                } else if (originalGroup !== id) {\n                    return this.deleteId(originalGroup, null, confirmed, deleted);\n                } else {\n                    // finish\n                    resolve();\n                }\n            });\n        });\n    }\n\n    deleteId(id, originalGroup, confirmed, deleted) {\n        originalGroup = originalGroup || id;\n        confirmed     = confirmed     || [];\n        deleted       = deleted       || [];\n\n        return new Promise((resolve, reject) => {\n            if (this.objects[id] && this.objects[id].type === 'script') {\n                if (this.props.onConfirmDelete) {\n                    this.props.onConfirmDelete(false, this.objects[id].common.name, result => {\n                        if (result) {\n                            this.socket.emit('delObject', id, err => {\n                                if (err) {\n                                    reject(err);\n                                } else {\n                                    deleted.push(id);\n                                    return this.deleteId(originalGroup, null, confirmed, deleted);\n                                }\n                            });\n                        } else {\n                            // Do nothing\n                            reject('canceled');\n                        }\n                    });\n                } else {\n                    this.socket.emit('delObject', id, err => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            deleted.push(id);\n                            return this.deleteId(originalGroup, null, confirmed, deleted);\n                        }\n                    });\n                }\n            } else {\n                let name = id;\n                if (confirmed.indexOf(id) === -1) {\n                    if (this.objects[id] && this.objects[id].common && this.objects[id].common.name) {\n                        name = this.objects[id].common.name;\n                    }\n\n                    if (this.props.onConfirmDelete) {\n                        this.props.onConfirmDelete(true, name, result => {\n                            if (result) {\n                                return this._deleteGroup(id, originalGroup, confirmed, deleted);\n                            } else {\n                                reject('canceled');\n                            }\n                        });\n                    } else {\n                        return this._deleteGroup(id, originalGroup, confirmed, deleted);\n                    }\n                } else {\n                    return this._deleteGroup(id, originalGroup, confirmed, deleted);\n                }\n            }\n        });\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        return new Promise((resolve, reject) => {\n            if (!_list) {\n                _list = [];\n\n                // collect all elements to rename\n                // find all elements\n                for (let l = 0; l < this.scripts.list.length; l++) {\n                    if (this.scripts.list[l].substring(0, id.length + 1) === id + '.') {\n                        _list.push(this.scripts.list[l]);\n                    }\n                }\n                for (let g = 0; g < this.scripts.groups.length; g++) {\n                    if (this.scripts.groups[g].substring(0, id.length + 1) === id + '.') {\n                        _list.push(this.scripts.list[g]);\n                    }\n                }\n\n                this.socket.emit('getObject', id, (err, obj) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        obj = obj || {common: {}};\n                        obj.common.name = newName;\n                        obj._id = newId;\n\n                        this.socket.emit('delObject', id, err => {\n                            if (err) {\n                                reject(err);\n                            } else {\n                                this.socket.emit('setObject', newId, obj, err => {\n                                    if (err) {\n                                        reject(err);\n                                    } else {\n                                        return this.renameGroup(id, newId, newName, _list);\n                                    }\n                                });\n                            }\n                        });\n                    }\n                });\n            } else {\n                if (_list.length) {\n                    let nId = _list.pop();\n\n                    this.socket.emit('getObject', nId, (err, obj) => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            this.socket.emit('delObject', nId, err => {\n                                if (err) {\n                                    reject(err);\n                                } else {\n                                    nId = newId + nId.substring(id.length);\n                                    this.socket.emit('setObject', nId, obj, err => {\n                                        if (err) {\n                                            reject(err);\n                                        } else {\n                                            return this.renameGroup(id, newId, newName, _list);\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                    });\n                } else {\n                    resolve();\n                }\n            }\n        });\n    }\n\n    getScripts() {\n        return this.scripts;\n    }\n\n    sendTo(instance, command, data, cb) {\n        this.socket.emit('sendTo', instance, command, data, cb);\n    }\n\n    extendObject(id, obj, cb) {\n        this.socket.emit('extendObject', id, obj, cb);\n    }\n\n    registerLogHandler(handler) {\n        this.onLogHandler = handler;\n    }\n\n    unregisterLogHandler(handler) {\n        this.onLogHandler = null;\n    }\n\n    getEnums(_enum) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('getObjectView', 'system', 'enum', {startkey: 'enum.' + (_enum || ''), endkey: 'enum.' + (_enum ? (_enum + '.') : '') + '\\u9999'}, (err, res) => {\n                if (!err && res) {\n                    const _res   = {};\n                    for (let i = 0; i < res.rows.length; i++) {\n                        if (_enum && res.rows[i].id === 'enum.' + _enum) continue;\n                        _res[res.rows[i].id] = res.rows[i].value;\n                    }\n                    resolve(_res);\n                } else {\n                    reject(err);\n                }\n            });\n        });\n    }\n\n}\n\nConnection.Connection = {\n    onLog: PropTypes.func,\n    onReady: PropTypes.func,\n    onProgress: PropTypes.func,\n};\n\nexport default Connection;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport I18n from '../i18n';\n\nconst styles = theme => ({\n});\n\nclass DialogError extends React.Component {\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","const primaryColor = '#64b5f6';\n\nexport default {\n    primaryColor,\n    type: 'light',\n    saveToolbar: {\n        background: primaryColor,\n        button: {\n            borderRadius: 3,\n            height: 32\n        }\n    }\n}","import React, {Component} from 'react';\nimport Connection from './Connection';\nimport {PROGRESS} from './Connection';\nimport I18n from './i18n';\nimport DialogError from './Dialogs/Error';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Fab from '@material-ui/core/Fab';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport {MdSave as IconSave} from 'react-icons/md'\nimport {MdClose as IconClose} from 'react-icons/md'\n\nimport Theme from './Theme';\n\nclass GenericApp extends Component {\n    constructor(props) {\n        super(props);\n\n        // extract instance from URL\n        this.instance = parseInt(window.location.search.slice(1), 10) || 0;\n        // extract adapter name from URL\n        const tmp = window.location.pathname.split('/');\n        this.adapterName = tmp[tmp.length - 2] || 'iot';\n        this.instanceId  = 'system.adapter.' + this.adapterName + '.' + this.instance;\n\n        this.state = {\n            selectedTab: window.localStorage[this.adapterName + '-adapter'] || '',\n            selectedTabNum: -1,\n            native: {},\n            errorText: '',\n            changed: false,\n            connected: false,\n            loaded: false,\n            themeType: 'light',\n            toast: ''\n        };\n\n        this.savedNative = {}; // to detect if the config changed\n\n        this.socket = new Connection({\n            onProgress: progress => {\n                if (progress === PROGRESS.CONNECTING) {\n                    this.setState({connected: false});\n                } else if (progress === PROGRESS.READY) {\n                    this.setState({connected: true});\n                } else {\n                    this.setState({connected: true});\n                }\n            },\n            onReady: (objects, scripts) => {\n                I18n.setLanguage(this.socket.systemLang);\n                this.socket.getObject(this.instanceId)\n                    .then(obj => {\n                        this.common = obj.common;\n                        this.setState({native: obj.native, loaded: true});\n                    });\n            },\n            onError: err => {\n                console.error(err);\n            }\n        });\n    }\n\n    selectTab(tab, index) {\n        window.localStorage[this.adapterName + '-adapter'] = tab;\n        this.setState({selectedTab: tab, selectedTabNum: index})\n    }\n\n    onSave(isClose) {\n        let oldObj;\n        this.socket.getObject(this.instanceId)\n            .then(_oldObj => {\n                oldObj = _oldObj || {};\n\n                for (const a in this.state.native) {\n                    if (this.state.native.hasOwnProperty(a)) {\n                        oldObj.native[a] = this.state.native[a];\n                    }\n                }\n\n                if (this.state.common) {\n                    for (const b in this.state.common) {\n                        if (this.state.common.hasOwnProperty(b)) {\n                            oldObj.common[b] = this.state.common[b];\n                        }\n                    }\n                }\n\n                return this.socket.setObject(this.instanceId, oldObj);\n            })\n            .then(() => {\n                this.savedNative = oldObj.native;\n                this.setState({changed: false});\n                isClose && GenericApp.onClose();\n            });\n    }\n\n    renderToast() {\n        if (!this.state.toast) return null;\n        return (\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                open={true}\n                autoHideDuration={6000}\n                onClose={() => this.setState({toast: ''})}\n                ContentProps={{\n                    'aria-describedby': 'message-id',\n                }}\n                message={<span id=\"message-id\">{this.state.toast}</span>}\n                action={[\n                    <IconButton\n                        key=\"close\"\n                        aria-label=\"Close\"\n                        color=\"inherit\"\n                        className={this.props.classes.close}\n                        onClick={() => this.setState({toast: ''})}\n                    >\n                        <IconClose />\n                    </IconButton>,\n                ]}\n            />);\n    }\n\n    static onClose() {\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            try {\n                if (window.parent.$iframeDialog && typeof window.parent.$iframeDialog.close === 'function') {\n                    window.parent.$iframeDialog.close();\n                } else {\n                    window.parent.postMessage('close', '*');\n                }\n            } catch (e) {\n                window.parent.postMessage('close', '*');\n            }\n        }\n    }\n\n    renderError() {\n        if (!this.state.errorText) return null;\n        return (<DialogError text={this.state.text} onClose={() => this.setState({errorText: ''})}/>);\n    }\n\n    getIsChanged(native) {\n        native = native || this.state.native;\n        return JSON.stringify(native) !== JSON.stringify(this.savedNative);\n    }\n\n    onLoadConfig(newNative) {\n        if (JSON.stringify(newNative) !== JSON.stringify(this.state.native)) {\n            this.setState({native: newNative, changed: this.getIsChanged(newNative)})\n        }\n    }\n\n    renderSaveCloseButtons() {\n        const buttonStyle = {\n            borderRadius: Theme.saveToolbar.button.borderRadius || 3,\n            height: Theme.saveToolbar.button.height || 32,\n        };\n\n        return (\n            <Toolbar position=\"absolute\" style={{bottom: 0, left: 0, right: 0, position: 'absolute', background: Theme.saveToolbar.background}}>\n                <Fab variant=\"extended\" aria-label=\"Save\" disabled={!this.state.changed} onClick={() => this.onSave(false)} style={buttonStyle}>\n                    <IconSave />{I18n.t('Save')}\n                </Fab>\n                <Fab variant=\"extended\" aria-label=\"Save and close\" disabled={!this.state.changed} onClick={() => this.onSave(true)} style={Object.assign({}, buttonStyle, {marginLeft: 10})}>\n                    <IconSave />{I18n.t('Save and close')}\n                </Fab>\n                <div style={{flexGrow: 1}}/>\n                <Fab variant=\"extended\" aria-label=\"Close\" onClick={() => GenericApp.onClose()} style={buttonStyle}>\n                    <IconClose />{I18n.t('Close')}\n                </Fab>\n            </Toolbar>)\n    }\n\n    updateNativeValue(attr, value) {\n        const native = JSON.parse(JSON.stringify(this.state.native));\n        if (native[attr] !== value) {\n            native[attr] = value;\n            const changed = this.getIsChanged(native);\n            this.setState({native, changed});\n        }\n    }\n\n    showError(text) {\n        this.setState({errorText: text});\n    }\n\n    showToast(toast) {\n        this.setState({toast});\n    }\n\n    render() {\n        return null;\n    }\n}\n\nexport default GenericApp;\n","/**\n * Copyright 2018 bluefox <dogafox@gmail.com>\n *\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\nimport React from 'react';\nimport I18n from '../i18n';\n\nconst NAMESPACE = 'material';\nconst days = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nclass Utils {\n    static namespace = NAMESPACE;\n    static INSTANCES = 'instances';\n    static dateFormat = ['DD', 'MM'];\n\n    static CapitalWords(name) {\n        return (name || '').split(/[\\s_]/)\n            .filter(item => item)\n            .map(word => word ? word[0].toUpperCase() + word.substring(1).toLowerCase() : '')\n            .join(' ');\n    }\n\n    static getObjectName(objects, id, settings, options, isDesc) {\n        let item = objects[id];\n        let text = id;\n        const attr = isDesc ? 'desc' : 'name';\n\n        options = options || {};\n        if (!options.language) {\n            options.language = (objects['system.config'] && objects['system.config'].common && objects['system.config'].common.language) || window.sysLang || 'en';\n        }\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n            text = text.replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        } else {\n            let pos = id.lastIndexOf('.');\n            text = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            text = Utils.CapitalWords(text);\n        }\n        return text.trim();\n    }\n\n    static getObjectNameFromObj(obj, settings, options, isDesc) {\n        let item = obj;\n        let text = obj._id;\n        const attr = isDesc ? 'desc' : 'name';\n\n        options = options || {};\n\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n            text = text.replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        }\n        return text.trim();\n    }\n\n    static getSettingsOrder(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subOrder && settings[user].subOrder[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subOrder[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].order) {\n                        return JSON.parse(JSON.stringify(settings[user].order));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    static getSettingsCustomURLs(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subURLs && settings[user].subURLs[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subURLs[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].URLs) {\n                        return JSON.parse(JSON.stringify(settings[user].URLs));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    static reorder(list, source, dest) {\n        const result = Array.from(list);\n        const [removed] = result.splice(source, 1);\n        result.splice(dest, 0, removed);\n        return result;\n    };\n\n    static getSettings(obj, options, defaultEnabling) {\n        let settings;\n        const id = (obj && obj._id) || (options && options.id);\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        if (obj && obj.custom) {\n            settings = obj.custom || {};\n            settings = settings[NAMESPACE] && settings[NAMESPACE][options.user || 'admin'] ? JSON.parse(JSON.stringify(settings[NAMESPACE][options.user || 'admin'])) : {enabled: true};\n        } else {\n            settings = {enabled: defaultEnabling === undefined ? true : defaultEnabling, useCustom: false};\n        }\n\n        if (!settings.hasOwnProperty('enabled')) {\n            settings.enabled = defaultEnabling === undefined ? true : defaultEnabling;\n        }\n\n        if (false && settings.useCommon) {\n            if (obj.color) settings.color = obj.color;\n            if (obj.icon)  settings.icon  = obj.icon;\n            if (obj.name)  settings.name  = obj.name;\n        } else {\n            if (options) {\n                if (!settings.name  && options.name)  settings.name  = options.name;\n                if (!settings.icon  && options.icon)  settings.icon  = options.icon;\n                if (!settings.color && options.color) settings.color = options.color;\n            }\n\n            if (obj) {\n                if (!settings.color && obj.color) settings.color = obj.color;\n                if (!settings.icon  && obj.icon)  settings.icon  = obj.icon;\n                if (!settings.name  && obj.name)  settings.name  = obj.name;\n            }\n        }\n\n        if (typeof settings.name === 'object') {\n            settings.name = settings.name[options.language] || settings.name.en;\n\n            settings.name = (settings.name || '').replace(/_/g, ' ');\n\n            if (settings.name === settings.name.toUpperCase()) {\n                settings.name = settings.name[0] + settings.name.substring(1).toLowerCase();\n            }\n        }\n        if (!settings.name && id) {\n            let pos = id.lastIndexOf('.');\n            settings.name = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            settings.name = (settings.name || '').replace(/_/g, ' ');\n            settings.name = Utils.CapitalWords(settings.name);\n        }\n\n        return settings;\n    }\n\n    static setSettings(obj, settings, options) {\n        if (obj) {\n            obj.common = obj.common || {};\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[NAMESPACE] = obj.common.custom[NAMESPACE] || {};\n            obj.common.custom[NAMESPACE][options.user || 'admin'] = settings;\n            const s = obj.common.custom[NAMESPACE][options.user || 'admin'];\n            if (s.useCommon) {\n                if (s.color !== undefined) {\n                    obj.common.color = s.color;\n                    delete s.color;\n                }\n                if (s.icon !== undefined) {\n                    obj.common.icon = s.icon;\n                    delete s.icon;\n                }\n                if (s.name !== undefined) {\n                    if (typeof obj.common.name !== 'object') {\n                        obj.common.name = {};\n                        obj.common.name[options.language] = s.name;\n                    } else{\n                        obj.common.name[options.language] = s.name;\n                    }\n                    delete s.name;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    static getIcon(settings, style) {\n        if (settings && settings.icon) {\n            if (settings.icon.startsWith('data:image')) {\n                return (<img alt={settings.name} src={settings.icon} style={style || {}}/>);\n            } else { // may be later some changes for second type\n                return (<img alt={settings.name} src={settings.icon} style={style || {}}/>);\n            }\n        }\n        return null;\n    }\n\n    static getObjectIcon(id, obj) {\n        if (obj && obj.common && obj.common.icon) {\n            let icon = obj.common.icon;\n            if (icon.startsWith('data:image')) {\n                return icon;\n            } else {\n                const parts = id.split('.');\n                if (parts[0] === 'system') {\n                    icon = 'adapter/' + parts[2] + icon;\n                } else {\n                    icon = 'adapter/' + parts[0] + icon;\n                }\n\n                if (window.location.pathname.match(/material\\/[.\\d]+/)) {\n                    icon = '../../' + icon;\n                } else\n                if (window.location.pathname.match(/material\\//)) {\n                    icon = '../' + icon;\n                }\n                return icon;\n            }\n        } else {\n            return null;\n        }\n\n    }\n\n    static splitCamelCase(text) {\n        if (false && text !== text.toUpperCase()) {\n            const words = text.split(/\\s+/);\n            for (let i = 0; i < words.length; i++) {\n                let word = words[i];\n                if (word.toLowerCase() !== word && word.toUpperCase() !== word) {\n                    let z = 0;\n                    const ww = [];\n                    let start = 0;\n                    while (z < word.length) {\n                        if (word[z].match(/[A-ZÜÄÖА-Я]/)) {\n                            ww.push(word.substring(start, z));\n                            start = z;\n                        }\n                        z++;\n                    }\n                    if (start !== z) {\n                        ww.push(word.substring(start, z));\n                    }\n                    for (let k = 0; k < ww.length; k++) {\n                        words.splice(i + k, 0, ww[k]);\n                    }\n                    i += ww.length;\n                }\n            }\n\n            return words.map(w => {\n                w = w.trim();\n                if (w) {\n                    return w[0].toUpperCase() + w.substring(1).toLowerCase();\n                }\n                return '';\n            }).join(' ');\n        } else {\n            return Utils.CapitalWords(text);\n        }\n    }\n\n    // https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n    static isUseBright(color, defaultValue) {\n        if (color === null || color === undefined || color === '') {\n            return defaultValue === undefined ? true : defaultValue;\n        }\n        color = color.toString();\n        if (color.indexOf('#') === 0) {\n            color = color.slice(1);\n        }\n        let r;\n        let g;\n        let b;\n\n        const rgb = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n        if (rgb && rgb.length === 4) {\n            r = parseInt(rgb[1], 10);\n            g = parseInt(rgb[2], 10);\n            b = parseInt(rgb[3], 10);\n        } else {\n            // convert 3-digit hex to 6-digits.\n            if (color.length === 3) {\n                color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n            }\n            if (color.length !== 6) {\n                return false;\n            }\n\n            r = parseInt(color.slice(0, 2), 16);\n            g = parseInt(color.slice(2, 4), 16);\n            b = parseInt(color.slice(4, 6), 16);\n        }\n\n\n        // http://stackoverflow.com/a/3943023/112731\n        return (r * 0.299 + g * 0.587 + b * 0.114) <= 186;\n    };\n\n    static getTimeString(seconds) {\n        seconds = parseFloat(seconds);\n        if (isNaN(seconds)) {\n            return '--:--';\n        }\n        const hours = Math.floor(seconds / 3600);\n        let minutes = Math.floor((seconds % 3600) / 60);\n        let secs = seconds % 60;\n        if (hours) {\n            if (minutes < 10) minutes = '0' + minutes;\n            if (secs < 10) secs = '0' + secs;\n            return hours + ':' + minutes + ':' + secs;\n        } else {\n            if (secs < 10) secs = '0' + secs;\n            return minutes + ':' + secs;\n        }\n    }\n\n    static getWindDirection(angle) {\n        if (angle >= 0 && angle < 11.25) {\n            return 'N'\n        } else if (angle >= 11.25 && angle < 33.75) {\n            return 'NNE'\n        } else if (angle >= 33.75 && angle < 56.25) {\n            return 'NE'\n        } else if (angle >= 56.25 && angle < 78.75) {\n            return 'ENE'\n        } else if (angle >= 78.75 && angle < 101.25) {\n            return 'E'\n        } else if (angle >= 101.25 && angle < 123.75) {\n            return 'ESE'\n        } else if (angle >= 123.75 && angle < 146.25) {\n            return 'SE'\n        } else if (angle >= 146.25 && angle < 168.75) {\n            return 'SSE'\n        } else if (angle >= 168.75 && angle < 191.25) {\n            return 'S'\n        } else if (angle >= 191.25 && angle < 213.75) {\n            return 'SSW'\n        } else if (angle >= 213.75 && angle < 236.25) {\n            return 'SW'\n        } else if (angle >= 236.25 && angle < 258.75) {\n            return 'WSW'\n        } else if (angle >= 258.75 && angle < 281.25) {\n            return 'W'\n        } else if (angle >= 281.25 && angle < 303.75) {\n            return 'WNW'\n        } else if (angle >= 303.75 && angle < 326.25) {\n            return 'NW'\n        } else if (angle >= 326.25 && angle < 348.75) {\n            return 'NNW'\n        } else if (angle >= 348.75) {\n            return 'N'\n        }\n    }\n\n    static padding(num) {\n        if (typeof num === 'string') {\n            if (num.length < 2) {\n                return '0' + num;\n            } else {\n                return num;\n            }\n        } else if (num < 10) {\n            return '0' + num;\n        } else {\n            return num;\n        }\n    }\n\n    static setDataFormat(format) {\n        if (format) {\n            Utils.dateFormat = format.toUpperCase().split(/[.-/]/);\n            Utils.dateFormat.splice(Utils.dateFormat.indexOf('YYYY'), 1);\n        }\n    }\n\n    static date2string(now) {\n        if (typeof now === 'string') {\n            now = now.trim();\n            if (!now) return '';\n            // only letters\n            if (now.match(/^[\\w\\s]+$/)) {\n                // Day of week\n                return now;\n            }\n            let m = now.match(/(\\d{1,4})[-./](\\d{1,2})[-./](\\d{1,4})/);\n            if (m) {\n                let a = [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\n                let year = a.find(y => y > 31);\n                a.splice(a.indexOf(year), 1);\n                let day = a.find(m => m > 12);\n                if (day) {\n                    a.splice(a.indexOf(day), 1);\n                    now = new Date(year, a[0] - 1, day);\n                } else {\n                    // MM DD\n                    if (Utils.dateFormat[0][0] === 'M' && Utils.dateFormat[1][0] === 'D') {\n                        now = new Date(year, a[0] - 1, a[1]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[1] - 1, a[0]);\n                        }\n                    } else\n                    // DD MM\n                    if (Utils.dateFormat[0][0] === 'D' && Utils.dateFormat[1][0] === 'M') {\n                        now = new Date(year, a[1] - 1, a[0]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[0] - 1, a[1]);\n                        }\n                    } else {\n                        now = new Date(now);\n                    }\n                }\n            } else {\n                now = new Date(now);\n            }\n        } else {\n            now = new Date(now);\n        }\n\n        let date = I18n.t('dow_' + days[now.getDay()]).replace('dow_', '');\n        date += '. ' + now.getDate() + ' ' + I18n.t('month_' + months[now.getMonth()]).replace('month_', '');\n        return date;\n    }\n\n    static renderTextWithA(text) {\n        const m = text.match(/<a .*<\\/a>/);\n        if (m) {\n            let href = m[0].match(/href=\"([^\"]+)\"/) || m[0].match(/href='([^']+)'/);\n            let target = m[0].match(/target=\"([^\"]+)\"/) || m[0].match(/target='([^']+)'/);\n            const title = m[0].match(/>([^<]*)</);\n            const p = text.split(m[0]);\n            return [\n                p[0] ? (<span key=\"a1\">{p[0]}</span>) : null,\n                (<a  key=\"a2\" href={href ? href[1] : ''} target={target ? target[1] : '_blank'}>{title ? title[1] : ''}</a>),\n                p[1] ? (<span key=\"a3\">{p[1]}</span>) : null\n            ];\n        } else {\n            return text;\n        }\n    }\n\n    static getSmartName(states, id, instanceId, noCommon) {\n        if (!id) {\n            if (!noCommon) {\n                if (!states.common) {\n                    return states.smartName;\n                } else {\n                    if (states && !states.common) {\n                        return states.smartName;\n                    } else {\n                        return states.common.smartName;\n                    }\n                }\n            } else {\n                if (states && !states.common) {\n                    return states.smartName;\n                } else {\n                    return (states &&\n                        states.common &&\n                        states.common.custom &&\n                        states.common.custom[instanceId]) ?\n                        states.common.custom[instanceId].smartName : undefined;\n                }\n            }\n        } else\n        if (!noCommon) {\n            return states[id].common.smartName;\n        } else {\n            return (states[id] &&\n                states[id].common &&\n                states[id].common.custom &&\n                states[id].common.custom[instanceId]) ?\n                states[id].common.custom[instanceId].smartName || null : null;\n        }\n    }\n\n    static getSmartNameFromObj(obj, instanceId, noCommon) {\n        if (!noCommon) {\n            if (!obj.common) {\n                return obj.smartName;\n            } else {\n                if (obj && !obj.common) {\n                    return obj.smartName;\n                } else {\n                    return obj.common.smartName;\n                }\n            }\n        } else {\n            if (obj && !obj.common) {\n                return obj.smartName;\n            } else {\n                return (obj &&\n                    obj.common &&\n                    obj.common.custom &&\n                    obj.common.custom[instanceId]) ?\n                    obj.common.custom[instanceId].smartName : undefined;\n            }\n        }\n    }\n\n    static enableSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n            obj.common.custom[instanceId].smartName = {};\n        } else {\n            obj.common.smartName = {};\n        }\n    }\n\n    static removeSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            if (obj.common && obj.common.custom && obj.common.custom[instanceId]) {\n                delete obj.common.custom[instanceId];\n            }\n        } else {\n            obj.common.smartName = null;\n        }\n    }\n\n    static updateSmartName(obj, newSmartName, byON, smartType, instanceId, noCommon) {\n        const language = I18n.getLanguage();\n\n        // convert Old format\n        if (typeof obj.common.smartName === 'string') {\n            const nnn = obj.common.smartName;\n            obj.common.smartName = {};\n            obj.common.smartName[language] = nnn;\n        }\n\n        // convert old settings\n        if (obj.native && obj.native.byON) {\n            delete obj.native.byON;\n            let _smartName = obj.common.smartName;\n\n            if (!_smartName || typeof _smartName !== 'object') {\n                _smartName = {en: _smartName};\n                _smartName[language] = _smartName.en;\n            }\n            obj.common.smartName = _smartName;\n        }\n        if (smartType !== undefined) {\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                obj.common.custom[instanceId].smartName.smartType = smartType;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                obj.common.smartName.smartType = smartType;\n            }\n        }\n        if (byON !== undefined) {\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                obj.common.custom[instanceId].smartName.byON = byON;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                obj.common.smartName.byON = byON;\n            }\n        }\n        if (newSmartName !== undefined) {\n            let smartName;\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                smartName = obj.common.custom[instanceId].smartName;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                smartName = obj.common.smartName;\n            }\n            smartName[language] = newSmartName;\n\n            // If smart name deleted\n            if (smartName && (!smartName[language] ||\n                (smartName[language] === obj.common.name &&\n                    (!obj.common.role || obj.common.role.indexOf('button') >= 0)))) {\n                delete smartName[language];\n                let empty = true;\n                // Check if structure has any definitions\n                for (const key in smartName) {\n                    if (smartName.hasOwnProperty(key)) {\n                        empty = false;\n                        break;\n                    }\n                }\n                // If empty => delete smartName completely\n                if (empty) {\n                    if (noCommon) {\n                        if (obj.common.custom[instanceId].smartName.byON === undefined) {\n                            delete obj.common.custom[instanceId];\n                        } else {\n                            delete obj.common.custom[instanceId].en;\n                            delete obj.common.custom[instanceId].de;\n                            delete obj.common.custom[instanceId].ru;\n                            delete obj.common.custom[instanceId].nl;\n                            delete obj.common.custom[instanceId].pl;\n                            delete obj.common.custom[instanceId].it;\n                            delete obj.common.custom[instanceId].fr;\n                            delete obj.common.custom[instanceId].pt;\n                            delete obj.common.custom[instanceId].es;\n                        }\n                    } else {\n                        if (obj.common.smartName.byON !== undefined) {\n                            delete obj.common.smartName.en;\n                            delete obj.common.smartName.de;\n                            delete obj.common.smartName.ru;\n                            delete obj.common.smartName.nl;\n                            delete obj.common.smartName.pl;\n                            delete obj.common.smartName.it;\n                            delete obj.common.smartName.fr;\n                            delete obj.common.smartName.pt;\n                            delete obj.common.smartName.es;\n                        } else {\n                            obj.common.smartName = null;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    static disableSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n            obj.common.custom[instanceId].smartName = false;\n        } else {\n            obj.common.smartName = false;\n        }\n    }\n\n    static copyToClipboard(text, e) {\n        const el = window.document.createElement('textarea');\n        el.value = text;\n        window.document.body.appendChild(el);\n        el.select();\n        window.document.execCommand('copy');\n        window.document.body.removeChild(el);\n        console.log(text);\n        e && e.stopPropagation();\n        e && e.preventDefault();\n    }\n}\n\nexport default Utils;","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport PropTypes from 'prop-types';\n\nimport I18n from '../i18n';\n\nimport {MdHelpOutline as IconHelp} from 'react-icons/md';\nimport {FaFileDownload as IconDownload} from 'react-icons/fa';\nimport {FaFileUpload as IconUpload} from 'react-icons/fa';\n\nconst styles = theme => ({\n    buttons: {\n        marginRight: 5,\n        marginTop: 5,\n        float: 'right'\n    },\n    logo: {\n        padding: 8,\n        width: 64\n    }\n});\n\nclass Logo extends Component {\n\n    static generateFile(filename, obj) {\n        const el = window.document.createElement('a');\n        el.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj, null, 2)));\n        el.setAttribute('download', filename);\n\n        el.style.display = 'none';\n        window.document.body.appendChild(el);\n\n        el.click();\n\n        window.document.body.removeChild(el);\n    }\n\n    handleFileSelect(evt) {\n        const f = evt.target.files[0];\n        if (f) {\n            const r = new window.FileReader();\n            r.onload = e => {\n                const contents = e.target.result;\n                try {\n                    const json = JSON.parse(contents);\n                    if (json.native && json.common) {\n                        if (json.common.name !== this.props.common.name) {\n                            this.props.onError(I18n.t('otherConfig', json.common.name));\n                        } else {\n                            this.props.onLoad(json.native);\n                        }\n                    } else {\n                        this.props.onError(I18n.t('invalidConfig'));\n                    }\n                } catch (e) {\n                    this.props.onError(e.toString());\n                }\n            };\n            r.readAsText(f);\n        } else {\n            alert('Failed to open JSON File');\n        }\n    }\n\n    download() {\n        const result = {\n            _id: 'system.adapter.' + this.props.common.name + '.' + this.props.instance,\n            common: JSON.parse(JSON.stringify(this.props.common)),\n            native: this.props.native\n        };\n        // remove unimportant information\n        if (result.common.news) {\n            delete result.common.news;\n        }\n        if (result.common.titleLang) {\n            delete result.common.titleLang;\n        }\n        if (result.common.desc) {\n            delete result.common.desc;\n        }\n\n        //window.open('data:application/iobroker; content-disposition=attachment; filename=' + result._id + '.json,' + JSON.stringify(result, null, 2));\n        Logo.generateFile(result._id + '.json', result);\n    }\n\n    upload() {\n        const input = window.document.createElement('input');\n        input.setAttribute('type', 'file');\n        input.setAttribute('id', 'files');\n        input.setAttribute('opacity', 0);\n        input.addEventListener('change', e => this.handleFileSelect(e, () => {}), false);\n        (input.click)();\n    }\n\n    render() {\n        return (<div>\n            {this.props.common.icon && (<img src={this.props.common.icon} className={this.props.classes.logo} alt=\"logo\"/>)}\n            {this.props.common.readme &&\n                (<Fab size=\"small\" color=\"primary\" aria-label=\"Help\" className={this.props.classes.buttons} onClick={() => {\n                    const win = window.open(this.props.common.readme, '_blank');\n                    win.focus();\n                }}><IconHelp /></Fab>)}\n            <Fab size=\"small\" color=\"primary\" aria-label=\"Load config\" className={this.props.classes.buttons} title={I18n.t('Load configuration from file')} onClick={() => this.upload()}><IconUpload /></Fab>\n            <Fab size=\"small\" color=\"primary\" aria-label=\"Save config\" className={this.props.classes.buttons} title={I18n.t('Save configuration to file')} onClick={() => this.download()}><IconDownload /></Fab>\n        </div>);\n    }\n}\n\nLogo.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n};\n\nexport default withStyles(styles)(Logo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport I18n from '../i18n';\n\nclass DialogMessage extends React.Component {\n\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"message-dialog-title\"\n                aria-describedby=\"message-dialog-description\"\n            >\n                <DialogTitle id=\"message-dialog-title\">{this.props.title || I18n.t('Message')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"message-dialog-description\">\n                        {this.props.text}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogMessage.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default DialogMessage;\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Utils from '../Components/Utils'\n\nimport {MdRefresh as IconReload} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\n\nimport I18n from '../i18n';\nimport Logo from './Logo';\nimport Message from '../Dialogs/Message';\n\nconst styles = theme => ({\n    tab: {\n        width: '100%',\n        minHeight: '100%'\n    },\n    input: {\n        minWidth: 300\n    },\n    button: {\n        marginRight: 20,\n    },\n    card: {\n        maxWidth: 345,\n        textAlign: 'center'\n    },\n    media: {\n        height: 180,\n    },\n    column: {\n        display: 'inline-block',\n        verticalAlign: 'top',\n        marginRight: 20\n    },\n    columnLogo: {\n        width: 350,\n        marginRight: 0\n    },\n    columnSettings: {\n        width: 'calc(100% - 370px)',\n    }\n});\n\nclass Options extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            inAction: false,\n            forceUserCreate: false,\n            showHint: false,\n            toast: '',\n            isInstanceAlive: false,\n        };\n\n        this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`).then(obj =>\n            this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(state =>\n                this.setState({isInstanceAlive: obj && obj.common && obj.common.enabled && state && state.val})));\n\n    }\n\n    renderInput(title, attr, type) {\n        return (<TextField\n            label={I18n.t(title)}\n            className={this.props.classes.input}\n            value={this.props.native[attr]}\n            type={type || 'text'}\n            onChange={e => this.props.onChange(attr, e.target.value)}\n            margin=\"normal\"\n        />);\n    }\n\n    renderCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image=\"alexalogo.png\"\n                    title=\"Alexa logo\"\n                />\n                <CardContent>{Utils.renderTextWithA(I18n.t('amazon link'))}</CardContent>\n            </CardActionArea>\n            <CardActions style={{textAlign: 'center'}} >\n                <Button size=\"small\" color=\"primary\" style={{textAlign: 'center'}} onClick={() => {\n                    const win = window.open('http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/reviews', '_blank');\n                    win.focus();\n                }}>{I18n.t('Review')}</Button>\n            </CardActions>\n        </Card>);\n    }\n\n    resetCerts() {\n        this.setState({inAction: true});\n        this.props.socket.setState('iot.' + this.props.instance + '.certs.private', {val: '', ack: true})\n            .then(() => this.props.socket.setState('iot.' + this.props.instance + '.certs.id', {val: '', ack: true}))\n            .then(() => this.props.socket.setState('iot.' + this.props.instance + '.certs.public', {val: '', ack: true}))\n            .then(() => this.props.socket.setState('iot.' + this.props.instance + '.certs.certificate', {val: '', ack: true}))\n            .then(() => {\n                if (this.state.forceUserCreate) {\n                    return this.props.socket.setState('iot.' + this.props.instance + '.certs.forceUserCreate', {val: true, ack: true});\n                } else {\n                    return Promise.resolve();\n                }\n            })\n            // read actual instance object\n            .then(() => this.props.socket.getObject('system.adapter.iot.' + this.props.instance))\n            .then(obj => {\n                if (!obj || !obj.common || !obj.common.enabled) {\n                    // adapter is disabled, do not restart it\n                    return Promise.resolve();\n                } else {\n                    // restart adapter\n                    return this.props.socket.setObject('system.adapter.iot.' + this.props.instance, obj);\n                }\n            })\n            .then(() => this.setState({toast: I18n.t('Certificates will be updated after start')}))\n            .catch(err => this.props.onError(err))\n            .then(() => this.setState({inAction: false}));\n    }\n\n    onForceUserCreate() {\n        this.setState({forceUserCreate: !this.state.forceUserCreate, showHint: !this.state.forceUserCreate});\n    }\n\n    renderToast() {\n        if (!this.state.toast) return null;\n        return (\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                open={true}\n                autoHideDuration={6000}\n                onClose={() => this.setState({toast: ''})}\n                ContentProps={{\n                    'aria-describedby': 'message-id',\n                }}\n                message={<span id=\"message-id\">{this.state.toast}</span>}\n                action={[\n                    <IconButton\n                        key=\"close\"\n                        aria-label=\"Close\"\n                        color=\"inherit\"\n                        className={this.props.classes.close}\n                        onClick={() => this.setState({toast: ''})}\n                    >\n                        <IconClose />\n                    </IconButton>,\n                ]}\n            />);\n    }\n\n    renderHint() {\n        if (this.state.showHint) {\n            return (<Message text={I18n.t('Click now Get new connection certificates to request new temporary password')} onClose={() => this.setState({showHint: false})}/>);\n        } else {\n            return null;\n        }\n    }\n\n    renderCheckbox(title, attr, style) {\n        return (<FormControlLabel key={attr} style={Object.assign({paddingTop: 5}, style)} className={this.props.classes.controlElement}\n                                  control={\n                                      <Checkbox\n                                          checked={this.props.native[attr]}\n                                          onChange={() => this.props.onChange(attr, !this.props.native[attr])}\n                                          color=\"primary\"\n                                      />\n                                  }\n                                  label={I18n.t(title)}\n        />);\n    }\n\n    render() {\n        return (\n            <form className={this.props.classes.tab}>\n                <Logo\n                    instance={this.props.instance}\n                    common={this.props.common}\n                    native={this.props.native}\n                    onError={text => this.setState({errorText: text})}\n                    onLoad={this.props.onLoad}\n                />\n                <div className={this.props.classes.column + ' ' + this.props.classes.columnSettings}>\n                    {this.renderInput('ioBroker.pro Login', 'login')}<br/>\n                    {this.renderInput('ioBroker.pro Password', 'pass', 'password')}<br/>\n                    {this.renderCheckbox('Amazon Alexa', 'amazonAlexa', {marginTop: 10})}<br/>\n                    {this.renderCheckbox('Google Home', 'googleHome', {marginTop: 10})}<br/>\n                    {this.renderCheckbox('Yandex Алиса', 'yandexAlisa', {marginTop: 10})}<br/>\n                    <br/>\n                    <Button variant=\"outlined\"\n                            className={this.props.classes.button}\n                            disabled={this.state.inAction || !this.state.isInstanceAlive}\n                            title={!this.state.isInstanceAlive ? I18n.t('Instance must be enabled') : ''}\n                            onClick={() => this.resetCerts()}>\n                        <IconReload/>{I18n.t('Get new connection certificates')}\n                    </Button>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={this.state.forceUserCreate}\n                                onChange={() => this.onForceUserCreate()}\n                                color=\"primary\"\n                            />\n                        }\n                        label={I18n.t('Request email with password one more time')}\n                    />\n                    <p style={{fontWeight: 'bold'}}>{Utils.renderTextWithA(I18n.t('help_tip'))}</p>\n                </div>\n                <div className={this.props.classes.column + ' ' + this.props.classes.columnLogo}>{this.renderCard()}</div>\n                {this.renderHint()}\n                {this.renderToast()}\n            </form>\n        );\n    }\n}\n\nOptions.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n    onChange: PropTypes.func,\n    socket: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Options);\n","// @flow\nimport { Component } from 'react';\nimport type { Node } from 'react';\n\nimport type { RowMetadata } from '../model/row';\n\n\ntype Props = {\n  grow?: number,\n  basis?: string, // <length> | auto\n  width?: string, // <length> | auto\n\n  renderCell: (rowData: any, rowMetadata: RowMetadata, toggleChildren: () => void) => Node,\n  className?: string,\n};\n\ntype State = { };\n\nexport default class Column extends Component<Props, State> {\n\n  render() { return null; }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport type { Node } from 'react';\n\nimport type { RowMetadata } from '../model/row';\n\n\ntype Props = {\n  //grow?: number,\n  //basis?: string, // <length> | auto\n  width: string,  // <length> | auto\n\n  rowData: any,\n  rowMetadata: RowMetadata,\n  toggle: () => void,\n  renderCell: (rowData: any, rowMetadata: RowMetadata, toggleChildren: () => void) => Node,\n  className?: string,\n  classNameColumn?: string,\n};\n\ntype State = {\n  width: string\n  //_grow: number,\n  //_basis: string,\n};\n\nexport default class ColumnWrapper extends Component<Props, State> {\n  state = {\n    //_grow: 1,\n    //_basis: 'auto',\n      width: 'auto'\n  };\n\n  render() {\n    const { width, rowData, toggle, rowMetadata, renderCell, className, classNameColumn} = this.props;\n    const { _width } = this.state;\n\n    //const flexGrow = (grow != null) ? grow : _grow;\n    //const flexBasis = (basis != null) ? basis : _basis;\n    const cWidth = (width != null) ? width : _width;\n\n    const baseClass = (className ? `cp_tree-table_column ${className || ''}`: 'cp_tree-table_column') + ' ' + (classNameColumn || '');\n    return (\n      <div className={baseClass}\n        style={{ ...STYLE_COLUMN, width: cWidth/*flexGrow: flexGrow, flexBasis: flexBasis */}}>\n        { renderCell(rowData, rowMetadata, toggle) }\n      </div>\n    );\n  }\n}\n\nconst STYLE_COLUMN = {\n  boxSizing: 'border-box',\n  position: 'relative',\n  overflow: 'hidden',\n};\n","// @flow\nimport React, { Component, Children } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport ColumnWrapper from './ColumnWrapper';\n\n\ntype Props = {\n  row: any,\n  columns: ChildrenArray<Element<typeof Column>>,\n\n  hasVisibleChildren: boolean, // Metadata\n  classNamePartlyVisible?: string,\n  classNameColumn?: string,\n  classNameSelected?: string,\n  classNameRow?: string,\n  index: number,\n  selected?: string,\n  onToggle: () => void,\n  onRowClick: (data: object) => void,\n};\n\ntype State = {\n  overscanHeight: number,\n  height: number,\n  topOffset: number,\n};\n\nexport default class VirtualListRow extends Component<Props, State> {\n\n  state = {\n    overscanHeight: 100,\n    height: 0,\n    topOffset: 0,\n  };\n\n  render() {\n    const { row, hasVisibleChildren, index, onToggle, columns, classNameRow, classNameColumn, selected, classNameSelected } = this.props;\n\n    const metadata = { ...row.getMetadata(), hasVisibleChildren: hasVisibleChildren };\n\n    const style = {...STYLE_ROW, height: row.getHeight() + 'px'};\n\n    return (\n      <div className={'cp_tree-table_row ' + (classNameRow || '') + (selected === row.data.id ? ' ' + classNameSelected : '')}\n        style={style}\n        data-rindex={index}\n        onClick={() => this.props.onRowClick && this.props.onRowClick(row.data, metadata, onToggle)}\n        onDoubleClick={() => this.props.onRowClick && this.props.onRowClick(row.data, metadata, onToggle, true)}\n        data-depth={row.depth} >\n      \n        {Children.toArray(columns).map((column, index) => {\n          return (\n            <ColumnWrapper key={index}\n              {...column.props}\n              classNameColumn={classNameColumn}\n              rowData={row.data}\n              toggle={onToggle}\n              rowMetadata={metadata}/>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst STYLE_ROW = {\n  // display: 'flex',\n\n  boxSizing: 'border-box',\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n};\n","// @flow\nimport BTLeaf from './bt_leaf';\n\n\nexport type TreeDataRow = {\n  data: any,\n  height?: number,\n  children?: Array<TreeDataRow>,\n};\n\nexport type RowMetadata = {\n  depth: number;\n  hasChildren: boolean;\n  hasVisibleChildren: boolean;\n};\n\nexport type PartialRowMetadata = {\n  depth: number;\n  hasChildren: boolean;\n};\n\nexport default class Row {\n  parent: ?BTLeaf = null;\n  depth: number;      // tree depth\n  data: any;          // row data\n\n  _hasChildren: boolean;\n\n  _height: number = 26;    // height in px (26px - fallback value)\n  _cacheHeight: number = 26;\n\n  constructor(data: any, hasChildren: boolean, depth: number = 0, isVisible: boolean, height: ?number) {\n    this.data = data;\n    this.depth = depth;\n    this._hasChildren = hasChildren;\n\n    if (height != null) {\n      this._height = height;\n      this._cacheHeight = height;\n    }\n\n    if (!isVisible) {\n      this._height = 0;\n    }\n  }\n\n  setHeight(value: number) {\n    this._updateHeight(value);\n    if (value > 0) {\n      this._cacheHeight = value;\n    }\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  isVisible(): boolean {\n    return this._height > 0;\n  }\n\n  getMetadata(): PartialRowMetadata {\n    return {\n      depth: this.depth,\n      hasChildren: this._hasChildren,\n    };\n  }\n\n  toggle(): void {\n    if (this._height > 0) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  hide(): void {\n    this._cacheHeight = this._height;\n    this._updateHeight(0);\n  }\n\n  show(): void {\n    this._updateHeight(this._cacheHeight);\n  }\n\n  _updateHeight(value: number) {\n    let diff = value - this._height;\n    if (diff) {\n      for (let n = this; n; n = n.parent) {\n        n._height += diff;\n      }\n    }\n  }\n}\n","// @flow\nimport Row from '../model/row';\nimport type { TreeDataRow  } from '../model/row';\n\nexport * from './search';\n\n\nexport const processData = (data: Array<TreeDataRow>, rowHeightDefault: ?number = null): Array<Row> => {\n  return processLevel(data, rowHeightDefault, 0, true);\n}\n\nconst processLevel = (data: Array<TreeDataRow>, rowHeightDefault: ?number, depth: number = 0, isVisible: boolean = false): Array<Row> => {\n  let result: Array<Row> = [];\n  for (var i = 0; i < data.length; i++) {\n    const hasChildren: boolean = (data[i].children != null && data[i].children.length > 0);\n\n    result.push(new Row(data[i].data, hasChildren, depth, isVisible, data[i].height || rowHeightDefault));\n\n    if (data[i].children && data[i].children.length > 0) {\n      processLevel(data[i].children, rowHeightDefault, depth + 1).forEach((row) => {\n        result.push(row);\n      });\n    }\n  }\n  return result;\n}\n\nexport const indexOf = (needle: any, haystack: Array<any>): number => {\n  for (var i = 0; i < haystack.length; i++) {\n    if (haystack[i] === needle) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nexport const noop = () => undefined;\n","// @flow\nimport BTLeaf from './bt_leaf';\nimport Row from './row';\nimport { indexOf } from '../util';\n\n\nexport default class BTNode {\n  parent: ?BTNode = null;\n  children: Array<BTNode | BTLeaf> = [];\n\n  _size: number = 0;\n  _height: number = 0;\n\n\n  constructor(children: Array<BTNode | BTLeaf>) {\n    this.children = children;\n\n    let size = 0, height = 0;\n    for (let i = 0; i < children.length; ++i) {\n      let ch = children[i];\n      size += ch.getSize();\n      height += ch.getHeight();\n      ch.parent = this;\n    }\n\n    this._size = size;\n    this._height = height;\n  }\n\n  getSize(): number {\n    return this._size;\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  // https://github.com/codemirror/CodeMirror/blob/e03ef21df390753eb35ff8426dd99b1be4d29d74/src/model/chunk.js#L79\n  removeInner(at: number, n: number) {\n    this._size -= n;\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at < sz) {\n        let rm = Math.min(n, sz - at), oldHeight = child.getHeight();\n        child.removeInner(at, rm);\n        this._height -= oldHeight - child.getHeight();\n        if (sz === rm) {\n          this.children.splice(i--, 1);\n          child.parent = null;\n        }\n        n -= rm;\n        if (n === 0) {\n          break;\n        }\n        at = 0;\n      } else {\n        at -= sz;\n      }\n    }\n    // If the result is smaller than 25 rows, ensure that it is a\n    // single leaf node.\n    if (this.getSize() - n < 25 &&\n       (this.children.length > 1 || !(this.children[0] instanceof BTLeaf))) {\n      let rows = [];\n      this.collapse(rows);\n      this.children = [new BTLeaf(rows)];\n      this.children[0].parent = this;\n    }\n  }\n\n  collapse(rows: Array<Row>) {\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].collapse(rows);\n    }\n  }\n\n  // https://github.com/codemirror/CodeMirror/blob/e03ef21df390753eb35ff8426dd99b1be4d29d74/src/model/chunk.js#L107\n  insertInner(at: number, rows: Array<Row>, height: number) {\n    this._size += rows.length;\n    this._height += height;\n\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at <= sz) {\n        child.insertInner(at, rows, height);\n        if (child instanceof BTLeaf && child.getSize() > 50) {\n          // To avoid memory thrashing when child.rows is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          let remaining = child.getSize() % 25 + 25;\n          for (let pos = remaining; pos < child.getSize();) {\n            let leaf = new BTLeaf(child.rows.slice(pos, pos += 25));\n            child._height -= leaf.getHeight();\n            this.children.splice(++i, 0, leaf);\n            leaf.parent = this;\n          }\n          child.rows = child.rows.slice(0, remaining);\n          this.maybeSpill();\n        }\n        break;\n      }\n      at -= sz;\n    }\n  }\n\n  // When a node has grown, check whether it should be split.\n  maybeSpill() {\n    if (this.children.length <= 10) {\n      return;\n    }\n    let me: BTNode = this;\n    do {\n      let spilled = me.children.splice(me.children.length - 5, 5);\n      let sibling = new BTNode(spilled);\n      if (!me.parent) { // Become the parent node\n        let copy = new BTNode(me.children);\n        copy.parent = me;\n        me.children = [copy, sibling];\n        me = copy;\n     } else {\n        me._size -= sibling.getSize();\n        me._height -= sibling.getHeight();\n\n        let parent: ?BTNode = me.parent;\n        if (parent && parent.children) {\n          let myIndex = indexOf(me, parent.children);\n          parent.children.splice(myIndex + 1, 0, sibling);\n        }\n      }\n      sibling.parent = me.parent;\n    } while (me.children.length > 10)\n    if (me.parent) {\n      me.parent.maybeSpill();\n    }\n  }\n\n  mapRange(at: number, n: number, op: (data: Row) => ?boolean): ?boolean {\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at < sz) {\n        let used = Math.min(n, sz - at);\n        if (child.mapRange(at, used, op)) {\n          return true;\n        }\n        n -= used;\n        if (n === 0) {\n          break;\n        }\n        at = 0;\n      } else {\n        at -= sz;\n      }\n    }\n  }\n\n  mapAll(op: (data: Row) => ?boolean): ?boolean {\n    return this.mapRange(0, this._size, op);\n  }\n}\n","// @flow\nimport BTNode from './bt_node';\nimport Row from './row';\n\n\nexport default class BTLeaf {\n  parent: ?BTNode = null;\n  rows: Array<Row> = [];\n\n  _height: number = 0;\n\n  constructor(rows: Array<Row> = []) {\n    this.rows = rows;\n\n    let height = 0;\n    for (let i = 0; i < rows.length; ++i) {\n      rows[i].parent = this;\n      height += rows[i].getHeight();\n    }\n    this._height = height;\n  }\n\n  getSize(): number {\n    return this.rows.length;\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  // Remove n rows at offset 'at'.\n  removeInner(at: number, n: number) {\n    for (let i = at, e = at + n; i < e; ++i) {\n      let row = this.rows[i];\n      this._height -= row.getHeight();\n\n      row.parent = null;\n    }\n    this.rows.splice(at, n);\n  }\n\n  collapse(rows: Array<Row>) {\n    rows.push.apply(rows, this.rows)\n  }\n\n  // Insert the given array of rows at offset 'at', count them as\n  // having the given height.\n  insertInner(at: number, rows: Array<Row>, height: number) {\n    this._height += height\n    this.rows = this.rows.slice(0, at).concat(rows).concat(this.rows.slice(at))\n    for (let i = 0; i < rows.length; ++i) {\n      rows[i].parent = this;\n    }\n  }\n\n  mapRange(at: number, n: number, op: (data: Row) => ?boolean): ?boolean {\n    for (let e = at + n; at < e; ++at) {\n      if (op(this.rows[at])) {\n        return true;\n      }\n    }\n  }\n}\n","// @flow\nimport BTLeaf from './bt_leaf';\nimport BTNode from './bt_node';\nimport Row from './row';\nimport { indexOf } from '../util';\n\n\nexport default class BTRoot extends BTNode {\n  constructor(data: Array<Row> = []) {\n    super([new BTLeaf([])]);\n\n    this.insert(0, data);\n  }\n\n  insert(at: number, rows: Array<Row>) {\n    let height = 0\n    for (let i = 0; i < rows.length; ++i) {\n      height += rows[i].getHeight();\n    }\n    super.insertInner(at, rows, height);\n  }\n\n  remove(at: number, n: number) {\n    super.removeInner(at, n);\n  }\n\n  getRow(index: number): Row {\n    if (index < 0 || index >= this.getSize()) {\n      throw new Error('Invalid index! No row at index: ' + index);\n    }\n    let node = this;\n    while (node instanceof BTNode) {\n      for (let i = 0;; i++) {\n        let child = node.children[i], sz = child.getSize();\n        if (index < sz) {\n          node = child;\n          break;\n        }\n        index -= sz;\n      }\n    }\n    return node.rows[index];\n  }\n\n  getRowIndex(row: Row): number {\n    if (row.parent == null) {\n      throw new Error('Invalid row object! No parent node: (row.parent == null)');\n    }\n    let cur = row.parent, index = indexOf(row, cur.rows);\n    for (let chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (let i = 0;; i++) {\n        if (chunk.children[i] === cur) {\n          break;\n        }\n        index += chunk.children[i].getSize();\n      }\n    }\n    return index;\n  }\n\n  getIndexAtY(y: number): number {\n    if (y < 0 || y > this.getHeight()) {\n      throw new Error('Invalid y position! No row at y: ' + y);\n    }\n\n    let n = 0, height = y;\n    let node = this;\n    do {\n      let ch = 0;\n      for (let i = 0; i < node.children.length; i++) {\n        let child = node.children[i];\n        ch = child.getHeight();\n        if (height < ch) {\n          node = child;\n          break;\n        }\n        height -= ch;\n        n += child.getSize();\n      }\n      if (height >= ch) {\n        return n;\n      }\n    } while (!node.rows);\n\n    let i = 0;\n    if (node instanceof BTLeaf) {\n      for (; i < node.getSize(); i++) {\n        let row = node.rows[i], rHeight = row.getHeight();\n        if (height < rHeight) {\n          break;\n        }\n        height -= rHeight;\n      }\n    }\n    return n + i;\n  }\n  \n  getYAtIndex(index: number): number {\n    let row = this.getRow(index);\n    if (row.parent == null) {\n      throw new Error('Invalid row object! No parent node: (row.parent == null)');\n    }\n\n    let height = 0, chunk = row.parent;\n    for (let i = 0; i < chunk.rows.length; i++) {\n      let rowObj = chunk.rows[i];\n      if (rowObj === row) {\n        break;\n      } else {\n        height += rowObj.getHeight();\n      }\n    }\n    for (let p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (let i = 0; i < p.children.length; i++) {\n        let cur = p.children[i];\n        if (cur === chunk) {\n          break\n        } else {\n          height += cur.getHeight();\n        }\n      }\n    }\n    return height;\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport VirtualListRow from './VirtualListRow';\n\nimport BTRoot from '../model/bt_root';\nimport Row from '../model/row';\n\n\ntype Props = {\n  root: BTRoot,\n  columns: ChildrenArray<Element<typeof Column>>,\n\n  height: number,\n  onToggle: (row: Row) => void,\n  onRowClick: (data: object) => void,\n  onScroll: (scrollTop: number) => void,\n  className?: string,\n  classNamePartlyVisible?: string,\n  classNameColumn?: string,\n  classNameMover?: string,\n  classNameRow?: string,\n  classNameInner?: string,\n  selected?: string,\n  classNameSelected?: string,\n};\n\ntype State = {\n  overscanHeight: number,\n  height: number,\n  topOffset: number,\n};\n\ntype RowData = {\n  row: Row,\n  hasVisibleChildren: boolean,\n};\n\nexport default class VirtualList extends Component<Props, State> {\n\n  state = {\n    overscanHeight: 100,\n    height: 0,\n    topOffset: 0,\n  };\n\n  container: ?HTMLElement;\n\n  componentDidUpdate() {\n    this._setHeight();\n  }\n\n  componentDidMount() {\n    this._setHeight();\n    window.addEventListener(\"resize\", this._setHeight);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this._setHeight);\n  }\n\n  render() {\n    const { root, columns, onToggle, className, classNameColumn, onRowClick, classNamePartlyVisible, classNameMover, classNameRow, selected, classNameSelected, classNameInner} = this.props;\n    const { overscanHeight, height, topOffset } = this.state;\n\n    const startYMax = Math.max(0, root.getHeight() - height - (overscanHeight * 2));\n    const startY = Math.min(startYMax, Math.max(0, topOffset - overscanHeight));\n    let startIndex = root.getIndexAtY(startY);\n\n    const endY = Math.min(root.getHeight(), topOffset + height + overscanHeight);\n    let endIndex = root.getIndexAtY(endY);\n\n    const contentTopOffset =  root.getYAtIndex(startIndex);\n\n    let visibleRowsData: Array<RowData> = [], lastVisibleRowIndex;\n    root.mapRange(startIndex, endIndex - startIndex, (row: Row) => {\n      if (row.isVisible()) {\n        if (lastVisibleRowIndex != null && !visibleRowsData[lastVisibleRowIndex].hasVisibleChildren) {\n          const data = visibleRowsData[lastVisibleRowIndex];\n          \n          if (data != null && data.row.depth === row.depth - 1 && !data.hasVisibleChildren) {\n            visibleRowsData[lastVisibleRowIndex].hasVisibleChildren = true;\n          }\n        }\n\n        lastVisibleRowIndex = visibleRowsData.length;\n        visibleRowsData.push({\n          row: row,\n          hasVisibleChildren: false,\n        });\n      }\n    });\n\n    let visibleRows = [];\n    let relativeIndex = 0;\n    visibleRowsData.forEach((data: RowData) => {\n        (data.row.data.visible === undefined || data.row.data.visible || data.row.data.hasVisibleChildren) && visibleRows.push(\n        <VirtualListRow\n          row={data.row}\n          columns={columns}\n          selected={selected}\n          onRowClick={onRowClick}\n          classNameSelected={classNameSelected}\n          classNameColumn={classNameColumn}\n          classNameRow={classNameRow + (!data.row.data.visible && classNamePartlyVisible && data.row.data.hasVisibleChildren ? ' ' + classNamePartlyVisible : '')}\n          hasVisibleChildren={data.hasVisibleChildren}\n          index={relativeIndex}\n          key={relativeIndex++}\n          onToggle={() => onToggle(data.row)}/>\n      );\n    });\n\n    return (\n      <div className={className}\n        style={{ ...STYLE_LIST, height: this.props.height + 'px', }}\n        ref={elem => {this.container = elem}}\n        onScroll={this._handleScroll}>\n\n        <div style={{ ...STYLE_WRAPPER, height: (root.getHeight()) + 'px', }} className={classNameInner || ''}>\n          <div style={{ ...STYLE_CONTENT, top: (contentTopOffset) + 'px' }}\n            className={'cp_tree-table_mover ' + (classNameMover || '')}>\n            {visibleRows}\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n\n  scrollTop(posY: number = 0) {\n    if (this.container) {\n      this.container.parentNode.scrollTop = posY;\n    }\n  }\n\n  // virtual scroll\n  _handleScroll = () => {\n    const { onScroll } = this.props;\n\n    if (this.container) {\n      const { scrollTop } = this.container;\n\n      onScroll(scrollTop);\n\n      this.setState({\n        topOffset: scrollTop\n      });\n    }\n  };\n\n  // virtual scroll\n  _setHeight = () => {\n    const { height } = this.state;\n    \n    if (this.container) {\n      const { offsetHeight } = this.container;\n\n      if (height !== offsetHeight) {\n        this.setState({\n          height: offsetHeight\n        });\n      }\n    }\n  };\n}\n\nconst STYLE_LIST = {\n  overflow: 'auto',\n  WebkitOverflowScrolling: 'touch',\n};\n\nconst STYLE_WRAPPER = {\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%',\n};\n\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  overflow: 'visible',\n  height: '100%',\n  width: '100%',\n  top: '0',\n  left: '0',\n};\n","// @flow\nimport React, { Component } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport VirtualList from './VirtualList';\n\nimport BTRoot from '../model/bt_root';\nimport Row from '../model/row';\nimport type { TreeDataRow  } from '../model/row';\n\nimport { processData, noop, findNodeData } from '../util';\n\n\ntype TreeChange = {\n  root: BTRoot,\n  hasChange: boolean,\n};\n\ntype Props = {\n  data: Array<TreeDataRow>,\n  children: ChildrenArray<Element<typeof Column>>,\n  classNameColumn?: string,\n  classNamePartlyVisible?: string,\n  classNameMover?: string,\n  classNameInner?: string,\n  classNameRow?: string,\n  selected?: string,\n  classNameSelected?: string,\n  selected?: string,\n  height?: number,\n  rowHeight?: number,\n  onScroll?: (scrollTop: number) => void,\n  onRowClick?: (data: object) => void,\n  className?: string,\n};\n\ntype State = {\n  root: BTRoot,\n};\n\nexport default class TreeDataTable extends Component<Props, State> {\n  static Column = Column;\n\n  virtualList: ?VirtualList;\n\n  constructor(props: Props) {\n    super(props);\n    const { rowHeight } = props;\n    this.depth = 0;\n    this.state = {\n      root: new BTRoot(processData(this.props.data, rowHeight)),\n    };\n  }\n\n  render() {\n    const { height, children, onScroll, className, classNameRow, classNamePartlyVisible, classNameColumn, classNameMover, classNameInner, selected, classNameSelected } = this.props;\n    \n    const baseClass = className ? `cp_tree-table ${className}`: 'cp_tree-table';\n    return (\n      <VirtualList className={baseClass}\n                   classNameSelected={classNameSelected}\n                   selected={selected}\n                   classNameRow={classNameRow}\n                   classNamePartlyVisible={classNamePartlyVisible}\n                   classNameColumn={classNameColumn}\n                   classNameMover={classNameMover}\n                   onRowClick={this.props.onRowClick}\n                   classNameInner={classNameInner}\n        ref={elem => {this.virtualList = elem}}\n\n        columns={children}\n\n        height={height || 200}\n        root={this.state.root}\n        \n        onScroll={onScroll || noop}\n        onToggle={(row) => this._handleOnToggle(row)}/>\n    );\n  }\n\n  // Public API\n  scrollIntoView(node: TreeDataRow, expandAncestors: boolean = true) {\n    const { root } = this.state;\n\n    const row = node && findNodeData(root, node);\n    if (row) {\n      const rowIndex = root.getRowIndex(row);\n      if (expandAncestors && !row.isVisible()) {\n        let ancestors: Array<Row> = [];\n        for (let currentRowIndex = Math.max(rowIndex - 1, 0), previousDepth = row.depth; currentRowIndex >= 0; currentRowIndex--) {\n          const currentRow = root.getRow(currentRowIndex);\n          \n          if (currentRow.depth === previousDepth - 1) {  // Parent\n            ancestors.push(currentRow);\n            previousDepth = currentRow.depth;\n\n            if (currentRow.isVisible()) { // From here up, all the ancestors are visible\n              break;\n            }\n          }\n\n          if (currentRow.depth === 0) {\n            break;\n          }\n        }\n\n        // Batch changes\n        let currentRoot = root;\n        let hasChange: boolean = false;\n        for (let i = 0; i < ancestors.length; i++) {\n          const currentRow = ancestors[i];\n          const delta = this._toggleRow(currentRoot, currentRow);\n\n          if (!hasChange) {\n            hasChange = delta.hasChange;\n          }\n        }\n\n        if (hasChange) {\n          this.setState({ root: currentRoot }, () => {\n            const posY = root.getYAtIndex(rowIndex);\n            this.scrollTo(posY);\n          });\n        }\n      } else {\n        const posY = root.getYAtIndex(rowIndex);\n        this.scrollTo(posY);\n      }\n    }\n  }\n\n  // Public API\n  scrollTo(posY: number) {\n    if (this.virtualList) {\n      this.virtualList.scrollTop(posY);\n    }\n  }\n\n  // Makes rows in the given range that don't represent root nodes (row.depth == 0) visible\n  _showRowsInRange(from?: number, to?: number) {\n    const { root } = this.state;\n\n    let _from = (from != null) ? from : 0;\n    let _to = (to != null) ? to : root.getSize();\n\n    // Validation\n    if (!this._isOpRangeValid(_from, _to)) {\n      return;\n    }\n\n    // Expand op\n    let hasChange: boolean = false;\n    root.mapRange(_from, _to, (row: Row) => {\n      if (row.depth > 0 && !row.isVisible()) {\n        row.show();\n        hasChange = true;\n      }\n    });\n\n    if (hasChange) {\n      this.setState({ root: root });\n    }\n  }\n\n  _walkOne(root: BTRoot, depth: number) {\n    let hasChanged;\n    if (root.rows) {\n        for (let i = 0; i < root.rows.length; i++) {\n          if (root.rows[i].depth <= depth) {\n            if (!root.rows[i].isVisible()) {\n              hasChanged = true;\n              root.rows[i].show();\n            }\n          } else if (root.rows[i].isVisible()) {\n              hasChanged = true;\n              root.rows[i].hide();\n          }\n        }\n    } else if (root.children) {\n        for (let i = 0; i < root.children.length; i++) {\n            const changed = this._walkOne(root.children[i], depth);\n            if (changed) {\n                hasChanged = true;\n            }\n        }\n    }\n    return hasChanged;\n  }\n\n  // Public API\n  expandAll(expandOrCollapse?: boolean) { // _showRowsInRange alias with the default arguments\n    if (expandOrCollapse === undefined) {\n        this._showRowsInRange();\n    } else {\n      if (expandOrCollapse === true || expandOrCollapse === false) {\n          this.depth = expandOrCollapse ? this.depth + 1 : this.depth - 1;\n      } else {\n          this.depth = expandOrCollapse;\n      }\n      if (this.depth < 0) {\n          this.depth = 0;\n      }\n        if (this._walkOne(this.state.root, this.depth)) {\n            this.setState({root: this.state.root});\n        }\n    }\n  }\n\n  // Hides rows in the given range that don't represent root nodes (row.depth == 0)\n  _hideRowsInRange(from?: number, to?: number) {\n    const { root } = this.state;\n\n    let _from = (from != null) ? from : 0;\n    let _to = (to != null) ? to : root.getSize();\n\n    // Validation\n    if (!this._isOpRangeValid(_from, _to)) {\n      return;\n    }\n\n    // Expand op\n    let hasChange: boolean = false;\n    root.mapRange(_from, _to, (row: Row) => {\n      if (row.depth > 0 && row.isVisible()) {\n        row.hide();\n        hasChange = true;\n      }\n    });\n\n    if (hasChange) {\n      this.setState({ root: root });\n    }\n  }\n\n  // Public API\n  collapseAll() { // _hideRowsInRange alias with the default arguments\n    this._hideRowsInRange();\n  }\n\n  _isOpRangeValid(from: number, to: number): boolean {\n    const { root } = this.state;\n    const maxTo = root.getSize();\n    // Validation\n    if (from < 0) {\n      console.warn('Invalid range: from < 0');\n      return false;\n    }\n    if (from > maxTo) {\n      console.warn('Invalid range: from > max size');\n      return false;\n    }\n    if (to > maxTo) {\n      console.warn('Invalid range: to > max size');\n      return false;\n    }\n    if (from > to) {\n      console.warn('Invalid range: to > from');\n      return false;\n    }\n    return true;\n  }\n\n  _handleOnToggle = (row: Row) => {\n    const { root } = this.state;\n\n    const delta = this._toggleRow(root, row);\n    if (delta.hasChange) {\n      this.setState({ root: delta.root });\n    }\n  }\n\n  _toggleRow = (root: BTRoot, row: Row): TreeChange => {\n    const currentDepth = row.depth;\n    let rowIndex = Math.min(root.getRowIndex(row) + 1, root.getSize());\n\n    let hasChange: boolean = false;\n    let toggleOpen: ?boolean;\n    root.mapRange(rowIndex, root.getSize() - rowIndex, (row: Row) => {\n      if (toggleOpen == null) {\n        toggleOpen = !row.isVisible();\n      }\n\n      if (row.depth >= currentDepth + 1) {\n        if (row.depth === currentDepth + 1) {\n          row.toggle();\n          hasChange = true;\n        } else if (!toggleOpen && row.isVisible()) { // Close all children\n          row.toggle();\n          hasChange = true;\n        }\n        \n        return false;\n      } else {\n        return true;\n      }\n    });\n\n    return {\n      root: root,\n      hasChange: hasChange,\n    };\n  }\n}\n","// @flow\nimport Row from '../model/row';\nimport BTRoot from '../model/bt_root';\nimport type { TreeDataRow  } from '../model/row';\n\n\nexport const findNodeData = (root: BTRoot, dataNode: TreeDataRow): ?Row => {\n  let result;\n\n  root.mapAll((row: Row) => {\n    if (dataNode.data === row.data) {\n      result = row;\n      return true;\n    }\n  });\n  return result;\n}\n","import TreeDataTable from './component/TreeDataTable';\nimport type { TreeDataRow } from './component/TreeDataTable';\nimport type { RowMetadata } from '../model/row';\n\nexport default TreeDataTable;\nexport type { TreeDataRow };\nexport type { RowMetadata };\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport TreeDataTable from './cp-react-tree-table/src';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport secondary from '@material-ui/core/colors/orange';\r\n\r\nimport {FaFolder as IconClosed} from 'react-icons/fa';\r\nimport {FaFolderOpen as IconOpen} from 'react-icons/fa';\r\nimport {FaFileAlt as IconState} from 'react-icons/fa';\r\nimport {FaFile as IconDocument} from 'react-icons/fa';\r\nimport {MdPerson as IconExpert} from 'react-icons/md';\r\n//import {MdContentCopy as IconCopy} from 'react-icons/md';\r\nimport IconDefaultState from './assets/state.png';\r\nimport IconDefaultChannel from './assets/channel.png';\r\nimport IconDefaultDevice from './assets/device.png';\r\nimport IconDefault from './assets/empty.png';\r\n\r\nimport I18n from '../i18n';\r\nimport Utils from './Utils';\r\n\r\nimport CopyContentImg from '../assets/copy-content.svg';\r\n\r\nconst styles = theme => ({\r\n    toolbar: {\r\n        minHeight: 38,//Theme.toolbar.height,\r\n//        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    toolbarButtons: {\r\n        padding: 4,\r\n        marginLeft: 4\r\n    },\r\n    treeTable: {\r\n        background: '#ffffff',\r\n        borderTop: '1px solid #999',\r\n        borderBottom: '1px solid #999'\r\n    },\r\n    treeTableRow: {\r\n        boxShadow: 'inset 0 1px 0 #eeeeee',\r\n        display: 'block'\r\n    },\r\n    mainDiv: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n    tableDiv: {\r\n        width: '100%',\r\n        height: 'calc(100% - 34px - 38px)',\r\n        overflow: 'auto'\r\n    },\r\n    cellDiv: {\r\n        display: 'inline-block',\r\n        fontSize: 12,\r\n        height: 26,\r\n        verticalAlign: 'top'\r\n    },\r\n    cellDivId: {\r\n        display: 'inline-block',\r\n        height: 26,\r\n        verticalAlign: 'top'\r\n    },\r\n    cellWrapper: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 300,\r\n        fontSize: 13,\r\n        height: '100%',\r\n        width: '100%',\r\n//        fontFamily: \"'SF Mono', 'Segoe UI Mono', 'Roboto Mono', Menlo, Courier, monospace\",\r\n        lineHeight: '1em'\r\n    },\r\n    selectNone: {\r\n        opacity: 0.5,\r\n    },\r\n    selectIcon: {\r\n        width: 16,\r\n        height: 16,\r\n        paddingRight: 5\r\n    },\r\n    cellWrapperElement: {\r\n        flexGrow: 1,\r\n        cursor: 'default'\r\n    },\r\n\r\n    toggleButtonWrapper: {\r\n        width: 16,\r\n        flexGrow: 0,\r\n        color: '#008fff',\r\n        cursor: 'pointer',\r\n        padding: 1,\r\n        borderRadius: 3\r\n    },\r\n    partlyVisible: {\r\n        opacity: 0.3\r\n    },\r\n    /*.toggle-button-wrapper > span:hover {\r\n        background: #d7d7d7;\r\n    }*/\r\n    \r\n    selectSpan: {\r\n//        fontFamily: \"'SF Mono', 'Segoe UI Mono', 'Roboto Mono', Menlo, Courier, monospace\",\r\n        background: '#efefef',\r\n        border: '1px solid #e5e5e5',\r\n        padding: 2,\r\n        borderRadius: 3\r\n    },\r\n    selected: {\r\n        background: '#008fff',\r\n        color: 'white'\r\n    },\r\n    icon: {\r\n        width: 20,\r\n        height: 20,\r\n        paddingTop: 2,\r\n        paddingRight: 2\r\n    },\r\n    header: {\r\n        width: '100%'\r\n    },\r\n    headerCell: {\r\n        display: 'inline-block'\r\n    },\r\n    headerCellInput: {\r\n        width: 'calc(100% - 5px)'\r\n    },\r\n    visibleButtons: {\r\n        color: '#2196f3',\r\n        opacity: 0.7\r\n    },\r\n    depth: {\r\n        position: 'absolute',\r\n        top: 8,\r\n        left: 10,\r\n        color: 'black',\r\n        fontSize: 14\r\n    },\r\n    cellCopy: {\r\n        position: 'absolute',\r\n        top: 3,\r\n        right: 10,\r\n        width: 16,\r\n        height: 16,\r\n        background: 'lightblue',\r\n        cursor: 'grab',\r\n        borderRadius: 2,\r\n        padding: 2,\r\n    },\r\n    cellCopyPressed: {\r\n        cursor: 'grabbing',\r\n        background: secondary.A700,\r\n    }\r\n});\r\n\r\n// d=data, t=target, s=start, e=end, m=middle\r\nfunction binarySearch(d, t, s, e) {\r\n    s = s || 0;\r\n    if (e === undefined) {\r\n        e = d.length - 1;\r\n        if (!e) {\r\n            return d[0] === t;\r\n        }\r\n    }\r\n    const m = Math.floor((s + e) / 2);\r\n    if (t === d[m]) return d[m];\r\n    if (e - 1 === s) return d[s] === t || d[e] === t;\r\n    if (t > d[m]) return binarySearch(d, t, m, e);\r\n    if (t < d[m]) return binarySearch(d, t, s, m);\r\n}\r\n\r\n/* function walkTree(tree, func) {\r\n    func(tree);\r\n    if (tree.children) {\r\n        tree.children.forEach(item => walkTree(item, func));\r\n    }\r\n}\r\n*/\r\n\r\nfunction applyFilter(item, filters, lang, objects, context) {\r\n    let filteredOut = false;\r\n    if (!context) {\r\n        context = {};\r\n        if (filters.id) {\r\n            context.id = filters.id.toLowerCase();\r\n        }\r\n        if (filters.name) {\r\n            context.name = filters.name.toLowerCase();\r\n        }\r\n        if (filters.role) {\r\n            context.role = filters.role.toLowerCase();\r\n        }\r\n        if (filters.room) {\r\n            context.room = (objects[filters.room] && objects[filters.room].common && objects[filters.room].common.members) || [];\r\n        }\r\n        if (filters.func) {\r\n            context.func = (objects[filters.func] && objects[filters.func].common && objects[filters.func].common.members) || [];\r\n        }\r\n    }\r\n\r\n    if (item.data.id) {\r\n        if (!filters.expert) {\r\n            filteredOut = item.data.id === 'system' || item.data.id.startsWith('system.') || (item.data.obj && item.data.obj.common && item.data.obj.common.expert);\r\n        }\r\n        if (!filteredOut && context.id) {\r\n            if (item.data.fID === undefined) {\r\n                item.data.fID = item.data.id.toLowerCase();\r\n            }\r\n            filteredOut = item.data.fID.indexOf(context.id) === -1;\r\n        }\r\n        if (!filteredOut && context.name) {\r\n            if (item.data.fName === undefined) {\r\n                item.data.fName = (item.data.obj && item.data.obj.common && getName(item.data.obj.common.name, lang)) || '';\r\n                item.data.fName = item.data.name.toLowerCase();\r\n            }\r\n            filteredOut = item.data.fName.indexOf(context.name) === -1;\r\n        }\r\n        if (!filteredOut && filters.role) {\r\n            filteredOut = !(item.data && item.data.obj && item.data.obj.common && item.data.obj.common.role && item.data.obj.common.role.startsWith(context.role));\r\n        }\r\n        if (!filteredOut && context.room) {\r\n            filteredOut = !context.room.find(id => id === item.data.id || item.data.id.startsWith(id + '.'));\r\n        }\r\n        if (!filteredOut && context.func) {\r\n            filteredOut = !context.func.find(id => id === item.data.id || item.data.id.startsWith(id + '.'));\r\n        }\r\n    }\r\n    item.data.visible = !filteredOut;\r\n    item.data.hasVisibleChildren = false;\r\n    if (item.children) {\r\n        item.children.forEach(_item => {\r\n            const visible = applyFilter(_item, filters, lang, objects, context);\r\n            if (visible) {\r\n                item.data.hasVisibleChildren = true;\r\n            }\r\n        });\r\n    }\r\n    return item.data.visible || item.data.hasVisibleChildren;\r\n}\r\n\r\nfunction buildTree(objects, options) {\r\n    options = options || {};\r\n\r\n    const ids = Object.keys(objects);\r\n    ids.sort((a, b) => {\r\n        if (a === b) return 0;\r\n        a = a.replace(/\\./g, '!!!');\r\n        b = b.replace(/\\./g, '!!!');\r\n        if (a > b) return 1;\r\n        return -1;\r\n    });\r\n\r\n    // find empty nodes and create names for it\r\n    let currentPathArr = [];\r\n    let currentPath = '';\r\n    let currentPathLen = 0;\r\n    let root = {data: {name: '', id: ''}, children: []};\r\n\r\n    let info = {\r\n        funcEnums: [],\r\n        roomEnums: [],\r\n        roles: [],\r\n        ids: [],\r\n        objects\r\n    };\r\n\r\n    let croot = root;\r\n    for (let i = 0; i < ids.length; i++) {\r\n        const id = ids[i];\r\n        const parts = id.split('.');\r\n\r\n        if (objects[id]) {\r\n            if (objects[id].common && objects[id].common.role) {\r\n                if (info.roles.indexOf(objects[id].common.role) === -1) {\r\n                    info.roles.push(objects[id].common.role);\r\n                }\r\n            } else if (id.startsWith('enum.rooms.')) {\r\n                info.roomEnums.push(id);\r\n            } else if (id.startsWith('enum.functions.')) {\r\n                info.funcEnums.push(id);\r\n            }\r\n        }\r\n\r\n        if (options.statesOnly && (!objects[id] || objects[id].type !== 'state')) {\r\n            continue;\r\n        }\r\n        info.ids.push(id);\r\n\r\n        let repeat;\r\n        // if next level\r\n        do {\r\n            repeat = false;\r\n            if (!currentPath || id.substring(0, currentPath.length + 1) === currentPath + '.') {\r\n                if (parts.length - currentPathLen > 1) {\r\n                    let curPath = currentPath;\r\n                    for (let k = currentPathLen; k < parts.length - 1; k++) {\r\n                        curPath += (curPath ? '.' : '') + parts[k];\r\n                        if (!binarySearch(info.ids, curPath)) {\r\n                            const _croot = {data: {name: parts[k], parent: croot, id: curPath, obj: objects[curPath]}};\r\n                            croot.children = croot.children || [];\r\n                            croot.children.push(_croot);\r\n                            croot = _croot;\r\n                            //ids.splice(i, 0, curPath);\r\n                            info.ids.push(curPath);\r\n                            //i++;\r\n                        } else {\r\n                            croot = croot.children.find(item => item.data.name === parts[k]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const _croot = {data: {name: parts[parts.length - 1], obj: objects[id], parent: croot, id}, children: []};\r\n                croot.children = croot.children || [];\r\n                croot.children.push(_croot);\r\n                croot = _croot;\r\n\r\n                currentPathLen = parts.length;\r\n                currentPathArr = parts;\r\n                currentPath    = id;\r\n            } else {\r\n                let u = 0;\r\n                while (currentPathArr[u] === parts[u]) u++;\r\n                if (u > 0) {\r\n                    let move = currentPathArr.length;\r\n                    currentPathArr = currentPathArr.splice(0, u);\r\n                    currentPathLen = u;\r\n                    currentPath = currentPathArr.join('.');\r\n                    while (move > u) {\r\n                        croot = croot.data.parent;\r\n                        move--;\r\n                    }\r\n                } else {\r\n                    croot = root;\r\n                    currentPathArr = [];\r\n                    currentPath = '';\r\n                    currentPathLen = 0;\r\n                }\r\n                repeat = true;\r\n            }\r\n        } while(repeat);\r\n    }\r\n\r\n    info.roomEnums.sort();\r\n    info.funcEnums.sort();\r\n    info.roles.sort();\r\n\r\n    return {info, root};\r\n}\r\n\r\nfunction findNode(root, id, _parts, _path, _level) {\r\n    if (root.data.id === id) {\r\n        return root;\r\n    }\r\n    if (!_parts) {\r\n        _parts = id.split('.');\r\n        _level = 0;\r\n        _path = _parts[_level];\r\n    }\r\n    if (!root.children && root.data.id !== id) {\r\n        return null;\r\n    } else {\r\n        let found;\r\n        for (let i = 0; i< root.children.length; i++) {\r\n            const _id = root.children[i].data.id;\r\n            if (_id === _path) {\r\n                found = root.children[i];\r\n                break;\r\n            } else\r\n            if (_id < _path) continue;\r\n            if (_id > _path) break;\r\n        }\r\n        if (found) {\r\n            return findNode(found, id, _parts, _path + '.' + _parts[_level + 1], _level + 1);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getName(name, lang) {\r\n    if (name && typeof name === 'object') {\r\n        return name[lang] || name.en;\r\n    } else {\r\n        return name || '';\r\n    }\r\n}\r\n\r\nfunction findRoomsForObject(data, id, lang, withParentInfo, rooms) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    rooms = rooms || [];\r\n    for (let i = 0; i < data.roomEnums.length; i++) {\r\n        const common = data.objects[data.roomEnums[i]] && data.objects[data.roomEnums[i]].common;\r\n        const name = getName(common.name, lang);\r\n\r\n        if (common.members && common.members.indexOf(id) !== -1 && rooms.indexOf(name) === -1) {\r\n            if (!withParentInfo) {\r\n                rooms.push(name);\r\n            } else {\r\n                rooms.push({name: name, origin: id});\r\n            }\r\n        }\r\n    }\r\n    const parts = id.split('.');\r\n    parts.pop();\r\n    id = parts.join('.');\r\n    if (data.objects[id]) {\r\n        findRoomsForObject(data, id, lang, withParentInfo, rooms);\r\n    }\r\n\r\n    return rooms;\r\n}\r\n\r\n/* function findRoomsForObjectAsIds(data, id, rooms) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    rooms = rooms || [];\r\n    for (let i = 0; i < data.roomEnums.length; i++) {\r\n        const common = data.objects[data.roomEnums[i]] && data.objects[data.roomEnums[i]].common;\r\n        if (common && common.members && common.members.indexOf(id) !== -1 &&\r\n            rooms.indexOf(data.roomEnums[i]) === -1) {\r\n            rooms.push(data.roomEnums[i]);\r\n        }\r\n    }\r\n    return rooms;\r\n}\r\n*/\r\nfunction findFunctionsForObject(data, id, lang, withParentInfo, funcs) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    funcs = funcs || [];\r\n    for (let i = 0; i < data.funcEnums.length; i++) {\r\n        const common = data.objects[data.funcEnums[i]] && data.objects[data.funcEnums[i]].common;\r\n        const name = getName(common.name, lang);\r\n        if (common && common.members && common.members.indexOf(id) !== -1 && funcs.indexOf(name) === -1) {\r\n            if (!withParentInfo) {\r\n                funcs.push(name);\r\n            } else {\r\n                funcs.push({name: name, origin: id});\r\n            }\r\n        }\r\n    }\r\n    const parts = id.split('.');\r\n    parts.pop();\r\n    id = parts.join('.');\r\n    if (data.objects[id]) {\r\n        findFunctionsForObject(data, id, lang, withParentInfo, funcs);\r\n    }\r\n\r\n    return funcs;\r\n}\r\n\r\n/*function findFunctionsForObjectAsIds(data, id, funcs) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    funcs = funcs || [];\r\n    for (let i = 0; i < data.funcEnums.length; i++) {\r\n        const common = data.objects[data.funcEnums[i]] && data.objects[data.funcEnums[i]].common;\r\n        if (common && common.members && common.members.indexOf(id) !== -1 &&\r\n            funcs.indexOf(data.funcEnums[i]) === -1) {\r\n            funcs.push(data.funcEnums[i]);\r\n        }\r\n    }\r\n\r\n    return funcs;\r\n}\r\n*/\r\nfunction getStates(obj) {\r\n    let states;\r\n    if (obj &&\r\n        obj.common &&\r\n        obj.common.states) {\r\n        states = obj.common.states;\r\n    }\r\n    if (states) {\r\n        if (typeof states === 'string' && states[0] === '{') {\r\n            try {\r\n                states = JSON.parse(states);\r\n            } catch (ex) {\r\n                console.error('Cannot parse states: ' + states);\r\n                states = null;\r\n            }\r\n        } else\r\n        // if old format val1:text1;val2:text2\r\n        if (typeof states === 'string') {\r\n            const parts = states.split(';');\r\n            states = {};\r\n            for (let p = 0; p < parts.length; p++) {\r\n                const s = parts[p].split(':');\r\n                states[s[0]] = s[1];\r\n            }\r\n        }\r\n    }\r\n    return states;\r\n}\r\n\r\nfunction quality2text(q) {\r\n    if (!q) return 'ok';\r\n    const custom = q & 0xFFFF0000;\r\n    let text = '';\r\n    if (q & 0x40) text += 'device';\r\n    if (q & 0x80) text += 'sensor';\r\n    if (q & 0x01) text += ' bad';\r\n    if (q & 0x02) text += ' not connected';\r\n    if (q & 0x04) text += ' error';\r\n\r\n    return text + (custom ? '|0x' + (custom >> 16).toString(16).toUpperCase() : '') + ' [0x' + q.toString(16).toUpperCase() + ']';\r\n}\r\n\r\nfunction formatDate(dateObj) {\r\n    //return dateObj.getFullYear() + '-' +\r\n    //    ('0' + (dateObj.getMonth() + 1).toString(10)).slice(-2) + '-' +\r\n    //    ('0' + (dateObj.getDate()).toString(10)).slice(-2) + ' ' +\r\n    //    ('0' + (dateObj.getHours()).toString(10)).slice(-2) + ':' +\r\n    //    ('0' + (dateObj.getMinutes()).toString(10)).slice(-2) + ':' +\r\n    //    ('0' + (dateObj.getSeconds()).toString(10)).slice(-2);\r\n    // Following implementation is 5 times faster\r\n    if (!dateObj) return '';\r\n\r\n    var text = dateObj.getFullYear();\r\n    var v = dateObj.getMonth() + 1;\r\n    if (v < 10) {\r\n        text += '-0' + v;\r\n    } else {\r\n        text += '-' + v;\r\n    }\r\n\r\n    v = dateObj.getDate();\r\n    if (v < 10) {\r\n        text += '-0' + v;\r\n    } else {\r\n        text += '-' + v;\r\n    }\r\n\r\n    v = dateObj.getHours();\r\n    if (v < 10) {\r\n        text += ' 0' + v;\r\n    } else {\r\n        text += ' ' + v;\r\n    }\r\n    v = dateObj.getMinutes();\r\n    if (v < 10) {\r\n        text += ':0' + v;\r\n    } else {\r\n        text += ':' + v;\r\n    }\r\n\r\n    v = dateObj.getSeconds();\r\n    if (v < 10) {\r\n        text += ':0' + v;\r\n    } else {\r\n        text += ':' + v;\r\n    }\r\n\r\n    v = dateObj.getMilliseconds();\r\n    if (v < 10) {\r\n        text += '.00' + v;\r\n    } else if (v < 100) {\r\n        text += '.0' + v;\r\n    } else {\r\n        text += '.' + v;\r\n    }\r\n\r\n    return text;\r\n}\r\n\r\nfunction formatValue(id, state, obj, texts) {\r\n    const states = getStates(obj);\r\n    const isCommon = obj.common;\r\n\r\n    let valText = state.val;\r\n    if (isCommon && isCommon.role && isCommon.role.match(/^value\\.time|^date/)) {\r\n        valText = valText ? (new Date(valText)).toString() : valText;\r\n    }\r\n\r\n    if (states && states[valText] !== undefined) {\r\n        valText = states[valText] + '(' + valText + ')';\r\n    }\r\n\r\n    let valFull;\r\n    if (valText === undefined) {\r\n        valText = '&nbsp;';\r\n    } else {\r\n        // if less 2000.01.01 00:00:00\r\n        if (state.ts < 946681200000) state.ts *= 1000;\r\n        if (state.lc < 946681200000) state.lc *= 1000;\r\n\r\n        if (isCommon && isCommon.unit) {\r\n             valText += ' ' + isCommon.unit;\r\n        }\r\n        valFull =           texts.value   + ': ' + state.val;\r\n        valFull += '\\x0A' + texts.ack     + ': ' + state.ack;\r\n        valFull += '\\x0A' + texts.ts      + ': ' + (state.ts ? formatDate(new Date(state.ts)) : '');\r\n        valFull += '\\x0A' + texts.lc      + ': ' + (state.lc ? formatDate(new Date(state.lc)) : '');\r\n        valFull += '\\x0A' + texts.from    + ': ' + (state.from || '');\r\n        if (state.user) {\r\n            valFull += '\\x0A' + texts.user    + ': ' + (state.user || '');\r\n        }\r\n        valFull += '\\x0A' + texts.quality + ': ' + quality2text(state.q || 0);\r\n    }\r\n    if (valText === null || valText === '') {\r\n        valText = '&nbsp;';\r\n    }\r\n    if (typeof valText === 'string' && valText !== '&nbsp;') {\r\n        valText = valText.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\r\n    }\r\n\r\n    return {\r\n        valText: valText,\r\n        valFull: valFull,\r\n        style: {color: state.ack ? (state.q ? 'orange' : '') : '#c00000'}\r\n    };\r\n}\r\n\r\nfunction getSelectIdIcon(objects, id, prefix) {\r\n    prefix = prefix || '.';//http://localhost:8081';\r\n    let icon = '';\r\n    let alt  = '';\r\n    const _id_ = 'system.adapter.' + id;\r\n    if (id && objects[_id_] && objects[_id_].common && objects[_id_].common.icon) {\r\n        // if not BASE64\r\n        if (!objects[_id_].common.icon.match(/^data:image\\//)) {\r\n            if (objects[_id_].common.icon.indexOf('.') !== -1) {\r\n                icon = prefix + '/adapter/' + objects[_id_].common.name + '/' + objects[_id_].common.icon;\r\n            } else {\r\n                return null; //'<i class=\"material-icons iob-list-icon\">' + objects[_id_].common.icon + '</i>';\r\n            }\r\n        } else {\r\n            icon = objects[_id_].common.icon;\r\n        }\r\n    } else {\r\n        const obj = objects[id];\r\n\r\n        if (obj && obj.common) {\r\n            if (obj.common.icon) {\r\n                if (!obj.common.icon.match(/^data:image\\//)) {\r\n                    if (obj.common.icon.indexOf('.') !== -1) {\r\n                        var instance;\r\n                        if (obj.type === 'instance') {\r\n                            icon = prefix + '/adapter/' + obj.common.name + '/' + obj.common.icon;\r\n                        } else if (id && id.match(/^system\\.adapter\\./)) {\r\n                            instance = id.split('.', 3);\r\n                            if (obj.common.icon[0] === '/') {\r\n                                instance[2] += obj.common.icon;\r\n                            } else {\r\n                                instance[2] += '/' + obj.common.icon;\r\n                            }\r\n                            icon = prefix + '/adapter/' + instance[2];\r\n                        } else {\r\n                            instance = id.split('.', 2);\r\n                            if (obj.common.icon[0] === '/') {\r\n                                instance[0] += obj.common.icon;\r\n                            } else {\r\n                                instance[0] += '/' + obj.common.icon;\r\n                            }\r\n                            icon = prefix + '/adapter/' + instance[0];\r\n                        }\r\n                    } else {\r\n                        return null; // '<i class=\"material-icons iob-list-icon\">' + obj.common.icon + '</i>';\r\n                    }\r\n                } else {\r\n                    // base 64 image\r\n                    icon = obj.common.icon;\r\n                }\r\n            } else if (obj.type === 'device') {\r\n                icon = IconDefaultDevice;\r\n                alt  = 'device';\r\n            } else if (obj.type === 'channel') {\r\n                icon = IconDefaultChannel;\r\n                alt  = 'channel';\r\n            } else if (obj.type === 'state') {\r\n                icon = IconDefaultState;\r\n                alt  = 'state';\r\n            }\r\n        }\r\n    }\r\n\r\n    if (icon) {\r\n        return {src: icon, alt};\r\n    } else {\r\n        return  {src: IconDefault, alt: ''};\r\n    }\r\n}\r\n\r\nclass SelectID extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            selected: (this.props.selected || '').replace(/[\"']/g, ''),\r\n            filter: {\r\n                id: '',\r\n                name: '',\r\n                room: '',\r\n                func:  '',\r\n                role: '',\r\n                expert: false\r\n            },\r\n            depth: 0\r\n        };\r\n        this.selectedFound = !this.state.selected;\r\n        this.copyContentImg = CopyContentImg;\r\n        this.treeTableRef = React.createRef();\r\n        this.mainRef = React.createRef();\r\n        this.root = null;\r\n        this.lang = I18n.getLanguage();\r\n\r\n        this.props.connection.getObjects(objects => {\r\n            this.props.connection.getStates(states => {\r\n                this.states = states;\r\n                this.objects = objects;\r\n                const {info, root} = buildTree(this.objects, this.props);\r\n                this.root = root;\r\n                this.info = info;\r\n                applyFilter(this.root, this.state.filter, this.lang, this.objects);\r\n                this.setState({loaded: true});\r\n\r\n                this.state.selected && this.onSelect(this.state.selected);\r\n            }, true);\r\n        }, true);\r\n\r\n        this.texts = {\r\n            value:   I18n.t('tooltip_value'),\r\n            ack:     I18n.t('tooltip_ack'),\r\n            ts:      I18n.t('tooltip_ts'),\r\n            lc:      I18n.t('tooltip_lc'),\r\n            from:    I18n.t('tooltip_from'),\r\n            user:    I18n.t('tooltip_user'),\r\n            quality: I18n.t('tooltip_quality')\r\n        };\r\n    }\r\n\r\n    onSelect(selected, isDouble) {\r\n        selected !== this.state.selected && this.setState({selected});\r\n        const name = selected ? Utils.getObjectName(this.objects, selected, null, {language: this.lang}) : '';\r\n        this.props.onSelect && this.props.onSelect(selected, name, isDouble);\r\n    }\r\n\r\n    onDoubleClick(data, metadata, toggleChildren) {\r\n        if (metadata.hasChildren) {\r\n            toggleChildren();\r\n        } else if (data.obj && data.obj.type === 'state') {\r\n            this.onSelect(data.obj._id, true);\r\n        }\r\n    }\r\n\r\n    onCopy(e, id) {\r\n        const el = window.document.createElement('textarea');\r\n        el.value = id;\r\n        window.document.body.appendChild(el);\r\n        el.select();\r\n        window.document.execCommand('copy');\r\n        window.document.body.removeChild(el);\r\n        console.log(id);\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n\r\n    installCopyButtons() {\r\n        if (!this.mainRef.current) return;\r\n        const rows = this.mainRef.current.getElementsByClassName('add-copy-button');\r\n        for (let i = 0; i < rows.length; i++) {\r\n            if (!rows[i].__installed) {\r\n                rows[i].addEventListener('mouseenter', e => {\r\n                    const copy = e.target.getElementsByClassName(this.props.classes.cellCopy);\r\n                    if (!copy || !copy.length) {\r\n                        const div = document.createElement('div');\r\n                        const img = document.createElement('img');\r\n                        img.src = this.copyContentImg;\r\n                        img.width = 16;\r\n                        img.height = 16;\r\n                        img.color = secondary.A200;\r\n                        div.appendChild(img);\r\n                        div.className = this.props.classes.cellCopy;\r\n                        div.addEventListener('click', e => this.onCopy(e, e.target.parentNode.dataset.index), false);\r\n                        div.addEventListener('mousedown', e => {\r\n                            if (e.target.parentNode.className.indexOf(this.props.classes.cellCopyPressed) === -1) {\r\n                                e.target.parentNode.className += ' ' + this.props.classes.cellCopyPressed;\r\n                            }\r\n                        }, false);\r\n                        div.addEventListener('mouseup', e => {\r\n                            let className = e.target.parentNode.className.split(' ');\r\n                            let pos = className.indexOf(this.props.classes.cellCopyPressed);\r\n                            while (pos !== -1) {\r\n                                className.splice(pos);\r\n                                pos = className.indexOf(this.props.classes.cellCopyPressed);\r\n                            }\r\n                            e.target.parentNode.className = className.join(' ');\r\n                        }, false);\r\n                        e.target.appendChild(div);\r\n                    }\r\n                }, false);\r\n                rows[i].addEventListener('mouseleave', e => {\r\n                    const copy = e.target.getElementsByClassName(this.props.classes.cellCopy);\r\n                    if (copy && copy.length) {\r\n                        e.target.removeChild(copy[0]);\r\n                    }\r\n                }, false);\r\n                rows[i].__installed = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.installCopyButtons();\r\n        if (!this.selectedFound) {\r\n            if (this.props.selected && this.treeTableRef.current) {\r\n                const node = findNode(this.root, this.props.selected);\r\n                this.treeTableRef.current.scrollIntoView(node);\r\n                this.selectedFound = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    renderIndexColumn(data, metadata, toggleChildren) {\r\n        const selected = this.state.selected === data.id;\r\n        const isExist = !!this.objects[data.id];\r\n        const isState = isExist && this.objects[data.id].type === 'state';\r\n        // const isChannel = isExist && !isState && this.objects[data.id].type === 'channel';\r\n        // const isDevice = isExist && !isChannel && !isState && this.objects[data.id].type === 'device';\r\n\r\n        const padding = (metadata.depth * 25) + 'px';\r\n        const width = `calc(100% - ${padding})`;\r\n        return (\r\n            <div style={{paddingLeft: padding, width: width}}\r\n                 data-index={data.id}\r\n                 className={this.props.classes.cellWrapper + ' add-copy-button'}\r\n            >\r\n                <span className={(selected ? this.props.classes.selected : '') + ' ' + this.props.classes.toggleButtonWrapper}>\r\n                  {metadata.hasChildren\r\n                      ? (<span onClick={toggleChildren}>{metadata.hasVisibleChildren ? (<IconOpen/>) : (<IconClosed/>)}</span>)\r\n                      : (isState ? (<IconState/>) : (<IconDocument/>))\r\n                  }\r\n                </span>\r\n                <span className={this.props.classes.cellWrapperElement} style={{fontWeight: metadata.hasChildren ? 'bold' : 'normal'}}>{data.name}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderColumnName(data, metadata, toggleChildren) {\r\n        const icon = getSelectIdIcon(this.objects, data.id, this.props.prefix);\r\n        return (<span className={this.props.classes.cellWrapper}>\r\n            <img src={icon.src} className={this.props.classes.icon} alt={icon.alt}/>\r\n            {data.obj && Utils.getObjectName(this.objects, data.obj._id, null, {language: this.lang})}\r\n            </span>);\r\n    }\r\n    renderColumnRole(data, metadata, toggleChildren) {\r\n        if (!data.obj) return null;\r\n        return (<span className={this.props.classes.cellWrapper}>{(data.obj.common && data.obj.common.role) || ''}</span>);\r\n    }\r\n    renderColumnRoom(data, metadata, toggleChildren) {\r\n        if (!data.obj) return null;\r\n        const list = findRoomsForObject(this.info, data.obj._id, this.lang) || [];\r\n        return (<span className={this.props.classes.cellWrapper}>{list.join(', ')}</span>);\r\n    }\r\n    renderColumnFunc(data, metadata, toggleChildren) {\r\n        if (!data.obj) return null;\r\n        const list = findFunctionsForObject(this.info, data.obj._id, this.lang) || [];\r\n        return (<span className={this.props.classes.cellWrapper}>{list.join(', ')}</span>);\r\n    }\r\n    renderColumnValue(data, metadata, toggleChildren) {\r\n        if (!data.obj || !data.obj._id || this.states || !this.states[data.obj._id]) return null;\r\n        const id = data.obj._id;\r\n        const state = this.states[id];\r\n        const info = formatValue(id, state, data.obj, this.texts);\r\n        return (<span className={this.props.classes.cellWrapper} style={info.style} title={info.valFull}>{info.valText}</span>);\r\n    }\r\n\r\n    onFilter(name, value) {\r\n        if (this.state.filter[name] !== value) {\r\n            const filter = JSON.parse(JSON.stringify(this.state.filter));\r\n            filter[name] = value;\r\n            this.filterTimer && clearTimeout(this.filterTimer);\r\n            this.filterTimer = setTimeout(() => {\r\n                applyFilter(this.root, filter, this.lang, this.objects);\r\n                this.forceUpdate();\r\n            }, 400);\r\n            this.setState({filter});\r\n        }\r\n    }\r\n\r\n    getFilterInput(name) {\r\n        return (<FormControl className={this.props.classes.headerCellInput} style={{marginTop: 0, marginBottom: 0}} margin=\"dense\">\r\n            <Input\r\n                classes={{underline: 'no-underline'}}\r\n                id={name}\r\n                placeholder={I18n.t('filter_' + name)}\r\n                value={this.state.filter[name]}\r\n                onChange={e => this.onFilter(name, e.target.value)}\r\n                autoComplete=\"off\"\r\n            />\r\n        </FormControl>);\r\n    }\r\n    getFilterSelect(name, values) {\r\n        //<!--InputLabel htmlFor=\"demo-controlled-open-select\">Age</InputLabel-->\r\n        return (\r\n            <Select className={this.props.classes.headerCellInput + ' no-underline'}\r\n                value={this.state.filter[name]}\r\n                onChange={e => this.onFilter(name, e.target.value)}\r\n                inputProps={{name, id: name,}}\r\n                displayEmpty={true}\r\n            >\r\n                <MenuItem key=\"empty\" value=\"\"><span className={this.props.classes.selectNone}>{I18n.t('filter_' + name)}</span></MenuItem>\r\n                {values.map(item => {\r\n                    let id;\r\n                    let name;\r\n                    let icon;\r\n                    if (typeof item === 'object') {\r\n                        id = item.value;\r\n                        name = item.name;\r\n                        icon = getSelectIdIcon(this.objects, id, this.props.prefix);\r\n                    } else {\r\n                        id = item;\r\n                        name = item;\r\n                    }\r\n\r\n                    return (\r\n                        <MenuItem key={id} value={id}>\r\n                            {icon && (<img className={this.props.classes.selectIcon} src={icon.src} alt={name}/>)}\r\n                            {name}\r\n                        </MenuItem>)\r\n                })}\r\n            </Select>);\r\n    }\r\n    getFilterSelectRole() {\r\n        return this.getFilterSelect('role', this.info.roles);\r\n    }\r\n    getFilterSelectRoom() {\r\n        const rooms = this.info.roomEnums.map(id => {\r\n            return {name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()), value: id};\r\n        });\r\n\r\n        return this.getFilterSelect('room', rooms);\r\n\r\n    }\r\n    getFilterSelectFunction() {\r\n        const func = this.info.funcEnums.map(id => {\r\n            return {name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()), value: id};\r\n        });\r\n        return this.getFilterSelect('func', func);\r\n\r\n    }\r\n    onExpandAll() {\r\n        this.treeTableRef.current.expandAll();\r\n    }\r\n    onCollapseAll() {\r\n        this.treeTableRef.current.collapseAll();\r\n    }\r\n    onExpandVisible() {\r\n        if (this.state.depth < 9) {\r\n            const depth = this.state.depth + 1;\r\n            this.setState({depth: depth}, () => {\r\n                this.treeTableRef.current.expandAll(depth);\r\n            });\r\n        }\r\n    }\r\n    onCollapseVisible() {\r\n        if (this.state.depth > 0) {\r\n            const depth = this.state.depth - 1;\r\n            this.setState({depth: depth}, () => {\r\n                this.treeTableRef.current.expandAll(depth);\r\n            });\r\n        }\r\n    }\r\n\r\n    getToolbar() {\r\n        return (\r\n            <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar\">\r\n                <IconButton key=\"expert\" variant=\"contained\" className={this.props.classes.toolbarButtons} color={this.state.filter.expert ? 'secondary' : 'primary'} onClick={() => this.onFilter('expert', !this.state.filter.expert)}><IconExpert /></IconButton>\r\n                <IconButton key=\"expandAll\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onExpandAll()}><IconOpen /></IconButton>\r\n                <IconButton key=\"collapseAll\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onCollapseAll()}><IconClosed /></IconButton>\r\n                <IconButton key=\"expandVisible\" variant=\"contained\" className={this.props.classes.toolbarButtons + ' ' + this.props.classes.visibleButtons} onClick={() => this.onExpandVisible()}><IconOpen />{this.state.depth ? (<div className={this.props.classes.depth}>{this.state.depth}</div>) : null}</IconButton>\r\n                <IconButton key=\"collapseVisible\" variant=\"contained\" className={this.props.classes.toolbarButtons + ' ' + this.props.classes.visibleButtons} onClick={() => this.onCollapseVisible()}><IconClosed />{this.state.depth ? (<div className={this.props.classes.depth}>{this.state.depth}</div>) : null}</IconButton>\r\n            </Toolbar>);\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.loaded) {\r\n            return (<CircularProgress/>);\r\n        } else {\r\n            const classes = this.props.classes;\r\n            const idWidth = 300;\r\n            const WIDTHS = [120, 180, 180, 120];\r\n            const width = `calc(100% - ${idWidth + WIDTHS[0] + WIDTHS[1] + WIDTHS[2] + WIDTHS[3]}px)`;\r\n            return (<div className={classes.mainDiv} ref={this.mainRef}>\r\n                {this.getToolbar()}\r\n                <div key=\"header\" className={classes.header}>\r\n                    <div className={classes.headerCell} style={{width: idWidth}}>{this.getFilterInput('id')}</div>\r\n                    <div className={classes.headerCell} style={{width: width}}>{this.getFilterInput('name')}</div>\r\n                    <div className={classes.headerCell} style={{width: WIDTHS[0]}}>{this.getFilterSelectRole()}</div>\r\n                    <div className={classes.headerCell} style={{width: WIDTHS[1]}}>{this.getFilterSelectRoom()}</div>\r\n                    <div className={classes.headerCell} style={{width: WIDTHS[2]}}>{this.getFilterSelectFunction()}</div>\r\n                    <div className={classes.headerCell} style={{width: WIDTHS[3]}}>{I18n.t('Value')}</div>\r\n                </div>\r\n                <div className={classes.tableDiv}>\r\n                <TreeDataTable\r\n                    ref={this.treeTableRef}\r\n                    key=\"table\"\r\n                    data={this.root.children}\r\n                    height={'100%'}\r\n                    selected={this.state.selected}\r\n                    classNameSelected={classes.selected}\r\n                    classNamePartlyVisible={classes.partlyVisible}\r\n                    className={classes.treeTable}\r\n                    classNameRow={classes.treeTableRow}\r\n                    onRowClick={(data, metadata, toggleChildren, isDoubleClick) => isDoubleClick ?\r\n                        this.onDoubleClick(data, metadata, toggleChildren) :\r\n                        this.onSelect(data.id)}\r\n                >\r\n                    <TreeDataTable.Column grow={0} renderCell={this.renderIndexColumn.bind(this)} className={classes.cellDivId} width={idWidth} />\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnName.bind(this)}  className={classes.cellDiv} width={width}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnRole.bind(this)}  className={classes.cellDiv} width={WIDTHS[0]}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnRoom.bind(this)}  className={classes.cellDiv} width={WIDTHS[1]}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnFunc.bind(this)}  className={classes.cellDiv} width={WIDTHS[2]}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnValue.bind(this)} className={classes.cellDiv} width={WIDTHS[3]}/>\r\n                </TreeDataTable></div>\r\n            </div>);\r\n        }\r\n    }\r\n}\r\n\r\nSelectID.propTypes = {\r\n    classes: PropTypes.object,\r\n    statesOnly: PropTypes.bool,\r\n    selected: PropTypes.string,\r\n    onSelect: PropTypes.func,\r\n    connection: PropTypes.object,\r\n    prefix: PropTypes.string\r\n};\r\n\r\nexport default withStyles(styles)(SelectID);\r\n\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport I18n from '../i18n';\nimport SelectID from '../Components/SelectID';\nimport {withStyles} from '@material-ui/core/styles/index';\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    dialog: {\n        height: '95%'\n    },\n    content: {\n        height: '100%',\n        overflow: 'hidden'\n    }\n});\n\nclass DialogSelectID extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            selected: this.props.selected || '',\n            name:     ''\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    };\n\n    handleOk() {\n        this.props.onOk(this.state.selected, this.state.name);\n        this.props.onClose();\n    };\n\n    render() {\n        let title;\n        if (this.state.name || this.state.selected) {\n            title = [(<span key=\"selected\">{I18n.t('Selected')} </span>), (<span key=\"id\" className={this.props.classes.headerID}>{\n                (this.state.name || this.state.selected) + (this.state.name ? ' [' + this.state.selected + ']' : '')\n            }</span>)];\n        } else {\n            title = this.props.title || I18n.t('Please select object ID...');\n        }\n\n        return (\n            <Dialog\n                disableBackdropClick\n                maxWidth={false}\n                disableEscapeKeyDown\n                classes={{paper: this.props.classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"selectid-dialog-title\"\n            >\n                <DialogTitle id=\"selectid-dialog-title\">{title}</DialogTitle>\n                <DialogContent className={this.props.classes.content}>\n                    <SelectID\n                        prefix={this.props.prefix}\n                        statesOnly={this.props.statesOnly}\n                        style={{width: '100%', height: '100%'}}\n                        connection={this.props.connection}\n                        selected={this.state.selected}\n                        name={this.state.name}\n                        onSelect={(selected, name, isDouble) => {\n                            selected !== this.state.selected && this.setState({selected, name});\n                            isDouble && this.handleOk();\n                        }}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} disabled={!this.state.selected} color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\">{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogSelectID.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    selected: PropTypes.string,\n    statesOnly: PropTypes.bool,\n    connection: PropTypes.object.isRequired,\n    cancel: PropTypes.string,\n    prefix: PropTypes.string,\n    ok: PropTypes.string\n\n};\n\nexport default withStyles(styles)(DialogSelectID);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Input from '@material-ui/core/Input';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Fab from '@material-ui/core/Fab';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport {MdAdd as IconAdd} from 'react-icons/md';\n\nimport I18n from '../i18n';\nimport DialogSelectID from '../Dialogs/SelectID';\nimport Utils from '../Components/Utils'\n\nconst styles = theme => ({\n    tab: {\n        width: '100%',\n        minHeight: '100%'\n    },\n    input: {\n        marginTop: 0,\n        minWidth: 400\n    },\n    button: {\n        marginRight: 20,\n    },\n    card: {\n        maxWidth: 345,\n        textAlign: 'center'\n    },\n    media: {\n        height: 180,\n    },\n    column: {\n        display: 'inline-block',\n        verticalAlign: 'top',\n        marginRight: 20\n    },\n    columnLogo: {\n        width: 350,\n        marginRight: 0\n    },\n    columnSettings: {\n        width: 'calc(100% - 370px)',\n    },\n    controlElement: {\n        //background: '#d2d2d2',\n        marginBottom: 5\n    }\n});\n\nclass ExtendedOptions extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showSelectId: false,\n        };\n\n    }\n    \n    renderInput(title, attr, type) {\n        return (<TextField\n            label={I18n.t(title)}\n            className={this.props.classes.input + ' ' + this.props.classes.controlElement}\n            value={this.props.native[attr]}\n            type={type || 'text'}\n            onChange={e => this.props.onChange(attr, e.target.value)}\n            margin=\"normal\"\n        />);\n    }\n\n    renderSelect(title, attr, options, style) {\n        return (<FormControl className={this.props.classes.input + ' ' + this.props.classes.controlElement} style={Object.assign({paddingTop: 5}, style)}>\n            <Select\n                value={this.props.native[attr] || '_'}\n                onChange={e => this.props.onChange(attr, e.target.value === '_' ? '' : e.target.value)}\n                input={<Input name={attr} id={attr + '-helper'} />}\n            >\n                {options.map(item => (<MenuItem key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}</MenuItem>))}\n            </Select>\n            <FormHelperText>{I18n.t(title)}</FormHelperText>\n        </FormControl>);\n    }\n\n    renderCheckbox(title, attr, style) {\n        return (<FormControlLabel key={attr} style={Object.assign({paddingTop: 5}, style)} className={this.props.classes.controlElement}\n            control={\n                <Checkbox\n                    checked={this.props.native[attr]}\n                    onChange={() => this.props.onChange(attr, !this.props.native[attr])}\n                    color=\"primary\"\n                />\n            }\n            label={I18n.t(title)}\n        />);\n    }\n\n    getSelectIdDialog(attr) {\n        if (this.state.showSelectId) {\n            return (<DialogSelectID\n                key=\"dialogSelectID2\"\n                prefix={'../..'}\n                connection={this.props.socket}\n                selected={this.props.native[attr]}\n                statesOnly={true}\n                onClose={() => this.setState({showSelectId: false})}\n                onOk={selected => {\n                    this.setState({showSelectId: false});\n                    this.props.onChange(attr, selected);\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        return (\n            <form className={this.props.classes.tab}>\n                {this.renderInput('Cloud URL', 'cloudUrl')}<br/>\n                {this.renderSelect('Language', 'language', [\n                    {title: 'default', value: ''},\n                    {title: 'english', value: 'en'},\n                    {title: 'Deutsch', value: 'de'},\n                    {title: 'русский', value: 'ru'}\n                ], {marginTop: 10})}<br/>\n                {this.renderCheckbox('Place function in names first', 'functionFirst', {marginTop: 10})}<br/>\n                {this.renderInput('Concatenate words with', 'concatWord')}<br/>\n                {this.renderInput('Replace in names', 'replaces')}<br/>\n                <div className={this.props.classes.controlElement} style={{marginTop: 15}}>\n                    {this.renderInput('OFF level for switches in %', 'deviceOffLevel')}\n                    <FormHelperText>{I18n.t('(Set to 0 if behavior not desired)')}</FormHelperText>\n                </div>\n                <div className={this.props.classes.controlElement}>\n                    {this.renderInput('Write response to', 'responseOID')}\n                    <Fab size=\"small\" color=\"secondary\" onClick={() => this.setState({showSelectId: true})} aria-label=\"Add\" style={{marginLeft: 5, marginTop: 10}}><IconAdd /></Fab><br/>\n                </div>\n                <div className={this.props.classes.controlElement}>\n                    {this.renderCheckbox('Personal settings (only pro)', 'noCommon')}\n                    <FormHelperText>{Utils.renderTextWithA(I18n.t('help_tip'))}</FormHelperText><br/>\n                </div>\n                {this.renderCheckbox('Debug outputs', 'debug')}\n                {this.getSelectIdDialog('responseOID')}\n            </form>\n        );\n    }\n}\n\nExtendedOptions.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n    onChange: PropTypes.func,\n    socket: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ExtendedOptions);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Input from '@material-ui/core/Input';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Fab from '@material-ui/core/Fab';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Chip from '@material-ui/core/Chip';\nimport {MdRefresh as IconRefresh} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\n\nimport CopyContentImg from '../assets/copy-content.svg';\nimport I18n from '../i18n';\nimport Utils from '../Components/Utils'\n\nconst styles = theme => ({\n    tab: {\n        width: '100%',\n        minHeight: '100%'\n    },\n    input: {\n        marginTop: 0,\n        minWidth: 400\n    },\n    fullSize: {\n        width: 'calc(100% - 64px)'\n    },\n    button: {\n        marginRight: 20,\n    },\n    card: {\n        maxWidth: 345,\n        textAlign: 'center'\n    },\n    media: {\n        height: 180,\n    },\n    column: {\n        display: 'inline-block',\n        verticalAlign: 'top',\n        marginRight: 20\n    },\n    columnLogo: {\n        width: 350,\n        marginRight: 0\n    },\n    columnSettings: {\n        width: 'calc(100% - 370px)',\n    },\n    controlElement: {\n        //background: '#d2d2d2',\n        marginBottom: 5\n    },\n    chips: {\n        border: '1px solid #DDD',\n        borderRadius: 1,\n        width: 'calc(100% - 250px)',\n        display: 'inline-block',\n        padding: 5,\n        minHeight: 32,\n        marginLeft: 10,\n        marginTop: 20\n    },\n    chip: {\n        marginRight: 5\n    }\n});\n\nclass Services extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            running: false,\n            toast: '',\n            text2commandList: [],\n            addValue: '',\n            isInstanceAlive: false\n        };\n        this.onKeyChangedBound = this.onKeyChanged.bind(this);\n\n        this.props.socket.getAdapterInstances('text2command')\n            .then(list => this.setState({text2commandList: list.map(obj => obj._id.replace('system.adapter.text2command.', ''))}));\n    }\n\n    componentWillMount() {\n        this.props.socket.subscribeState('iot.' + this.props.instance + '.certs.urlKey', this.onKeyChangedBound);\n\n        this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`).then(obj =>\n            this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(state =>\n                this.setState({isInstanceAlive: obj && obj.common && obj.common.enabled && state && state.val})));\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unsubscribeState('iot.' + this.props.instance + '.certs.urlKey', this.onKeyChangedBound);\n    }\n\n    onKeyChanged(id, state) {\n        this.setState({key: state.val});\n    }\n\n    renderInput(title, attr, type) {\n        return (<TextField\n            label={I18n.t(title)}\n            className={this.props.classes.input + ' ' + this.props.classes.controlElement}\n            value={this.props.native[attr]}\n            type={type || 'text'}\n            onChange={e => this.props.onChange(attr, e.target.value)}\n            margin=\"normal\"\n        />);\n    }\n\n    reissueUrlKey() {\n        this.setState({running: true});\n        return this.props.socket.setState('iot.' + this.props.instance + '.certs.urlKey', {val: '', ack: true})\n            .then(() => this.props.socket.getObject('system.adapter.iot.' + this.props.instance))\n            .then(obj => {\n                if (!obj || !obj.common || !obj.common.enabled) {\n                    this.setState({running: false, toast: I18n.t('Key will be updated after start')});\n                } else {\n                    return this.props.socket.setObject('system.adapter.iot.' + this.props.instance, obj);\n                }\n            })\n            .then(() => this.setState({running: false, toast: I18n.t('Certificates will be updated after initiated restart')}))\n            .catch(err => {\n                this.setState({running: false});\n                this.props.showError(err);\n            });\n    }\n\n    renderToast() {\n        if (!this.state.toast) return null;\n        return (\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                open={true}\n                autoHideDuration={6000}\n                onClose={() => this.setState({toast: ''})}\n                ContentProps={{\n                    'aria-describedby': 'message-id',\n                }}\n                message={<span id=\"message-id\">{this.state.toast}</span>}\n                action={[\n                    <IconButton\n                        key=\"close\"\n                        aria-label=\"Close\"\n                        color=\"inherit\"\n                        className={this.props.classes.close}\n                        onClick={() => this.setState({toast: ''})}\n                    >\n                        <IconClose />\n                    </IconButton>,\n                ]}\n            />);\n    }\n\n    onChipsDelete(attr, value) {\n        const chips = (this.props.native[attr] || '').split(/[,;\\s]/).filter(a => !!a);\n        const pos = chips.indexOf(value);\n        if (pos !== -1) {\n            chips.splice(pos, 1);\n            this.props.onChange(attr, chips.join(' '));\n        }\n    }\n\n    onChipsAdd(attr) {\n        const chips = (this.props.native[attr] || '').split(/[,;\\s]/).filter(a => !!a);\n        const pos = chips.indexOf(this.state.addValue);\n        if (pos === -1) {\n            chips.push(this.state.addValue);\n            this.setState({addValue: ''}, () => this.props.onChange(attr, chips.join(' ')));\n        }\n    }\n\n    renderChips(label, attr) {\n        return (<div className={this.props.classes.chipsDiv}>\n            <FormHelperText>{Utils.renderTextWithA(I18n.t(label))}</FormHelperText>\n            <TextField\n                label={I18n.t('Add service')}\n                style={{width: 150}}\n                type={'text'}\n                value={this.state.addValue}\n                onKeyUp={e => e.keyCode === 13 && this.onChipsAdd(attr)}\n                onChange={e => this.setState({addValue: e.target.value.trim()})}\n                margin=\"normal\"\n            />\n\n            <Fab size=\"small\" color=\"secondary\" disabled={!this.state.addValue} onClick={() => this.onChipsAdd(attr)} style={{marginLeft: 5, marginTop: -15}}><IconAdd /></Fab>\n\n            <div className={this.props.classes.chips}>\n                {(this.props.native[attr] || '').split(/[,;\\s]/).filter(a => !!a)\n                .map(word =>\n                    (<Chip\n                        key={word}\n                        size=\"small\"\n                        label={word}\n                        onDelete={() => this.onChipsDelete(attr, word)}\n                        className={this.props.classes.chip}\n                    />))}\n            </div>\n        </div>);\n    }\n\n    render() {\n        return (\n            <form className={this.props.classes.tab}>\n                <Button\n                    variant=\"outlined\"\n                    disabled={!this.state.isInstanceAlive || this.state.running}\n                    color=\"primary\"\n                    title={!this.state.isInstanceAlive ? I18n.t('Instance must be enabled') : ''}\n                    onClick={() => this.reissueUrlKey()}>\n                    <IconRefresh />{I18n.t('Get new service URL key')}\n                </Button><br/>\n\n                {this.renderInput('IFTTT key', 'iftttKey')}<br/>\n\n                <TextField\n                    style={{marginTop: 10}}\n                    label={I18n.t('Use following link for IFTTT')}\n                    className={this.props.classes.input + ' ' + this.props.classes.controlElement + ' ' + this.props.classes.fullSize}\n                    value={`https://service.iobroker.in/v1/iotService?service=ifttt&key=${this.state.key}&user=${encodeURIComponent(this.props.native.login)}`}\n                    type=\"text\"\n                    readOnly={true}\n                    margin=\"normal\"\n                />\n                <Fab size=\"small\" style={{marginTop: 10, marginLeft: 5}} onClick={() => Utils.copyToClipboard(`https://service.iobroker.in/v1/iotService?service=ifttt&key=${this.state.key}&user=${encodeURIComponent(this.props.native.login)}`)} ><img src={CopyContentImg} alt=\"Copy\" /></Fab><br/>\n                <br/>\n\n                {this.renderChips('White list for services', 'allowedServices')}<br/>\n\n                <TextField\n                    style={{marginTop: 10}}\n                    label={I18n.t('Use following link for custom service')}\n                    className={this.props.classes.input + ' ' + this.props.classes.controlElement + ' ' + this.props.classes.fullSize}\n                    value={`https://service.iobroker.in/v1/iotService?service=custom_<SERVICE_NAME>&key=${this.state.key}&user=${encodeURIComponent(this.props.native.login)}&data=<SOME_TEXT>`}\n                    type=\"text\"\n                    readOnly={true}\n                    margin=\"normal\"\n                />\n                <Fab size=\"small\" style={{marginTop: 10, marginLeft: 5}} onClick={() => Utils.copyToClipboard(`https://service.iobroker.in/v1/iotService?service=custom_<SERVICE_NAME>&key=${this.state.key}&user=${encodeURIComponent(this.props.native.login)}&data=<SOME_TEXT>`)}><img src={CopyContentImg} alt=\"Copy\" /></Fab><br/>\n\n                <FormControl className={this.props.classes.input + ' ' + this.props.classes.controlElement} style={{paddingTop: 20}}>\n                    <Select\n                        value={this.props.native.text2command || '_'}\n                        onChange={e => this.props.onChange('text2command', e.target.value === '_' ? '' : e.target.value)}\n                        input={<Input name=\"text2command\" id=\"text2command-helper\" />}\n                    >\n                        <MenuItem key=\"key-default\" value={'_'}>{I18n.t('disabled')}</MenuItem>\n                        {this.state.text2commandList.map(item => (<MenuItem key={'key-' + item} value={item}>text2command.{item}</MenuItem>))}\n                    </Select>\n                    <FormHelperText>{I18n.t('Use text2command instance')}</FormHelperText>\n                </FormControl>\n                {this.renderToast()}\n            </form>\n        );\n    }\n}\n\nServices.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n    onChange: PropTypes.func,\n    socket: PropTypes.object.isRequired,\n    onShowError: PropTypes.func,\n};\n\nexport default withStyles(styles)(Services);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Utils from '../Components/Utils'\nimport Switch from '@material-ui/core/Switch';\nimport {MdEdit as IconEdit} from 'react-icons/md';\n\nimport I18n from '../i18n';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MessageDialog from '../Dialogs/Message';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst CHANGED_COLOR = '#e7000040';\n\nconst styles = theme => ({\n    tab: {\n        width: '100%',\n        height: '100%'\n    },\n    column: {\n        display: 'inline-block',\n        verticalAlign: 'top',\n        marginRight: 20,\n        height: '100%',\n        overflow: 'hidden',\n        width: 'calc(50% - 20px)',\n        minWidth: 300,\n        maxWidth: 450\n    },\n    columnDiv: {\n        height: 'calc(100% - 60px)',\n        overflow: 'auto',\n        minWidth: 300\n    },\n    enumLineEnabled: {\n        position: 'absolute',\n        right: 0,\n        top: 0,\n    },\n    enumLineEdit: {\n        //float: 'right'\n        position: 'absolute',\n        top: 5,\n        right: 50\n    },\n    enumLineName: {\n\n    },\n    enumLineSubName:{\n        fontStyle: 'italic',\n    },\n    enumLine: {\n        height: 48,\n        width: '100%',\n        position: 'relative'\n    },\n    enumLineId: {\n        display: 'block',\n        fontStyle: 'italic',\n        fontSize: 12\n    },\n    columnHeader: {\n        background: theme.palette.primary.light,\n        padding: 10,\n        color: theme.palette.primary.contrastText\n    }\n});\n\nclass Enums extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            inAction: false,\n            editId: '',\n            editedSmartName: '',\n            funcs: [],\n            rooms: [],\n            changed: [],\n            message: '',\n            loading: true,\n        };\n\n        this.onEnumUpdateBound = this.onEnumUpdate.bind(this);\n\n        this.props.socket.getEnums()\n            .then(res => {\n                const funcs = [];\n                const rooms = [];\n                Object.keys(res).forEach(id => {\n                    if (id.match(/^enum\\.rooms\\./)) {\n                        rooms.push(res[id]);\n                    } else\n                    if (id.match(/^enum\\.functions\\./)) {\n                        funcs.push(res[id]);\n                    }\n                });\n\n                this.setState({funcs, rooms, loading: false});\n                return this.props.socket.subscribeObject('enum.*', this.onEnumUpdateBound);\n            });\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unsubscribeObject('enum.*', this.onEnumUpdateBound).then(() => {});\n    }\n\n    onEnumUpdate(id, obj) {\n        this.removeChanged(id);\n        this.updateObjInState(id, obj);\n    }\n\n    informInstance(id) {\n        this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, 'update', id);\n    }\n\n    addChanged(id) {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        if (changed.indexOf(id) === -1) {\n            changed.push(id);\n            this.setState({changed});\n        }\n    }\n\n    removeChanged(id) {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        const pos = changed.indexOf(id);\n\n        if (pos !== -1) {\n            changed.splice(pos, 1);\n            this.setState({changed});\n        }\n    }\n\n    updateObjInState(id, obj) {\n        // update obj\n        if (id.match(/^enum\\.functions\\./)) {\n            for (let i = this.state.funcs.length - 1; i >= 0 ; i--) {\n                if (this.state.funcs[i]._id === id) {\n                    const funcs = JSON.parse(JSON.stringify(this.state.funcs));\n                    if (obj) {\n                        funcs[i] = obj;\n                    } else {\n                        funcs.splice(i, 1);\n                    }\n                    this.setState({funcs});\n                    break;\n                }\n            }\n        } else\n        if (id.match(/^enum\\.rooms\\./)) {\n            for (let i = this.state.rooms.length - 1; i >= 0; i--) {\n                if (this.state.rooms[i]._id === id) {\n                    const rooms = JSON.parse(JSON.stringify(this.state.rooms));\n                    if (obj) {\n                        rooms[i] = obj;\n                    } else {\n                        rooms.splice(i, 1);\n                    }\n                    this.setState({rooms});\n                    break;\n                }\n            }\n        }\n    }\n\n    onToggleEnum(id) {\n        let obj = this.state.funcs.find(e => e._id === id) || this.state.rooms.find(e => e._id === id);\n\n        let smartName = Utils.getSmartNameFromObj(obj);\n        obj = JSON.parse(JSON.stringify(obj));\n        if (smartName !== false) {\n            Utils.disableSmartName(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n        } else {\n            Utils.removeSmartName(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n        }\n\n        this.addChanged(id);\n\n        this.props.socket.setObject(id, obj)\n            .then(() => {\n                // update obj\n                this.updateObjInState(id, obj);\n                this.informInstance(id);\n\n                setTimeout(() => this.removeChanged(id), 500);\n            });\n    }\n\n    onEdit(id) {\n        const obj = this.state.funcs.find(e => e._id === id) || this.state.rooms.find(e => e._id === id);\n        let smartName = Utils.getSmartNameFromObj(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n        if (typeof smartName === 'object' && smartName) {\n            smartName = smartName[I18n.getLanguage()] || smartName.en;\n        }\n        smartName = smartName || Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()});\n        this.setState({editId: id, editedSmartName: smartName});\n    }\n\n    renderEnum(obj) {\n        let smartName = Utils.getSmartNameFromObj(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n        // convert old format\n        if (smartName && typeof smartName === 'object') {\n            smartName = smartName[I18n.getLanguage()] || smartName.en || '';\n        }\n        let name = Utils.getObjectNameFromObj(obj);\n\n        return (<div key={obj._id} className={this.props.classes.enumLine} style={{background: this.state.changed.indexOf(obj._id) !== -1 ? CHANGED_COLOR : 'inherit'}}>\n            <span className={this.props.classes.enumLineName} style={{opacity: smartName === false ? 0.5: 1}}>{smartName || null}{smartName ? (<span className={this.props.classes.enumLineSubName}> ({name})</span>) : name}</span>\n            <span className={this.props.classes.enumLineId} style={{opacity: smartName === false ? 0.5: 1}}>{obj._id}</span>\n            <Switch\n                className={this.props.classes.enumLineEnabled}\n                checked={smartName !== false}\n                onChange={() => this.onToggleEnum(obj._id)}\n            />\n            <IconButton aria-label=\"Edit\" className={this.props.classes.enumLineEdit} onClick={() => this.onEdit(obj._id)}>\n                <IconEdit fontSize=\"small\" />\n            </IconButton>\n\n        </div>);\n    }\n\n    renderEnums(name) {\n        return this.state[name].map(e => this.renderEnum(e));\n    }\n\n    renderMessage() {\n        if (this.state.message) {\n            return (<MessageDialog text={this.state.message} onClose={() => this.setState({message: ''})}/>);\n        } else {\n            return null;\n        }\n    }\n\n    changeSmartName() {\n        // Check if the name is duplicate\n        let enums = this.state.editId.startsWith('enum.functions.') ? this.state.funcs : this.state.rooms;\n        if (enums.find(obj =>\n            this.state.editId !== obj._id && (\n            this.state.editedSmartName === Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()}) ||\n            this.state.editedSmartName === Utils.getSmartNameFromObj(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon)))) {\n            this.setState({message: I18n.t('Duplicate name')});\n        } else {\n            this.addChanged(this.state.editId);\n            setTimeout(() => this.removeChanged(this.state.editId), 500);\n            const id = this.state.editId;\n            this.setState({editId: ''});\n            let newObj;\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.updateSmartName(obj, this.state.editedSmartName, undefined, undefined, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                    newObj = obj;\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    // update obj\n                    this.updateObjInState(id, newObj);\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        }\n    }\n\n    renderEditDialog() {\n        if (this.state.editId) {\n            const obj = this.state.funcs.find(e => e._id === this.state.editId) || this.state.rooms.find(e => e._id === this.state.editId);\n\n            return (<Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"message-dialog-title\"\n                aria-describedby=\"message-dialog-description\"\n            >\n                <DialogTitle id=\"message-dialog-title\">{this.props.title || I18n.t('Smart name for %s', Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()}))}</DialogTitle>\n                <DialogContent>\n                    <TextField\n                        style={{width: '100%'}}\n                        label={I18n.t('Smart name')}\n                        onChange={e => this.setState({editedSmartName: e.target.value})}\n                        value={this.state.editedSmartName}\n                        helperText={I18n.t('You can enter several names divided by comma')}\n                        margin=\"normal\"\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.changeSmartName()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.setState({editId: ''})}>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>)\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (<CircularProgress />);\n        }\n        return (\n            <form className={this.props.classes.tab}>\n                <div className={this.props.classes.column}>\n                    <h5 className={this.props.classes.columnHeader}>{I18n.t('Rooms')}</h5>\n                    <div className={this.props.classes.columnDiv}>{this.renderEnums('rooms')}</div>\n                </div>\n                <div className={this.props.classes.column}>\n                    <h5 className={this.props.classes.columnHeader}>{I18n.t('Functions')}</h5>\n                    <div className={this.props.classes.columnDiv}>{this.renderEnums('funcs')}</div>\n                </div>\n                {this.renderMessage()}\n                {this.renderEditDialog()}\n            </form>\n        );\n    }\n}\n\nEnums.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n    onChange: PropTypes.func,\n    socket: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Enums);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Utils from '../Components/Utils'\nimport Fab from '@material-ui/core/Fab';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Input from '@material-ui/core/Input';\nimport Badge from '@material-ui/core/Badge';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdRefresh as IconRefresh} from 'react-icons/md';\nimport {MdClear as IconClear} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdFormatAlignJustify as IconExpand} from 'react-icons/md';\nimport {MdDragHandle as IconCollapse} from 'react-icons/md';\n\nimport {FaPowerOff as IconOn} from 'react-icons/fa';\nimport {FaThermometerHalf as IconTemperature} from 'react-icons/fa';\nimport {FaLongArrowAltUp as IconUp} from 'react-icons/fa';\nimport {FaLongArrowAltDown as IconDown} from 'react-icons/fa';\nimport {FaPercentage as IconPercentage} from 'react-icons/fa';\nimport {FaPalette as IconColor} from 'react-icons/fa';\nimport {FaLightbulb as IconBulb} from 'react-icons/fa';\nimport {FaLockOpen as IconLock} from 'react-icons/fa';\nimport {FaThermometer as IconThermometer} from 'react-icons/fa';\n\nimport I18n from '../i18n';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MessageDialog from '../Dialogs/Message';\nimport DialogSelectID from '../Dialogs/SelectID';\n\nconst colorOn = '#aba613';\nconst colorOff = '#444';\nconst colorSet = '#00c6ff';\nconst colorRead = '#00bc00';\nconst CHANGED_COLOR = '#e7000040';\nconst DEFAULT_CHANNEL_COLOR = '#e9e9e9';\nconst LAST_CHANGED_COLOR = '#b4ffbe';\n\nconst actionsMapping = {\n    turnOn: {color: colorOn, icon: IconOn, desc: 'Turn on'},\n    turnOff: {color: colorOff, icon: IconOn, desc: 'Turn off'},\n\n    setTargetTemperature: {color: colorSet, icon: IconTemperature, desc: 'Set target temperature'},\n    incrementTargetTemperature: {color: colorOn, icon: IconUp, desc: 'Increment target temperature'},\n    decrementTargetTemperature: {color: colorOff, icon: IconDown, desc: 'Decrement target temperature'},\n\n    setPercentage: {color: colorSet, icon: IconPercentage, desc: 'Set percentage'},\n    incrementPercentage: {color: colorOn, icon: IconUp, desc: 'Increment percentage'},\n    decrementPercentage: {color: colorOff, icon: IconDown, desc: 'Decrement percentage'},\n\n    setColor: {color: colorSet, icon: IconColor, desc: 'Set color'},\n\n    setColorTemperature: {color: colorSet, icon: IconBulb, desc: 'Set color temperature'},\n    incrementColorTemperature: {color: colorOn, icon: IconUp, desc: 'Increment color temperature'},\n    decrementColorTemperature: {color: colorOff, icon: IconDown, desc: 'Decrement color temperature'},\n\n    getTargetTemperature: {color: colorRead, icon: IconThermometer, desc: 'Get target temperature'},\n    getTemperatureReading: {color: colorRead, icon: IconThermometer, desc: 'Get actual temperature'},\n\n    setLockState: {color: colorSet, icon: IconLock, desc: 'Set lock state'},\n    getLockState: {color: colorRead, icon: IconLock, desc: 'Read lock state'},\n};\n\nconst SMARTTYPES = ['LIGHT', 'SWITCH', 'THERMOSTAT', 'ACTIVITY_TRIGGER', 'SCENE_TRIGGER', 'SMARTPLUG', 'SMARTLOCK', 'CAMERA'];\n\nconst styles = theme => ({\n    tab: {\n        width: '100%',\n        height: '100%'\n    },\n    column: {\n        display: 'inline-block',\n        verticalAlign: 'top',\n        marginRight: 20,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    columnDiv: {\n        height: 'calc(100% - 40px)',\n        overflow: 'auto',\n        minWidth: 300\n    },\n    filter: {\n        margin: 0\n    },\n    button: {\n        marginRight: 20\n    },\n    devLineExpand: {\n        marginRight: 10,\n    },\n    devLineEnabled: {\n        position: 'absolute',\n        right: 0,\n        top: 0,\n    },\n    devLineEdit: {\n        position: 'absolute',\n        top: 5,\n        right: 50\n    },\n    devLineDelete: {\n        position: 'absolute',\n        top: 5,\n        right: 0\n    },\n    devLineName: {\n\n    },\n    devLineNumber:{\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        width: 15,\n    },\n    editedId: {\n        fontStyle: 'italic'\n    },\n    enumLineSubName:{\n        fontStyle: 'italic',\n    },\n    devLine: {\n        height: 48,\n        width: '100%',\n        position: 'relative'\n    },\n    devLineDescription: {\n        display: 'block',\n        fontStyle: 'italic',\n        fontSize: 12\n    },\n    devLineActions: {\n        fontStyle: 'italic',\n        fontSize: 12,\n        paddingLeft: 50,\n        display: 'inline-block',\n    },\n    devLineProgress: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n    },\n    channelLineActions: {\n        width: 80\n    },\n    devLineNameBlock: {\n        display: 'inline-block',\n        width: 'calc(100% - 350px)'\n    },\n    columnHeader: {\n        background: theme.palette.primary.light,\n        padding: 10,\n        color: theme.palette.primary.contrastText\n    },\n    devModified: {\n        fontStyle: 'italic'\n    },\n    actionIcon: {\n        width: 16\n    },\n\n    devSubLine: {\n        position: 'relative',\n        height: 48\n    },\n    devSubLineName: {\n        marginLeft: 5,\n        marginTop: 14,\n        display: 'inline-block',\n        fontSize: 13,\n        width: 'calc(100% - 400px)'\n    },\n    devSubSubLineName:  {\n        fontSize: 8,\n        fontStyle: 'italic',\n        display: 'block'\n    },\n    devSubLineByOn: {\n        marginLeft: 5\n    },\n    devSubLineDelete: {\n        position: 'absolute',\n        top: 12,\n        right: 12,\n        padding: 0\n    },\n    devSubLineEdit: {\n        position: 'absolute',\n        top: 12,\n        right: 62,\n        padding: 0\n    },\n    devSubLineTypeTitle: {\n        marginTop: 0\n    }\n});\n\nclass AlexaSmartNames extends Component {\n    constructor(props) {\n        super(props);\n\n        if (!actionsMapping.translated) {\n            Object.keys(actionsMapping).forEach(a => actionsMapping[a].desc = I18n.t(actionsMapping[a].desc));\n            actionsMapping.translated = true;\n        }\n\n        this.state = {\n            editedSmartName: '',\n            editId: '',\n            editObjectName: '',\n            deleteId: '',\n\n            showSelectId: false,\n            showConfirmation: '',\n            changed: [],\n            devices: [],\n            message: '',\n            filter: '',\n            loading: true,\n            browse: false,\n            expanded: [],\n            lastChanged: ''\n        };\n\n        this.timerChanged = null;\n        this.browseTimer = null;\n        this.browseTimerCount = 0;\n        this.editedSmartName = '';\n\n        this.waitForUpdateID = null;\n        this.onReadyUpdateBound = this.onReadyUpdate.bind(this);\n        this.onResultUpdateBound = this.onResultUpdate.bind(this);\n\n        this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`).then(obj => {\n            this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(state => {\n                if (!obj || !obj.common || (!obj.common.enabled && (!state || !state.val))) {\n                    this.setState({message: I18n.t('Instance must be enabled'), loading: false, devices: []});\n                } else {\n                    this.browse();\n                }\n            });\n        });\n    }\n\n    browse(isIndicate) {\n        if (Date.now() - this.lastBrowse < 500) return;\n        this.lastBrowse = Date.now();\n        if (isIndicate) {\n            this.setState({loading: true, browse: true});\n        } else {\n            this.setState({browse: true});\n        }\n        console.log('Send BROWSE!');\n        this.browseTimer = setTimeout(() => {\n            console.log('Browse timeout!');\n            this.browseTimer = null;\n            this.browseTimerCount++;\n            if (this.browseTimerCount < 5) {\n                this.browse(isIndicate);\n            } else {\n                this.setState({message: I18n.t('Cannot read devices!')});\n            }\n        }, 10000);\n\n        this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, 'browse', null, list => {\n            this.browseTimer && clearTimeout(this.browseTimer);\n            this.browseTimerCount = 0;\n            this.browseTimer = null;\n            if (this.waitForUpdateID) {\n                if (!this.onEdit(this.waitForUpdateID, list)) {\n                    this.setState({message: I18n.t('Device %s was not added', this.waitForUpdateID)});\n                }\n                this.waitForUpdateID = null;\n            }\n            console.log('BROWSE received.');\n\n            this.setState({devices: list, loading: false, changed: [], browse: false});\n        });\n    }\n\n    onReadyUpdate(id, state) {\n        console.log('Update ' + id + ' ' + state.val + '/' + state.ack);\n        if (state && state.ack === true && state.val === true) {\n            if (this.devTimer) clearTimeout(this.devTimer);\n            this.devTimer = setTimeout(() => {\n                this.devTimer = null;\n                this.browse();\n            }, 300);\n        }\n    }\n\n    onResultUpdate(id, state) {\n        state && state.ack === true && state.val && this.setState({message: state.val});\n    }\n\n    componentWillMount() {\n        this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updates`, this.onReadyUpdateBound);\n        this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updatesResult`, this.onResultUpdateBound);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updates`, this.onReadyUpdateBound);\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updatesResult`, this.onResultUpdateBound);\n        if (this.timerChanged) {\n            clearTimeout(this.timerChanged);\n            this.timerChanged = null;\n        }\n    }\n\n    informInstance(id) {\n        this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, 'update', id);\n    }\n\n    addChanged(id, cb) {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        if (changed.indexOf(id) === -1) {\n            changed.push(id);\n            this.setState({changed}, () => cb && cb());\n        } else {\n            cb && cb();\n        }\n    }\n\n    removeChanged(id) {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        const pos = changed.indexOf(id);\n\n        if (pos !== -1) {\n            changed.splice(pos, 1);\n            this.setState({changed});\n        }\n    }\n\n    onEdit(id, devices) {\n        devices = devices || this.state.devices;\n        const device = devices.find(dev => dev.additionalApplianceDetails.id === id);\n        if (device) {\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    let smartName = device.additionalApplianceDetails.friendlyNames ? device.additionalApplianceDetails.friendlyNames : device.friendlyName;\n                    if (typeof smartName === 'object' && smartName) {\n                        smartName = smartName[I18n.getLanguage()] || smartName.en;\n                    }\n                    this.editedSmartName = smartName;\n                    this.setState({editId: id, editedSmartName: smartName, editObjectName: Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()})});\n                });\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    onAskDelete(deleteId) {\n        this.setState({deleteId, showConfirmation: true});\n    }\n\n    onDelete() {\n        let id = this.state.deleteId;\n        // const device = this.state.devices.find(dev => dev.additionalApplianceDetails.id === id);\n        this.addChanged(id, () => {\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.disableSmartName(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    this.setState({deleteId: '', showConfirmation: false, lastChanged: id});\n\n                    this.timerChanged && clearTimeout(this.timerChanged);\n                    this.timerChanged = setTimeout(() => {\n                        this.setState({lastChanged: ''});\n                        this.timerChanged = null;\n                    }, 30000);\n\n                    // update obj\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        });\n    }\n\n    renderActions(dev) {\n        // Type\n        const actions = [];\n        if (!dev.actions) {\n            console.log('Something went wrong');\n            return null;\n        }\n        dev.actions.sort((a, b) => {\n            if (a === b) return 0;\n            if (a === 'turnOn') return -1;\n            if (b === 'turnOn') return 1;\n\n            if (a === 'turnOff') return -1;\n            if (b === 'turnOff') return 1;\n            return 0;\n        });\n\n        Object.keys(actionsMapping).forEach(action => {\n            if (dev.actions.indexOf(action) !== -1) {\n                const Icon = actionsMapping[action].icon;\n                actions.push((<span key={action} title={actionsMapping[action].desc}><Icon className={this.props.classes.actionIcon} style={{color: actionsMapping[action].color}}/></span>));\n            }\n        });\n        // add unknown actions\n        for (let a = 0; a < dev.actions.length; a++) {\n            if (!actionsMapping[dev.actions[a]]) {\n                actions.push((<span key={dev.actions[a]}>{dev.actions[a]}</span>));\n            }\n        }\n        return actions;\n    }\n\n    onExpand(lineNum) {\n        const expanded = JSON.parse(JSON.stringify(this.state.expanded));\n        const pos = expanded.indexOf(this.state.devices[lineNum].friendlyName);\n        if (pos === -1) {\n            expanded.push(this.state.devices[lineNum].friendlyName);\n        } else {\n            expanded.splice(pos, 1);\n        }\n        this.setState({expanded});\n    }\n\n    renderSelectByOn(dev, lineNum, id, type) {\n        // type = '-', 'stored', false or number [5-100]\n        if (type !== false) {\n            const items = [\n                (<MenuItem key=\"_\" value=\"\"><em>{I18n.t('Default')}</em></MenuItem>),\n                (<MenuItem key=\"last\" value=\"stored\">{I18n.t('last value')}</MenuItem>)\n            ];\n            for (let i = 5; i <= 100; i += 5) {\n                items.push((<MenuItem  key={i.toString()} value={i.toString()}>{i}%</MenuItem>));\n            }\n            return (<FormControl className={this.props.classes.devSubLineByOn}>\n                <Select className={this.props.classes.devSubLineByOnSelect} value={(type || '').toString()} onChange={e => this.onParamsChange(id, e.target.value)}>{items}</Select>\n                <FormHelperText className={this.props.classes.devSubLineTypeTitle}>{I18n.t('by ON')}</FormHelperText>\n            </FormControl>);\n        } else {\n            return null;\n        }\n    }\n\n    onParamsChange(id, byON, type) {\n        this.addChanged(id, () => {\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.updateSmartName(obj, undefined, byON, type, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n\n                    if (this.state.lastChanged !== id) {\n                        this.setState({lastChanged: id});\n                        this.timerChanged && clearTimeout(this.timerChanged);\n                        this.timerChanged = setTimeout(() => {\n                            this.setState({lastChanged: ''});\n                            this.timerChanged = null;\n                        }, 30000);\n                    }\n\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    // update obj\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        });\n    }\n\n    renderSelectType(dev, lineNum, id, type) {\n        if (type !== false) {\n            const items = [\n                (<MenuItem key=\"_\" value=\"_\"><em>{I18n.t('no type')}</em></MenuItem>)\n            ];\n            for (let i = 0; i < SMARTTYPES.length; i++) {\n                items.push((<MenuItem  key={SMARTTYPES[i]} value={SMARTTYPES[i]}><em>{I18n.t(SMARTTYPES[i])}</em></MenuItem>));\n            }\n            return (\n                <FormControl>\n                    <Select value={type || '_'} onChange={e => this.onParamsChange(id, undefined, e.target.value)}>{items}</Select>\n                    <FormHelperText className={this.props.classes.devSubLineTypeTitle}>{I18n.t('Types')}</FormHelperText>\n                </FormControl>);\n        } else {\n            return '';\n        }\n    }\n\n    renderChannels(dev, lineNum) {\n        const result = [];\n        const classes = this.props.classes;\n\n        if (dev.additionalApplianceDetails.group) {\n            const channels   = dev.additionalApplianceDetails.channels;\n            const names      = dev.additionalApplianceDetails.names;\n            const types      = dev.additionalApplianceDetails.byONs;\n            const smarttypes = dev.additionalApplianceDetails.smartTypes;\n\n            let c = 0;\n            for (const chan in channels) {\n                if (channels.hasOwnProperty(chan)) {\n                    for (let i = 0; i < channels[chan].length; i++) {\n                        const id = channels[chan][i].id;\n                        let background = this.state.changed.indexOf(id) !== -1 ? CHANGED_COLOR : DEFAULT_CHANNEL_COLOR;\n                        if (this.state.lastChanged === id && background === DEFAULT_CHANNEL_COLOR) {\n                            background = LAST_CHANGED_COLOR;\n                        }\n                        result.push((<div key={'sub' + id} className={classes.devSubLine} style={(c % 2) ? {} : {background}}>\n                            <div className={this.props.classes.devLineActions + ' ' + this.props.classes.channelLineActions}>{this.renderActions(channels[chan][i])}</div>\n                            <div className={classes.devSubLineName} title={id}>{(names[id] || id)}\n                                {id !== names[id] ? (<span className={classes.devSubSubLineName}>{id}</span>) : null}\n                            </div>\n                            {this.renderSelectType(dev, lineNum, id, smarttypes[id])}\n                            {this.renderSelectByOn(dev, lineNum, id, types[id])}\n                            <IconButton aria-label=\"Delete\" className={this.props.classes.devSubLineDelete} onClick={() => this.onAskDelete(id, lineNum)}><IconDelete fontSize=\"middle\" /></IconButton>\n                        </div>));\n                        c++;\n                    }\n                }\n            }\n        } else {\n            const id = dev.additionalApplianceDetails.id;\n            const name = dev.additionalApplianceDetails.name || id;\n            let background = this.state.changed.indexOf(id) !== -1 ? CHANGED_COLOR : DEFAULT_CHANNEL_COLOR;\n            if (this.state.lastChanged === id && background === DEFAULT_CHANNEL_COLOR) {\n                background = LAST_CHANGED_COLOR;\n            }\n            result.push((<div key={'sub' + id} className={classes.devSubLine} style={{background}}>\n                <div className={this.props.classes.devLineActions + ' ' + this.props.classes.channelLineActions} style={{width: 80}}>{this.renderActions(dev)}</div>\n                <div className={classes.devSubLineName} title={(id || '')}>{name}</div>\n                {this.renderSelectType(dev, lineNum, id, dev.additionalApplianceDetails.smartType)}\n                {this.renderSelectByOn(dev, lineNum, id, dev.additionalApplianceDetails.byON)}\n            </div>));\n        }\n        return result;\n    }\n\n    renderDevice(dev, lineNum) {\n        let friendlyName = dev.friendlyName;\n        let title;\n        if (!dev.additionalApplianceDetails.group && dev.additionalApplianceDetails.nameModified) {\n            title = friendlyName;\n        } else {\n            title = (<span className={this.props.classes.devModified} title={I18n.t('modified')}>{friendlyName}</span>);\n        }\n\n        let devCount = 0;\n        for (const ch in dev.additionalApplianceDetails.channels) {\n            if (dev.additionalApplianceDetails.channels.hasOwnProperty(ch)) {\n                devCount += dev.additionalApplianceDetails.channels[ch].length;\n            }\n        }\n        devCount = devCount || 1;\n        const expanded = this.state.expanded.indexOf(friendlyName) !== -1;\n        const id = dev.additionalApplianceDetails.id;\n\n        let background = (lineNum % 2) ? '#f1f1f1' : 'inherit';\n        const changed = this.state.changed.indexOf(id) !== -1;\n        if (changed) {\n            background = CHANGED_COLOR;\n        } else if (id === this.state.lastChanged) {\n            background = LAST_CHANGED_COLOR;\n        }\n\n        // If some of sub channels in change list or in last changed\n        if (dev.additionalApplianceDetails.group && !changed && id !== this.state.lastChanged) {\n            const channels = dev.additionalApplianceDetails.channels;\n            for (const chan in channels) {\n                if (channels.hasOwnProperty(chan)) {\n                    for (let i = 0; i < channels[chan].length; i++) {\n                        const id = channels[chan][i].id;\n                        if (this.state.changed.indexOf(id) !== -1) {\n                            background = CHANGED_COLOR;\n                        } else if (this.state.lastChanged === id) {\n                            background = LAST_CHANGED_COLOR;\n                        }\n                    }\n                }\n            }\n        }\n\n        return [\n            (<div key={'line' + lineNum} className={this.props.classes.devLine} style={{background}}>\n                <div className={this.props.classes.devLineNumber}>{lineNum + 1}.</div>\n                <IconButton className={this.props.classes.devLineExpand} onClick={() => this.onExpand(lineNum)}>\n                    {devCount > 1 ?\n                        (<Badge badgeContent={devCount} color=\"primary\">\n                            {expanded ? (<IconCollapse/>) : (<IconExpand />)}\n                        </Badge>) :\n                        (expanded ? (<IconCollapse/>) : (<IconExpand />))}\n                </IconButton>\n                <div className={this.props.classes.devLineNameBlock} style={{display: 'inline-block', position: 'relative'}}>\n                    <span className={this.props.classes.devLineName}>{title}</span>\n                    <span className={this.props.classes.devLineDescription}>{dev.friendlyDescription}</span>\n                    {changed ? (<CircularProgress className={this.props.classes.devLineProgress} size={20}/>) : null}\n                </div>\n                <span className={this.props.classes.devLineActions}>{this.renderActions(dev)}</span>\n                {!dev.additionalApplianceDetails.group ?\n                    (<IconButton aria-label=\"Edit\" className={this.props.classes.devLineEdit} onClick={() => this.onEdit(id)}><IconEdit fontSize=\"middle\" /></IconButton>) : null}\n                {!dev.additionalApplianceDetails.group ?\n                    (<IconButton aria-label=\"Delete\" className={this.props.classes.devLineDelete} onClick={() => this.onAskDelete(id)}><IconDelete fontSize=\"middle\" /></IconButton>) : null}\n            </div>),\n            expanded ? this.renderChannels(dev, lineNum) : null\n        ];\n    }\n\n    renderMessage() {\n        if (this.state.message) {\n            return (<MessageDialog text={this.state.message} onClose={() => this.setState({message: ''})}/>);\n        } else {\n            return null;\n        }\n    }\n\n    changeSmartName(e) {\n        e && e.preventDefault();\n        // Check if the name is duplicate\n        this.addChanged(this.state.editId, () => {\n            const id = this.state.editId;\n            this.setState({editId: '', editObjectName: '', lastChanged: id});\n\n            this.timerChanged && clearTimeout(this.timerChanged);\n            this.timerChanged = setTimeout(() => {\n                this.setState({lastChanged: ''});\n                this.timerChanged = null;\n            }, 30000);\n\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.updateSmartName(obj, this.editedSmartName, undefined, undefined, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    // update obj\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        });\n    }\n\n    renderEditDialog() {\n        if (this.state.editId) {\n            return (<Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"message-dialog-title\"\n                aria-describedby=\"message-dialog-description\"\n            >\n                <DialogTitle id=\"message-dialog-title\">{this.props.title || I18n.t('Smart name for %s', this.state.editObjectName)}</DialogTitle>\n                <DialogContent>\n                    <p><span>ID:</span> <span className={this.props.classes.editedId}>{this.state.editId}</span></p>\n                    <TextField\n                        style={{width: '100%'}}\n                        label={I18n.t('Smart name')}\n                        onKeyDown={e =>\n                            e.keyCode === 13 && this.changeSmartName(e)}\n                        onChange={e => this.editedSmartName = e.target.value}\n                        defaultValue={this.state.editedSmartName}\n                        helperText={I18n.t('You can enter several names divided by comma')}\n                        margin=\"normal\"\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.changeSmartName()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                    <Button onClick={() => {\n                        this.editedSmartName = null;\n                        this.setState({editId: '', editedSmartName: ''});\n                    }}>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>)\n        } else {\n            return null;\n        }\n    }\n\n    renderConfirmDialog() {\n        if (this.state.showConfirmation) {\n            return (<Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"confirmation-dialog-title\"\n                aria-describedby=\"confirmation-dialog-description\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Device will be disabled.')}</DialogTitle>\n                <DialogContent>\n                    <p>{I18n.t('Are you sure?')}</p>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.onDelete()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.setState({showConfirmation: ''})}>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>)\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            return (<DialogSelectID\n                key=\"dialogSelectID1\"\n                prefix={'../..'}\n                connection={this.props.socket}\n                selected={''}\n                statesOnly={true}\n                onClose={() => this.setState({showSelectId: false})}\n                onOk={(selected, name) => {\n                    this.setState({showSelectId: false});\n\n                    this.props.socket.getObject(selected)\n                        .then(obj => {\n                            if (obj) {\n                                const name = Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()});\n                                Utils.updateSmartName(obj, (name || I18n.t('Device name')).replace(/[-_.]+/g, ' '), undefined, undefined, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                                this.addChanged(obj._id);\n                                this.waitForUpdateID = obj._id;\n\n                                if (this.state.lastChanged !== obj._id) {\n                                    this.setState({lastChanged: obj._id});\n                                    this.timerChanged && clearTimeout(this.timerChanged);\n                                    this.timerChanged = setTimeout(() => {\n                                        this.setState({lastChanged: ''});\n                                        this.timerChanged = null;\n                                    }, 30000);\n                                }\n\n                                this.props.socket.setObject(obj._id, obj)\n                                    .then(() => this.informInstance(obj._id))\n                                    .catch(err => this.setState({message: err}));\n                            } else {\n                                this.setState({message: I18n.t('Invalid ID')});\n                            }\n                        });\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    renderDevices() {\n        const filter = this.state.filter.toLowerCase();\n        const result = [];\n        for (let i = 0; i < this.state.devices.length; i++) {\n            if (this.state.filter && this.state.devices[i].friendlyName.toLowerCase().indexOf(filter) === -1 ) continue;\n            result.push(this.renderDevice(this.state.devices[i], i));\n        }\n        return (<div key=\"listDevices\" className={this.props.classes.columnDiv}>{result}</div>);\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (<CircularProgress  key=\"alexaProgress\" />);\n        }\n\n        return (\n            <form key=\"alexa\" className={this.props.classes.tab}>\n                <Fab size=\"small\" color=\"secondary\" aria-label=\"Add\" className={this.props.classes.button} onClick={() => this.setState({showSelectId: true})}><IconAdd /></Fab>\n                <Fab size=\"small\" color=\"primary\" aria-label=\"Refresh\" className={this.props.classes.button}\n                      onClick={() => this.browse(true)} disabled={this.state.browse}>{this.state.browse ? (<CircularProgress size={20} />) : (<IconRefresh/>)}</Fab>\n\n                <Input\n                    placeholder={I18n.t('Filter')}\n                    className={this.state.filter}\n                    value={this.state.filter}\n                    onChange={e => this.setState({filter: e.target.value})}\n                />\n                <IconButton aria-label=\"Clear\" className={this.props.classes.button} onClick={() => this.setState({filter: ''})}><IconClear fontSize=\"large\" /></IconButton>\n                {this.renderDevices()}\n                {this.renderMessage()}\n                {this.renderEditDialog()}\n                {this.getSelectIdDialog()}\n                {this.renderConfirmDialog()}\n            </form>\n        );\n    }\n}\n\nAlexaSmartNames.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n    onChange: PropTypes.func,\n    socket: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AlexaSmartNames);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Utils from '../Components/Utils'\nimport Fab from '@material-ui/core/Fab';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Input from '@material-ui/core/Input';\nimport Badge from '@material-ui/core/Badge';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdRefresh as IconRefresh} from 'react-icons/md';\nimport {MdClear as IconClear} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdFormatAlignJustify as IconExpand} from 'react-icons/md';\nimport {MdDragHandle as IconCollapse} from 'react-icons/md';\n\nimport {FaPowerOff as IconOn} from 'react-icons/fa';\nimport {FaThermometerHalf as IconTemperature} from 'react-icons/fa';\nimport {FaLongArrowAltUp as IconUp} from 'react-icons/fa';\nimport {FaLongArrowAltDown as IconDown} from 'react-icons/fa';\nimport {FaPercentage as IconPercentage} from 'react-icons/fa';\nimport {FaPalette as IconColor} from 'react-icons/fa';\nimport {FaLightbulb as IconBulb} from 'react-icons/fa';\nimport {FaLockOpen as IconLock} from 'react-icons/fa';\nimport {FaThermometer as IconThermometer} from 'react-icons/fa';\n\nimport I18n from '../i18n';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MessageDialog from '../Dialogs/Message';\nimport DialogSelectID from '../Dialogs/SelectID';\n\nconst colorOn = '#aba613';\nconst colorOff = '#444';\nconst colorSet = '#00c6ff';\nconst colorRGB = '#ff7ee3';\nconst colorRead = '#00bc00';\nconst CHANGED_COLOR = '#e7000040';\nconst DEFAULT_CHANNEL_COLOR = '#e9e9e9';\nconst LAST_CHANGED_COLOR = '#b4ffbe';\n\nconst actionsMapping = {\n    OnOff: {color: colorOn, icon: IconOn, desc: 'On/Off'},\n    Brightness: {color: colorSet, icon: IconBulb, desc: 'Dimmer'},\n    RGB: {color: colorRGB, icon: IconBulb, desc: 'Set color'},\n\n    setTargetTemperature: {color: colorSet, icon: IconTemperature, desc: 'Set target temperature'},\n    incrementTargetTemperature: {color: colorOn, icon: IconUp, desc: 'Increment target temperature'},\n    decrementTargetTemperature: {color: colorOff, icon: IconDown, desc: 'Decrement target temperature'},\n\n    incrementPercentage: {color: colorOn, icon: IconUp, desc: 'Increment percentage'},\n    decrementPercentage: {color: colorOff, icon: IconDown, desc: 'Decrement percentage'},\n\n    setColor: {color: colorSet, icon: IconColor, desc: 'Set color'},\n\n    incrementColorTemperature: {color: colorOn, icon: IconUp, desc: 'Increment color temperature'},\n    decrementColorTemperature: {color: colorOff, icon: IconDown, desc: 'Decrement color temperature'},\n\n    getTargetTemperature: {color: colorRead, icon: IconThermometer, desc: 'Get target temperature'},\n    getTemperatureReading: {color: colorRead, icon: IconThermometer, desc: 'Get actual temperature'},\n\n    setLockState: {color: colorSet, icon: IconLock, desc: 'Set lock state'},\n    getLockState: {color: colorRead, icon: IconLock, desc: 'Read lock state'},\n};\n\nconst SMARTTYPES = ['LIGHT', 'SWITCH', 'THERMOSTAT', 'ACTIVITY_TRIGGER', 'SCENE_TRIGGER', 'SMARTPLUG', 'SMARTLOCK', 'CAMERA'];\n\nconst styles = theme => ({\n    tab: {\n        width: '100%',\n        height: '100%'\n    },\n    column: {\n        display: 'inline-block',\n        verticalAlign: 'top',\n        marginRight: 20,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    columnDiv: {\n        height: 'calc(100% - 40px)',\n        overflow: 'auto',\n        minWidth: 300\n    },\n    filter: {\n        margin: 0\n    },\n    button: {\n        marginRight: 20\n    },\n    devLineExpand: {\n        marginRight: 10,\n    },\n    devLineEnabled: {\n        position: 'absolute',\n        right: 0,\n        top: 0,\n    },\n    devLineEdit: {\n        position: 'absolute',\n        top: 5,\n        right: 50\n    },\n    devLineDelete: {\n        position: 'absolute',\n        top: 5,\n        right: 0\n    },\n    devLineName: {\n\n    },\n    devLineNumber:{\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        width: 15,\n    },\n    editedId: {\n        fontStyle: 'italic'\n    },\n    enumLineSubName:{\n        fontStyle: 'italic',\n    },\n    devLine: {\n        height: 48,\n        width: '100%',\n        position: 'relative'\n    },\n    devLineDescription: {\n        display: 'block',\n        fontStyle: 'italic',\n        fontSize: 12\n    },\n    devLineActions: {\n        fontStyle: 'italic',\n        fontSize: 12,\n        paddingLeft: 50,\n        display: 'inline-block',\n    },\n    devLineProgress: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n    },\n    channelLineActions: {\n        width: 80\n    },\n    devLineNameBlock: {\n        display: 'inline-block',\n        width: 'calc(100% - 350px)'\n    },\n    columnHeader: {\n        background: theme.palette.primary.light,\n        padding: 10,\n        color: theme.palette.primary.contrastText\n    },\n    devModified: {\n        fontStyle: 'italic'\n    },\n    actionIcon: {\n        width: 16\n    },\n\n    devSubLine: {\n        position: 'relative',\n        height: 48\n    },\n    devSubLineName: {\n        marginLeft: 5,\n        marginTop: 14,\n        minWidth: 100,\n        display: 'inline-block',\n        fontSize: 13,\n        paddingLeft: 70,\n        //width: 'calc(100% - 400px)'\n    },\n    devSubSubLine:  {\n        fontSize: 10,\n        fontStyle: 'italic',\n        display: 'inline-block',\n        marginLeft: 15\n    },\n    devSubLineSetId:  {\n        fontStyle: 'italic',\n        display: 'block',\n        color: '#999'\n    },\n    devSubLineByOn: {\n        marginLeft: 5\n    },\n    devSubLineDelete: {\n        position: 'absolute',\n        top: 12,\n        right: 12,\n        padding: 0\n    },\n    devSubLineEdit: {\n        position: 'absolute',\n        top: 12,\n        right: 62,\n        padding: 0\n    },\n    devSubLineTypeTitle: {\n        marginTop: 0\n    }\n});\n\nclass AlisaDevices extends Component {\n    constructor(props) {\n        super(props);\n\n        if (!actionsMapping.translated) {\n            Object.keys(actionsMapping).forEach(a => actionsMapping[a].desc = I18n.t(actionsMapping[a].desc));\n            actionsMapping.translated = true;\n        }\n\n        this.state = {\n            editedSmartName: '',\n            editId: '',\n            editObjectName: '',\n            deleteId: '',\n\n            showSelectId: false,\n            showConfirmation: '',\n            changed: [],\n            devices: [],\n            message: '',\n            filter: '',\n            loading: true,\n            browse: false,\n            expanded: [],\n            lastChanged: ''\n        };\n\n        this.timerChanged = null;\n        this.browseTimer = null;\n        this.browseTimerCount = 0;\n        this.editedSmartName = '';\n\n        this.waitForUpdateID = null;\n        this.onReadyUpdateBound = this.onReadyUpdate.bind(this);\n        this.onResultUpdateBound = this.onResultUpdate.bind(this);\n\n        this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`).then(obj => {\n            this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(state => {\n                if (!obj || !obj.common || (!obj.common.enabled && (!state || !state.val))) {\n                    this.setState({message: I18n.t('Instance must be enabled'), loading: false, devices: []});\n                } else {\n                    this.browse();\n                }\n            });\n        });\n    }\n\n    browse(isIndicate) {\n        if (Date.now() - this.lastBrowse < 500) return;\n\n        this.lastBrowse = Date.now();\n        if (isIndicate) {\n            this.setState({loading: true, browse: true});\n        } else {\n            this.setState({browse: true});\n        }\n\n        console.log('Send BROWSE!');\n\n        this.browseTimer = setTimeout(() => {\n            console.log('Browse timeout!');\n            this.browseTimer = null;\n            this.browseTimerCount++;\n            if (this.browseTimerCount < 5) {\n                this.browse(isIndicate);\n            } else {\n                this.setState({message: I18n.t('Cannot read devices!')});\n            }\n        }, 10000);\n\n        this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, 'browseAlisa', null, list => {\n            this.browseTimer && clearTimeout(this.browseTimer);\n            this.browseTimerCount = 0;\n            this.browseTimer = null;\n\n            if (this.waitForUpdateID) {\n                if (!this.onEdit(this.waitForUpdateID, list)) {\n                    this.setState({message: I18n.t('Device %s was not added', this.waitForUpdateID)});\n                }\n                this.waitForUpdateID = null;\n            }\n\n            console.log('BROWSE received.');\n\n            this.setState({devices: list, loading: false, changed: [], browse: false});\n        });\n    }\n\n    onReadyUpdate(id, state) {\n        console.log('Update ' + id + ' ' + state.val + '/' + state.ack);\n        if (state && state.ack === true && state.val === true) {\n            if (this.devTimer) clearTimeout(this.devTimer);\n            this.devTimer = setTimeout(() => {\n                this.devTimer = null;\n                this.browse();\n            }, 300);\n        }\n    }\n\n    onResultUpdate(id, state) {\n        state && state.ack === true && state.val && this.setState({message: state.val});\n    }\n\n    componentWillMount() {\n        this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updates`, this.onReadyUpdateBound);\n        this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updatesResult`, this.onResultUpdateBound);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updates`, this.onReadyUpdateBound);\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.smart.updatesResult`, this.onResultUpdateBound);\n        if (this.timerChanged) {\n            clearTimeout(this.timerChanged);\n            this.timerChanged = null;\n        }\n    }\n\n    informInstance(id) {\n        this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, 'update', id);\n    }\n\n    addChanged(id, cb) {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        if (changed.indexOf(id) === -1) {\n            changed.push(id);\n            this.setState({changed}, () => cb && cb());\n        } else {\n            cb && cb();\n        }\n    }\n\n    removeChanged(id) {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        const pos = changed.indexOf(id);\n\n        if (pos !== -1) {\n            changed.splice(pos, 1);\n            this.setState({changed});\n        }\n    }\n\n    onEdit(id, devices) {\n        devices = devices || this.state.devices;\n        const device = devices.find(dev => dev.iobID === id);\n        if (device) {\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    let smartName = device.name;\n                    if (typeof smartName === 'object' && smartName) {\n                        smartName = smartName[I18n.getLanguage()] || smartName.en;\n                    }\n                    this.editedSmartName = smartName;\n                    this.setState({editId: id, editedSmartName: smartName, editObjectName:smartName/* Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()})*/});\n                });\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    onAskDelete(deleteId) {\n        this.setState({deleteId, showConfirmation: true});\n    }\n\n    onDelete() {\n        let id = this.state.deleteId;\n        // const device = this.state.devices.find(dev => dev.additionalApplianceDetails.id === id);\n        this.addChanged(id, () => {\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.disableSmartName(obj, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    this.setState({deleteId: '', showConfirmation: false, lastChanged: id});\n\n                    this.timerChanged && clearTimeout(this.timerChanged);\n                    this.timerChanged = setTimeout(() => {\n                        this.setState({lastChanged: ''});\n                        this.timerChanged = null;\n                    }, 30000);\n\n                    // update obj\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        });\n    }\n\n    renderActions(dev) {\n        // Type\n        const actions = [];\n        if (!dev.actions) {\n            console.log('Something went wrong');\n            return null;\n        }\n\n        dev.actions.sort((a, b) => {\n            if (a === b) return 0;\n            if (a === 'OnOff') return -1;\n            if (b === 'OnOff') return 1;\n            return 0;\n        });\n\n        Object.keys(actionsMapping).forEach(action => {\n            if (dev.actions.indexOf(action) !== -1) {\n                const Icon = actionsMapping[action].icon;\n                actions.push((<span key={action} title={actionsMapping[action].desc}><Icon className={this.props.classes.actionIcon} style={{color: actionsMapping[action].color}}/></span>));\n            }\n        });\n        // add unknown actions\n        for (let a = 0; a < dev.actions.length; a++) {\n            if (!actionsMapping[dev.actions[a]]) {\n                actions.push((<span key={dev.actions[a]}>{dev.actions[a]}</span>));\n            }\n        }\n        return actions;\n    }\n\n    onExpand(lineNum) {\n        const expanded = JSON.parse(JSON.stringify(this.state.expanded));\n        const pos = expanded.indexOf(this.state.devices[lineNum].name);\n        if (pos === -1) {\n            expanded.push(this.state.devices[lineNum].name);\n        } else {\n            expanded.splice(pos, 1);\n        }\n        this.setState({expanded});\n    }\n\n    onParamsChange(id, byON, type) {\n        this.addChanged(id, () => {\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.updateSmartName(obj, undefined, byON, type, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n\n                    if (this.state.lastChanged !== id) {\n                        this.setState({lastChanged: id});\n                        this.timerChanged && clearTimeout(this.timerChanged);\n                        this.timerChanged = setTimeout(() => {\n                            this.setState({lastChanged: ''});\n                            this.timerChanged = null;\n                        }, 30000);\n                    }\n\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    // update obj\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        });\n    }\n\n    renderSelectType(dev, lineNum, id, type) {\n        if (type !== false) {\n            const items = [\n                (<MenuItem key=\"_\" value=\"_\"><em>{I18n.t('no type')}</em></MenuItem>)\n            ];\n            for (let i = 0; i < SMARTTYPES.length; i++) {\n                items.push((<MenuItem  key={SMARTTYPES[i]} value={SMARTTYPES[i]}><em>{I18n.t(SMARTTYPES[i])}</em></MenuItem>));\n            }\n            return (\n                <FormControl>\n                    <Select value={type || '_'} onChange={e => this.onParamsChange(id, undefined, e.target.value)}>{items}</Select>\n                    <FormHelperText className={this.props.classes.devSubLineTypeTitle}>{I18n.t('Types')}</FormHelperText>\n                </FormControl>);\n        } else {\n            return '';\n        }\n    }\n\n    renderChannels(dev, lineNum) {\n        const result = [];\n        const classes = this.props.classes;\n\n        const id = dev.main.getId;\n        const name = dev.func;\n        let background = DEFAULT_CHANNEL_COLOR;/*this.state.changed.indexOf(id) !== -1 ? CHANGED_COLOR : DEFAULT_CHANNEL_COLOR;\n        if (this.state.lastChanged === id && background === DEFAULT_CHANNEL_COLOR) {\n            background = LAST_CHANGED_COLOR;\n        }*/\n        result.push((<div key={'sub' + id} className={classes.devSubLine} style={{background}}>\n            <div className={classes.devSubLineName}>{name.toUpperCase()}</div>\n            <div className={classes.devSubSubLine}>\n                <div>{dev.main.getId}</div>\n                {dev.main.setId && dev.main.setId !== dev.main.getId ? (<div className={classes.devSubLineSetId}>{dev.main.setId}</div>) : null}\n            </div>\n\n        </div>));\n\n        dev.attributes.forEach(attr => {\n            result.push((<div key={'sub' + attr.getId} className={classes.devSubLine} style={{background}}>\n                <div className={classes.devSubLineName}>{attr.name.toUpperCase()}</div>\n                <div className={classes.devSubSubLine}>\n                    <div>{attr.getId}</div>\n                    {attr.setId && attr.setId !== attr.getId ? (<div className={classes.devSubLineSetId}>{attr.setId}</div>) : null}\n                </div>\n            </div>));\n        });\n\n        /*if (dev.additionalApplianceDetails.group) {\n            const channels   = dev.additionalApplianceDetails.channels;\n            const names      = dev.additionalApplianceDetails.names;\n            const types      = dev.additionalApplianceDetails.byONs;\n            const smarttypes = dev.additionalApplianceDetails.smartTypes;\n\n            let c = 0;\n            for (const chan in channels) {\n                if (channels.hasOwnProperty(chan)) {\n                    for (let i = 0; i < channels[chan].length; i++) {\n                        const id = channels[chan][i].id;\n                        let background = this.state.changed.indexOf(id) !== -1 ? CHANGED_COLOR : DEFAULT_CHANNEL_COLOR;\n                        if (this.state.lastChanged === id && background === DEFAULT_CHANNEL_COLOR) {\n                            background = LAST_CHANGED_COLOR;\n                        }\n                        result.push((<div key={'sub' + id} className={classes.devSubLine} style={(c % 2) ? {} : {background}}>\n                            <div className={this.props.classes.devLineActions + ' ' + this.props.classes.channelLineActions}>{this.renderActions(channels[chan][i])}</div>\n                            <div className={classes.devSubLineName} title={id}>{(names[id] || id)}\n                                {id !== names[id] ? (<span className={classes.devSubSubLineName}>{id}</span>) : null}\n                            </div>\n                            {this.renderSelectType(dev, lineNum, id, smarttypes[id])}\n                            {this.renderSelectByOn(dev, lineNum, id, types[id])}\n                            <IconButton aria-label=\"Delete\" className={this.props.classes.devSubLineDelete} onClick={() => this.onAskDelete(id, lineNum)}><IconDelete fontSize=\"middle\" /></IconButton>\n                        </div>));\n                        c++;\n                    }\n                }\n            }\n        } else {\n        }*/\n        return result;\n    }\n\n    renderDevice(dev, lineNum) {\n        //return (<div key={lineNum}>{JSON.stringify(dev)}</div>);\n        const expanded = this.state.expanded.indexOf(dev.name) !== -1;\n        let background = (lineNum % 2) ? '#f1f1f1' : 'inherit';\n        const changed = this.state.changed.indexOf(dev.iobID) !== -1;\n        if (changed) {\n            background = CHANGED_COLOR;\n        } else if (dev.iobID === this.state.lastChanged) {\n            background = LAST_CHANGED_COLOR;\n        }\n\n        //const isComplex = dev.\n\n        return [\n            (<div key={'line' + lineNum} className={this.props.classes.devLine} style={{background}}>\n                <div className={this.props.classes.devLineNumber}>{lineNum + 1}.</div>\n                <IconButton className={this.props.classes.devLineExpand} onClick={() => this.onExpand(lineNum)}>\n                    {dev.attributes.length ?\n                        (<Badge badgeContent={dev.attributes.length} color=\"primary\">{expanded ? (<IconCollapse/>) : (<IconExpand />)}</Badge>) :\n                        (expanded ? (<IconCollapse/>) : (<IconExpand />))}\n                </IconButton>\n                <div className={this.props.classes.devLineNameBlock} style={{display: 'inline-block', position: 'relative'}}>\n                    <span className={this.props.classes.devLineName}>{dev.name}</span>\n                    <span className={this.props.classes.devLineDescription}>{dev.description}</span>\n                    {changed ? (<CircularProgress className={this.props.classes.devLineProgress} size={20}/>) : null}\n                </div>\n                <span className={this.props.classes.devLineActions}>{this.renderActions(dev)}</span>\n                <IconButton aria-label=\"Edit\" className={this.props.classes.devLineEdit} onClick={() => this.onEdit(dev.iobID)}><IconEdit fontSize=\"middle\" /></IconButton>\n                <IconButton aria-label=\"Delete\" className={this.props.classes.devLineDelete} onClick={() => this.onAskDelete(dev.iobID)}><IconDelete fontSize=\"middle\" /></IconButton>\n\n            </div>),\n            expanded ? this.renderChannels(dev, lineNum) : null\n        ];\n    }\n\n    renderMessage() {\n        if (this.state.message) {\n            return (<MessageDialog text={this.state.message} onClose={() => this.setState({message: ''})}/>);\n        } else {\n            return null;\n        }\n    }\n\n    changeSmartName(e) {\n        e && e.preventDefault();\n        // Check if the name is duplicate\n        this.addChanged(this.state.editId, () => {\n            const id = this.state.editId;\n            this.setState({editId: '', editObjectName: '', lastChanged: id});\n\n            this.timerChanged && clearTimeout(this.timerChanged);\n            this.timerChanged = setTimeout(() => {\n                this.setState({lastChanged: ''});\n                this.timerChanged = null;\n            }, 30000);\n\n            this.props.socket.getObject(id)\n                .then(obj => {\n                    Utils.updateSmartName(obj, this.editedSmartName, undefined, undefined, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                    return this.props.socket.setObject(id, obj);\n                })\n                .then(() => {\n                    // update obj\n                    this.informInstance(id);\n                })\n                .catch(err => this.props.onError(err));\n        });\n    }\n\n    renderEditDialog() {\n        if (this.state.editId) {\n            return (<Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"message-dialog-title\"\n                aria-describedby=\"message-dialog-description\"\n            >\n                <DialogTitle id=\"message-dialog-title\">{this.props.title || I18n.t('Smart name for %s', this.state.editObjectName)}</DialogTitle>\n                <DialogContent>\n                    <p><span>ID:</span> <span className={this.props.classes.editedId}>{this.state.editId}</span></p>\n                    <TextField\n                        style={{width: '100%'}}\n                        label={I18n.t('Smart name')}\n                        onKeyDown={e =>\n                            e.keyCode === 13 && this.changeSmartName(e)}\n                        onChange={e => this.editedSmartName = e.target.value}\n                        defaultValue={this.state.editedSmartName}\n                        helperText={I18n.t('You can enter several names divided by comma')}\n                        margin=\"normal\"\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.changeSmartName()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                    <Button onClick={() => {\n                        this.editedSmartName = null;\n                        this.setState({editId: '', editedSmartName: ''});\n                    }}>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>)\n        } else {\n            return null;\n        }\n    }\n\n    renderConfirmDialog() {\n        if (this.state.showConfirmation) {\n            return (<Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"confirmation-dialog-title\"\n                aria-describedby=\"confirmation-dialog-description\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Device will be disabled.')}</DialogTitle>\n                <DialogContent>\n                    <p>{I18n.t('Are you sure?')}</p>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.onDelete()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.setState({showConfirmation: ''})}>{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>)\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            return (<DialogSelectID\n                key=\"dialogSelectID1\"\n                prefix={'../..'}\n                connection={this.props.socket}\n                selected={''}\n                statesOnly={true}\n                onClose={() => this.setState({showSelectId: false})}\n                onOk={(selected, name) => {\n                    this.setState({showSelectId: false});\n\n                    this.props.socket.getObject(selected)\n                        .then(obj => {\n                            if (obj) {\n                                const name = Utils.getObjectNameFromObj(obj, null, {language: I18n.getLanguage()});\n                                Utils.updateSmartName(obj, (name || I18n.t('Device name')).replace(/[-_.]+/g, ' '), undefined, undefined, this.props.adapterName + '.' + this.props.instance, this.props.native.noCommon);\n                                this.addChanged(obj._id);\n                                this.waitForUpdateID = obj._id;\n\n                                if (this.state.lastChanged !== obj._id) {\n                                    this.setState({lastChanged: obj._id});\n                                    this.timerChanged && clearTimeout(this.timerChanged);\n                                    this.timerChanged = setTimeout(() => {\n                                        this.setState({lastChanged: ''});\n                                        this.timerChanged = null;\n                                    }, 30000);\n                                }\n\n                                this.props.socket.setObject(obj._id, obj)\n                                    .then(() => this.informInstance(obj._id))\n                                    .catch(err => this.setState({message: err}));\n                            } else {\n                                this.setState({message: I18n.t('Invalid ID')});\n                            }\n                        });\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    renderDevices() {\n        const filter = this.state.filter.toLowerCase();\n        const result = [];\n        for (let i = 0; i < this.state.devices.length; i++) {\n            if (this.state.filter && this.state.devices[i].name.toLowerCase().indexOf(filter) === -1 ) continue;\n            result.push(this.renderDevice(this.state.devices[i], i));\n        }\n        return (<div key=\"listDevices\" className={this.props.classes.columnDiv}>{result}</div>);\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (<CircularProgress  key=\"alexaProgress\" />);\n        }\n\n        return (\n            <form key=\"alexa\" className={this.props.classes.tab}>\n                <Fab size=\"small\" color=\"secondary\" aria-label=\"Add\" className={this.props.classes.button} onClick={() => this.setState({showSelectId: true})}><IconAdd /></Fab>\n                <Fab size=\"small\" color=\"primary\" aria-label=\"Refresh\" className={this.props.classes.button}\n                      onClick={() => this.browse(true)} disabled={this.state.browse}>{this.state.browse ? (<CircularProgress size={20} />) : (<IconRefresh/>)}</Fab>\n\n                <Input\n                    placeholder={I18n.t('Filter')}\n                    className={this.state.filter}\n                    value={this.state.filter}\n                    onChange={e => this.setState({filter: e.target.value})}\n                />\n                <IconButton aria-label=\"Clear\" className={this.props.classes.button} onClick={() => this.setState({filter: ''})}><IconClear fontSize=\"large\" /></IconButton>\n                {this.renderDevices()}\n                {this.renderMessage()}\n                {this.renderEditDialog()}\n                {this.getSelectIdDialog()}\n                {this.renderConfirmDialog()}\n            </form>\n        );\n    }\n}\n\nAlisaDevices.propTypes = {\n    common: PropTypes.object.isRequired,\n    native: PropTypes.object.isRequired,\n    instance: PropTypes.number.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    onError: PropTypes.func,\n    onLoad: PropTypes.func,\n    onChange: PropTypes.func,\n    socket: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AlisaDevices);\n","import React from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Loader from './Components/Loader'\nimport I18n from './i18n';\n\nimport GenericApp from './GenericApp';\nimport TabOptions from './Tabs/Options';\nimport TabExtended from './Tabs/Extended';\nimport TabServices from './Tabs/Services';\nimport TabEnums from './Tabs/Enums';\nimport TabAlexaSmartNames from './Tabs/AlexaSmartNames';\nimport TabAlisaSmartNames from './Tabs/AlisaSmartNames';\n\nconst isIFrame = (function () {\n    try {\n        return window.self !== window.top;\n    } catch (e) {\n        return true;\n    }\n})();\n\nconst styles = theme => ({\n    root: {},\n    tabContent: {\n        padding: 10,\n        height: isIFrame ? 'calc(100% - 64px - 48px - 20px - 38px)' : 'calc(100% - 64px - 48px - 20px)',\n        overflow: 'auto'\n    }\n});\n\nclass App extends GenericApp {\n    getSelectedTab() {\n        const tab = this.state.selectedTab;\n        if (!tab || tab === 'options') {\n            return 0;\n        } else\n        if (tab === 'enums') {\n            return 1;\n        } else\n        if (tab === 'alexa') {\n            return 2;\n        } else\n        if (tab === 'alisa') {\n            const offset = (this.state.native.amazonAlexa ? 1 : 0);\n            return 2 + offset;\n        } else\n        if (tab === 'extended') {\n            const offset = (this.state.native.amazonAlexa ? 1 : 0) + (this.state.native.yandexAlisa ? 1 : 0);\n            return 2 + offset;\n        } else\n        if (tab === 'services') {\n            const offset = (this.state.native.amazonAlexa ? 1 : 0) + (this.state.native.yandexAlisa ? 1 : 0);\n            return 3 + offset;\n        }\n    }\n    render() {\n        if (!this.state.loaded) {\n            return (<Loader theme={this.state.themeType}/>);\n        }\n\n        return (\n            <div className=\"App\">\n                <AppBar position=\"static\">\n                    <Tabs value={this.getSelectedTab()} onChange={(e, index) => this.selectTab(e.target.parentNode.dataset.name, index)}>\n                        <Tab label={I18n.t('Options')} data-name=\"options\" />\n                        <Tab label={I18n.t('Smart enums')} data-name=\"enums\" />\n                        {this.state.native.amazonAlexa && <Tab selected={this.state.selectedTab === 'alexa'} label={I18n.t('Alexa devices')} data-name=\"alexa\" />}\n                        {this.state.native.yandexAlisa && <Tab selected={this.state.selectedTab === 'alisa'} label={I18n.t('Alisa devices')} data-name=\"alisa\" />}\n                        <Tab label={I18n.t('Extended options')} data-name=\"extended\" />\n                        <Tab label={I18n.t('Services and IFTTT')} data-name=\"services\" />\n                    </Tabs>\n                </AppBar>\n                <div className={this.props.classes.tabContent}>\n                    {(this.state.selectedTab === 'options' || !this.state.selectedTab) && (<TabOptions\n                        key=\"options\"\n                        common={this.common}\n                        socket={this.socket}\n                        native={this.state.native}\n                        onError={text => this.setState({errorText: text})}\n                        onLoad={native => this.onLoadConfig(native)}\n                        instance={this.instance}\n                        adapterName={this.adapterName}\n                        onChange={(attr, value) => this.updateNativeValue(attr, value)}\n                    />)}\n                    {this.state.selectedTab === 'enums' && (<TabEnums\n                        key=\"enums\"\n                        common={this.common}\n                        socket={this.socket}\n                        native={this.state.native}\n                        onError={text => this.setState({errorText: text})}\n                        instance={this.instance}\n                        adapterName={this.adapterName}\n                    />)}\n                    {this.state.selectedTab === 'alexa' && (<TabAlexaSmartNames\n                        key=\"alexa\"\n                        common={this.common}\n                        socket={this.socket}\n                        native={this.state.native}\n                        onError={text => this.setState({errorText: text})}\n                        adapterName={this.adapterName}\n                        instance={this.instance}\n                    />)}\n                    {this.state.selectedTab === 'alisa' && (<TabAlisaSmartNames\n                        key=\"alisa\"\n                        common={this.common}\n                        socket={this.socket}\n                        native={this.state.native}\n                        onError={text => this.setState({errorText: text})}\n                        adapterName={this.adapterName}\n                        instance={this.instance}\n                    />)}\n                    {this.state.selectedTab === 'extended' && (<TabExtended\n                        key=\"extended\"\n                        common={this.common}\n                        socket={this.socket}\n                        native={this.state.native}\n                        onError={text => this.setState({errorText: text})}\n                        instance={this.instance}\n                        adapterName={this.adapterName}\n                        onChange={(attr, value) => this.updateNativeValue(attr, value)}\n                    />)}\n                    {this.state.selectedTab === 'services' && (<TabServices\n                        key=\"services\"\n                        common={this.common}\n                        socket={this.socket}\n                        native={this.state.native}\n                        onError={text => this.setState({errorText: text})}\n                        instance={this.instance}\n                        adapterName={this.adapterName}\n                        onShowError={error => this.showError(error)}\n                        onChange={(attr, value) => this.updateNativeValue(attr, value)}\n                    />)}\n                </div>\n                {this.renderError()}\n                {this.renderSaveCloseButtons()}\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {createMuiTheme} from '@material-ui/core/styles';\nimport Theme from './Theme';\n\nexport default type => {\n    if (type === 'dark') {\n        return createMuiTheme({\n            palette: {\n                type: type,\n                primary: {\n                    light: '#5F6975',\n                    main: '#2978d0',\n                    dark: '#053C72',\n                    contrastText: '#CСС',\n                },\n                secondary: {\n                    light: '#7EB2CC',\n                    main: '#3399CC',\n                    dark: '#068ACC',\n                    contrastText: '#ee0000',\n                },\n            }\n        });\n    } else {\n        return createMuiTheme({\n            palette: {\n                type: type,\n                primary: {\n                    light: '#5F6975',\n                    main: '#164477',\n                    dark: '#053C72',\n                    contrastText: '#FFF',\n                },\n                secondary: {\n                    light: '#7EB2CC',\n                    main: '#3399CC',\n                    dark: '#068ACC',\n                    contrastText: '#ee0000',\n                },\n            }\n        });\n\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MuiThemeProvider} from '@material-ui/core/styles';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport createTheme from './createTheme';\n\nlet theme = 'light';\n\nfunction build() {\n    return ReactDOM.render(<MuiThemeProvider theme={createTheme(theme)}>\n        <App onThemeChange={_theme => {\n            theme = _theme;\n            build();\n        }}/>\n    </MuiThemeProvider>, document.getElementById('root'));\n}\n\n\nbuild();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/copy-content.6fe0b363.svg\";"],"sourceRoot":""}