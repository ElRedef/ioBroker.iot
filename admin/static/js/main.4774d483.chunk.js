(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAT3SURBVHhe7V0tUxxBEKVSkREIZCQiMhKZH4BKRSAQCAQmLgKBQ/AD8gMQSEREJAKBRCAQkYiIiIiIiIiISz+qu2pqs9zN3rzh5nafmDo+dofufvO6Z7p7l43ZbLah0YYNBERDi1FgCIw23EJr7lnMEDPEjD5WihlihpghZjTEAoEhMOSScrfQCuANsUVgCAy5LgXwhlggMKYMxov3H1/Z2LdxYePexi8bszUckBvyX9o4sLGZu0Macl21AG4C79r4voaGz1ksP02vD0MMnXMtHQxnw+cEhCv7+tDGNn6XI1Rr17hOb1wP6BOAnTNZQgXDhf7mwoLaB60ZliGPu6pwuQ8sQNhgBCNuTMDXDMVbnQP62YCeYMk5Q04aGB4jIBhWzKiBCMM7IMGQ3VJAKGC4e4pgPUrX9JSh3WVhEUL/opjIAgPbVwh0Vbo61vF+0/va9d8vkZ8FBs4RAOOwRJh1vdf0PnH9L0p0YIGBAxHA2C4RZl3vTeLlfYkOLDAiiBX5zBJFVnmvgbEV2/kSOVhgPB6CSgRZ93sdjCIbCAxS8lBgkAzJYKXAEBj/V+kYq4KxOlc5B8MGihkkdgkMkiEZjBIYAmP1McMTk3v2iTTMnSfpIlmH71EeRb7s2Q6hk2OGKbxp48zGn1B+wSeuw/VVatape5sUGKYsmJA2NNza90jQ7dh4rJ/g07/Hz6PwEzUWes16cmCYUV/aOE0YgHT1u5yg68BEehugnObct8w1k2BGAsRf+/p4SUMd2724vxogowfDXRMMCEMWuRncnwBSNFffghg1GAi6SYxYihFdo9l8R240xB5qUB87GNgFgRXXy7imOTXrrz7vGXne4jJCk+kQMxbaQmP7mhWscw1r8751MDA/7RwyWmYkseI218hDrgPb3Hh7Q+6bd+2YwYgGhxOWsTpngk9uvKIGgkmcM8xQSGnAB+9UAgMHRcx/x5p/zMyIhrgqnYlmOJzUH3NZAmNBtpWxyhYZmf03GPO1upv64cqJGYtWVc9hqniP3QmG0RSnmNEAGKhHAODau6nLobrOOUwWL8hW3VQ0Ut+wjNVhXjx9VNSoPJWtbXoCp7oqYxseB0PiUSfw3JVuxlJuKtdYbIr2bAqUtW0FDMiR5KhUz8gFhnHgmbNLiZIrADnKlanDXNQxVOlbxngdQ3Zr4F+QBs+Z14N11C+qlVydxePc2vYZ2l1W2h2CNDiyr33dIfg5tq/BBtxHL7Wy42aT54w5Lkt9U4tcQs2Y8QRLcA5RR+ETxin2l4sAb/33jAW5Vm6qZUAEhrrQV9+F3iJDxAwxQ8yotYlRACexS26KZEhGDGoJjN8uDK1dkmGg55rDdG/q3SHxXkK9VaeArayYEQ0EU3/fVFGDAwsMvHgXKZGpv4mt6JWALDCQTcWLdwFIkUDP5edZfwf6ut7Qv+gBHAoYXlzBY1rxZGmVTkCWAVnzmL7o2Y0aS3G9hAaGAxKt/FN7r21RrIjFwQYD7uohYcgoXZa7pmAE+oK3GGyjguHsACDncQiyT5RH8ZA8XlRPEZqh+JA5/BwB+aFH+lw5dpE0nehghJJufP2XgAHnjmpgOEv0/zNaAWOIK9C1s42qzJCBh/2jL4ExwI3UXlwCQ2AMo2/tFdnK/GKGmCFm9LFRzBAzxAwxoyEWCAyBIZeUu3VWAG+ILQJDYMh1KYA3xAKB0TgY/wCrKvMDWcWHNQAAAABJRU5ErkJggg=="},113:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAR7SURBVHhe7Z2hUhxBEIap6AhEZAQCkQeIiIjgAVApJAKBTVUkAkFVHiEPgEAikQhEREQkIhIREYFAREZc+j96iq27pdid+Xe2b/cXUyHczl7PfP13z8zODluLxWJLJUYfCEQgZxQMwYgRFqKFZylDypAy2lQpZUgZUoaUEUgFgiEYCkldh9BK4IHUIhiCodClBB5IBYIxZxivPn1+beXQyoWVWysPVhYbWGA37L+0cmRlu+sIqc91gyVwM3jfyu8N7PguznJv7Tro09FdrqXDcDV8a0C4tp+Prezisy5GRbvG2/TO24H2JGDnTJVQYbjRv9xYSPsoWscy7PFQlULuHQsIG0ZSxHcz8C2j4VHvgfZZQTuhknOGnTQYniNgGDxm0iBSxzuQpJD9UiAUGB6eUrKeZGh6rqM9ZMEJ0f6inMiCgeErDLou9Y5NrG/tvvH2H5bYz4KBeQRgHJcYk1PXvvPMv/sspz6jjn3/qdtwUXI/FgxMiABjt8SYnLpBYGBOhfbf5rQh1WHBSEmsKGbmNKQRsykjmkwb3jiMh5z6bBjLSVCJIbl1I8CA7Q6jqA9YyhAMn5XnOhXqTQFGGskVJc+STpQyfDncwsOeh4ib0g4tqa8w9RirBaPpRQyvyPVKwVh5YjYyjA/+/T9ygTLqMfpgCgl8xzvijtGpufcQjMecIRiBcoZgBIKRliLuc0MMo57C1NNcY7QVgARSMARjfWsmwytKQsXY36/lkMZcx2CkJfxBNpd1cRSGQ2z8PMO9EttlkDd2unTcENfMFkZq+Ev/DtHpz91TMF7YtysYFXZ6r3qh/f+n/+49K5n2BTl7ZTTG+GmrzJ5gEB459vHEFmUIBnP2mQNDCbwlJzDipWBMYEOC5wi8J4F5xmj7fBkOOZVJn2CMlTNWQ5p5pWAEgvHVw8Rpn9zDvFZh6mkJPcJO9OJnKlPJGYIRKEwJRhQYzNifey/ljAqLkl3hCIZgxHsG3tV7h7xOypAypIw2hUkZUkYsZZhHfrRyZQXHDqHg5+UTv5pl9sqwDvhi5V/LQyb8ruo61axhuCLQ6cuOt4JTblBOGoCqKWTuMBCOsDi3pgCHg8+uaoWqucNAfkCHrx2n5ArBZ9VeExAMwWgdTf11z6h2doiPmuD9Jy1P/pA3qoUp+65QZ4ekcwmrnaqD4asn6tETuNkR6lQdnPda/bypRqJePmVbKdXOn2rYcVkyYKBMjMwYHLw7yklsrpBRJ31mQ9rRWLRViAVjGyMXB1JkUIlnjVG34Yhof9HLOhQYvpHswGHgLaI5nt5ZfAI0DYYDSWcVzu1c26JckRTNhoFwlV7pgkImGbI8NKX3CP9gaMsIkVQYrg4ASTv8kNSR3LB2hOEfxWhGw/vcw+cRsB/tSMkabcMoktYmOozGjhH9lYCey/iDwXCV6O9n9AAyKIw+oUDXkt7PUEdynipKGT3CyNBOJxiCwZH10J5a+/5ShpQhZbSpTsqQMqQMKSOQCgRDMBSSug6RlcADqUUwBEOhSwk8kAoEIziM/5ZTLyXvAlkpAAAAAElFTkSuQmCC"},114:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAUXSURBVHhe7V2rUlxBEE1FRyCQEQhEPiAiIoIPQKWQCAQ2VZEIBFX5hHwAAolEIhAREZGISEREBAIRGbHpQ/VUpnYvl57pvtne3SOmCnZnhp4+fU7P497hxWw2e8GSwwcEIlEwEgyCkUMWsskzmUFmkBlDrCQzyAwyg8xIxAKCQTAoSdYpNBN4IrYQDIJB6WICT8QCgrHJYLz88PGVlEMpF1JupTxIma1ggd2w/1LKkZQt6wyppd5kCVwM3pfycwUdbwmWexnXQYujLXXDwVA2fKlAuJafj6Xs4juLUdnq6Jje6DgwngLYeSRLQsFQo3+osaD2UTbHRtijUlUk9y4KkGgwCiO+ioGvIwaetQ+MTwrGCZacR9gZBobmCBiGiFlrIIrjFZDCkH0vICFgqDyVZL2W0vSUo1WyEIQYvysnRoGB6SsMuvZGxyq2l3Hf6PgPPfZHgYF1BMA4bjVG2pxp27PWtqjvbV9JTrcdYsOpjuGiZwylTRQYWBABjN1WY7zO9LYPAgNrKoz/tnX8df0oMEoSa9ZMrzMrzXbNaDx2SNttBeMhAxiPi6AeQzxOUJnC9oR7ehlgR7cPomXKbIg6zrLlYAI3AzM0KMw+eCpoo2TKbMgEYJSZnCt5bjQzxhJnAcwie1J3T+vfWOpXf9fETqv8tticjhkEY/G0c2kylQWMQDvMUp2OGZbcYZEd6eed9vXNUn9epgiG8bTP4lwBYkfBuLPUJxgjZ88BsxgXGIEMXT2Zmo9egvEvkf/3BD4BGGUr4r5Fpiawg8yIWv0GMJRgEIy5hOxZfXojkmDkA6Ns4Xc/XOYNCk9ALm3XNjpxKjPwuAw0e6c3iROMzmNTy9rAusE3tgJvAXZjmUEwxlfR3dO6HnmYj0L5/bt+9rY3offYUTNn45lRSUx5VGaPYOjGX4vGerR6gBkE46kd0BZQeuSBOSNhzngOlKmDgjljICgElHMFpvs53x6GEgyCMf6qsGda541InT2RGctK4ANbKp81IE5b8sSczHQ/+Nw7nZ63deUPl9QRLkdG9OFRh3XbKCQYiWSKYESA0avx2dqthUxlc2qvPQQj0V0gBINgLC4AI6KiVx6ytIvwwdLXGVmc6bWDYFCm4mRKoum9lCspuDIIBT8/ntZZi7cPb/vI6b150GPO6aGotPkk5c/AmQQ+M+0xefvwtl+LLXSNRjj90fFScEMNykkF0ChDvH142w9sVnY/lLHUvSmVIxi/wAAFB99dPcNGSFp3HxE2rAszkB/gyIWrkJQh+G70EX/NMd19eNuvEzMIxsAkJSqB/9ZIN90dUknEyUCEIW+0yFRXHxE2VDOpVHeHlHsJTbfqiCPwIr03gbv6iLChAiPVrTq477XpvqkqUQ/dVGC6e8rbh7d9BUa5b+rSuj4aqhclU+Vmm6ab2DQ6vYs+MKS7jyAbyhON3Y8KAZwoMLaq2YnLIE9kLaOtjLsEIiYl3S/rhIGhB/oHKlV4i2gTb+903wAdwoxKO8tdhZt2r60rV4SuwCswIFfllS4wZC0lS6WpvEf4S37fjpDIUGaoXAGQ8oQfZkpIbphtYPoXYnTEwFv6gN1qP8ZRkjXGhllk2JjCwZibe/O/BDQcB0wGhrKE/z8jCxgtUsC6QesMOtJ+Mjnmq0lliiC1gUQwGjR96uAiGASjjb5TR2SW/skMMoPMmOw8IwvNV90OyhRlijJFmUrEAoJBMChJ1okFE3githAMgkHpGpKuv887tA5HhhPjAAAAAElFTkSuQmCC"},115:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAPhJREFUeF7tyKEBADAQhLDff+nrAngqEDG5bfkEZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZgy7B/6DRu7DB74QAAAAAElFTkSuQmCC"},130:function(e,t,n){e.exports=n(176)},135:function(e,t,n){},136:function(e,t,n){},142:function(e){e.exports={"(Set to 0 if behavior not desired)":"(Set to 0 if behavior not desired)","(you can separate names with comma)":"You can enter several names divided by comma",Active:"Active","Add device":"Add device","Add service":"Add service",Addresses:"Addresses","Alexa devices":"Alexa devices","Alisa devices":"Alisa devices","Allow admin access (only pro)":"Allow admin access (only pro)","Allow self-signed certificates":"Allow self-signed certificates","Amazon Alexa":"Amazon Alexa","Are you sure?":"Are you sure?","Authentication must be disabled. You can create second instance extra for cloud.":"Authentication must be disabled. You can create a second instance extra for the cloud.",Cancel:"Cancel","Cannot add this object":"Cannot add this object, because not supported.","Cannot read devices!":"Cannot read devices!","Certificates will be updated after initiated restart":"Certificates will be updated after initiated restart","Certificates will be updated after start":"Certificates will be updated after start","Click now Get new connection certificates to request new temporary password":'Click now "Get new connection certificates" to request new temporary password',Close:"Close","Cloud URL":"Cloud URL","Cloud adapter settings":"Cloud adapter settings",Commands:"Commands","Concatenate words with":"Concatenate words with","Connection timeout":"Connection timeout(ms)","Debug outputs":"Debug outputs","Decrement color temperature":"Decrement color temperature","Decrement percentage":"Decrement percentage","Decrement target temperature":"Decrement target temperature",Default:"Default","Device %s was not added":"Device %s was not added","Device will be deactivated.":"Device will be deactivated.","Device will be disabled.":"Device will be disabled.",Dimmer:"Dimmer","Duplicate name":"Duplicate name","Edit smart name":"Edit smart name",Error:"Error","Extended options":"Extended options",Filter:"Filter",Functions:"Functions","Get actual temperature":"Get actual temperature","Get new connection certificates":"Get new connection certificates","Get new service URL key":"Get new service URL key","Get target temperature":"Get target temperature","Google Home":"Google Home","IFTTT key":"IFTTT key","Increment color temperature":"Increment color temperature","Increment percentage":"Increment percentage","Increment target temperature":"Increment target temperature",Instance:"Instance","Instance does not exists":"Instance does not exists","Instance is not active.":"Instance is not active.","Instance must be enabled":"Instance must be enabled","Instance must run to deliver the data":"The instance must run to deliver the data","Invalid object":"Invalid object",Language:"Language","Load configuration from file":"Load configuration from file",Message:"Message","OFF level for switches":"OFF level for switches","OFF level for switches in %":"OFF level for switches in %",Off:"off",Ok:"Ok",On:"on","On/Off":"On/Off",Options:"Options","Personal settings (only pro)":"Personal settings (only pro)","Ping timeout:":"Ping timeout(ms)","Place function in names first":"Place function in names first","Please select object ID...":"Please select object ID...","Please write your email only in lower case letters":"Please write your email only in lower case letters","Read lock state":"Read lock state","Replace in names":"Replace in names","Request email with password one more time":"Request email with password one more time","Restart on disconnect":"Restart on disconnect",Review:"Review",Rooms:"Rooms",Save:"Save","Save and close":"Save and close","Save configuration to file":"Save configuration to file","Save settings and the names will be changed":"Save settings and the names will be changed",Select:"Select","Service names":"Service names","Services and IFTTT":"Services and IFTTT","Set color":"Set color","Set color temperature":"Set color temperature","Set lock state":"Set lock state","Set percentage":"Set percentage","Set target temperature":"Set target temperature","Smart Devices":"Smart Devices","Smart Enums":"Smart Enums","Smart Media":"Smart Media","Smart enums":"Smart enums","Smart name":"Smart name","Smart name for %s":"Smart name for %s","To apply this setting, the restart of adapter must be done. Agree?":"To apply this setting, the adapter must be restarted. Agree?","Turn off":"Turn off","Turn on":"Turn on",Type:"Type",Types:"Types","Use following link for IFTTT":"Use following link for IFTTT","Use following link for custom service":"Use following link for custom service","Use text2command instance":"Use text2command instance",Value:"Value","White list for services":"White list for services","Write response to":"Write response to","Yandex \u0410\u043b\u0438\u0441\u0430":"Yandex \u0410\u043b\u0438\u0441\u0430","You can enter several names divided by comma":"You can enter several names divided by comma","amazon link":"If you use the Alexa Skill, please write a review for us <a href='http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/create-review/?ref-suffix=war_dp' target='_blank' class='here'>here</a>.<br>Examples can be found <a href='http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/reviews' target='_blank'>here</a>.","by ON":"by ON",clear:"clear",default:"default",disabled:"disabled",filter_func:"Function",filter_id:"ID",filter_name:"Name",filter_role:"Role",filter_room:"Room",help_tip:'No iobroker.pro account? Buy it on <a href="https://iobroker.pro/accessRemote" target="_blank">https://iobroker.pro</a> for validated access or get for free, but limited access.',info_allowedServices:"divided by comma. Use * to allow all services.",info_iftttKey:"You can find your key <a href='https://ifttt.com/maker_webhooks' target='_blank'>here</a> under 'Documentation'","ioBroker.pro Login":"ioBroker.pro Login","ioBroker.pro Password":"ioBroker.pro Password","last value":"last value",modified:"Name was modified by user","no type":"no type",tooltip_ack:"Acknowleded flag",tooltip_allowSelfSignedCertificate:"If you use your own cloud, you can allow the use of self-signed certificates for the cloud.",tooltip_apikey:"This key is required to communicate with a cloud. You can get the API-KEY on https://iobroker.net and it looks like nickname_f1f439a0-001a-11e7-bc64-92361f002671",tooltip_cloudUrl:"Normally you do not need to change it. Only required if you plan to use your own cloud.",tooltip_concatWord:"Define how to concatenate Room and Function. E.g. with 'in': Light in living room.",tooltip_deviceOffLevel:"Some groups consist of mixed devices: dimmers and switches. It is allowed to control them with ON and OFF commands and with percents",tooltip_from:"From",tooltip_functionFirst:"Normally the names looks like room_function. Here you can switch it to function_room.",tooltip_instance:"Web instance, which will be shown for your connections from cloud.",tooltip_language:"You can define the languages to switch fast between US Alexa Skill and DE Alexa Skill.",tooltip_lc:"Last changed",tooltip_noCommon:"If enabled, the settings will be stored only for this instance. So in the another instance the other names could be set.",tooltip_quality:"Quality",tooltip_responseOID:"For every command the text response will be generated. You can define here the Object ID , where this text must be written to. E.g. sayit.0.tts.text.",tooltip_restartOnDisconnect:"Workaround for missing connection to Alexa after the connection to cloud was lost. With this option you can restart adapter after each disconnection and it will work.",tooltip_ts:"Time stamp",tooltip_user:"User",tooltip_value:"Value"}},143:function(e){e.exports={"(Set to 0 if behavior not desired)":"(\u0434\u043b\u044f \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430 0)","(you can separate names with comma)":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u043c\u0435\u043d, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u044f\u0442\u043e\u0439",Active:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e","Add device":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e","Add service":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0443",Addresses:"\u0410\u0434\u0440\u0435\u0441\u0430","Alexa devices":"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 Alexa","Alisa devices":"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0410\u043b\u0438\u0441\u044b","Allow admin access (only pro)":"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a admin (\u0442\u043e\u043b\u044c\u043a\u043e pro)","Allow self-signed certificates":"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b","Amazon Alexa":"Amazon Alexa","Are you sure?":"\u0423\u0432\u0435\u0440\u0435\u043d\u044b?","Authentication must be disabled. You can create second instance extra for cloud.":"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0434\u043b\u044f \u043e\u0431\u043b\u0430\u043a\u0430.",Cancel:"\u041e\u0442\u043c\u0435\u043d\u0430","Cannot add this object":"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043e\u0431\u044a\u0435\u043a\u0442, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043e\u043d \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f.","Cannot read devices!":"\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430!","Certificates will be updated after initiated restart":"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u043f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430","Certificates will be updated after start":"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430","Click now Get new connection certificates to request new temporary password":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \xab\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f\xbb, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.",Close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","Cloud URL":"URL \u043e\u0431\u043b\u0430\u043a\u0430","Cloud adapter settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430 Cloud",Commands:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b","Concatenate words with":"\u0421\u0432\u044f\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u044b \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0441\u043b\u043e\u0432\u043e\u043c","Connection timeout":"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f(\u043c\u0441)","Debug outputs":"\u0412\u044b\u0432\u043e\u0434 \u043e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438","Decrement color temperature":"\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u0435 \u0446\u0432\u0435\u0442\u043e\u0432\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b","Decrement percentage":"\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f","Decrement target temperature":"\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b",Default:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","Device %s was not added":"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e %s \u043d\u0435 \u0431\u044b\u043b\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e","Device will be deactivated.":"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f.","Device will be disabled.":"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0438\u0441\u0447\u0435\u0437\u043d\u0435\u0442 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.",Dimmer:"\u0414\u0438\u043c\u043c\u0435\u0440","Duplicate name":"\u0418\u043c\u044f \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f","Edit smart name":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043c\u044f",Error:"\u041e\u0448\u0438\u0431\u043a\u0430","Extended options":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",Filter:"\u0424\u0438\u043b\u044c\u0442\u0440",Functions:"\u0424\u0443\u043d\u043a\u0446\u0438\u0438","Get actual temperature":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0443","Get new connection certificates":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","Get new service URL key":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043a\u043b\u044e\u0447 \u0441\u043b\u0443\u0436\u0431\u044b URL","Get target temperature":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0443","Google Home":"Google Home","IFTTT key":"IFTTT key","Increment color temperature":"\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u0446\u0432\u0435\u0442\u043e\u0432\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b","Increment percentage":"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u0440\u0438\u0440\u043e\u0441\u0442\u0430","Increment target temperature":"\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b",Instance:"\u042d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440","Instance does not exists":"\u042d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","Instance is not active.":"\u042d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0435\u043d.","Instance must be enabled":"\u042d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d","Instance must run to deliver the data":"\u0414\u0440\u0430\u0439\u0432\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d, \u0447\u0442\u043e \u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435","Invalid object":"\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442",Language:"\u042f\u0437\u044b\u043a","Load configuration from file":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0437 \u0444\u0430\u0439\u043b\u0430",Message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","OFF level for switches":"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0435\u0439","OFF level for switches in %":"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0435\u0439 \u0432%",Off:"\u0432\u044b\u043a\u043b",Ok:"Ok",On:"\u0432\u043a\u043b","On/Off":"\u0412\u043a\u043b/\u0432\u044b\u043a\u043b",Options:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","Personal settings (only pro)":"\u041b\u0438\u0447\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 (\u0442\u043e\u043b\u044c\u043a\u043e pro)","Ping timeout:":"\u041f\u0438\u043d\u0433-\u0422\u0430\u0439\u043c\u0430\u0443\u0442(\u043c\u0441)","Place function in names first":"\u0418\u043c\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435","Please select object ID...":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 ...","Please write your email only in lower case letters":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u0447\u043d\u044b\u043c\u0438 \u0431\u0443\u043a\u0432\u0430\u043c\u0438","Read lock state":"\u0427\u0442\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438","Replace in names":"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \u0438\u043c\u0435\u043d\u0430\u0445","Request email with password one more time":"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u0435\u0449\u0435 \u0440\u0430\u0437","Restart on disconnect":"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u0438 \u043f\u043e\u0442\u0435\u0440\u0435 \u0441\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f",Review:"\u041e\u0431\u0437\u043e\u0440",Rooms:"\u041a\u043e\u043c\u043d\u0430\u0442\u044b",Save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","Save and close":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c","Save configuration to file":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0432 \u0444\u0430\u0439\u043b","Save settings and the names will be changed":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u0447\u0442\u043e \u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",Select:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c","Service names":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0441\u043b\u0443\u0436\u0431","Services and IFTTT":"\u0421\u0435\u0440\u0432\u0438\u0441\u044b \u0438 IFTTT","Set color":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0446\u0432\u0435\u0442","Set color temperature":"\u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430","Set lock state":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438","Set percentage":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u043d\u0442","Set target temperature":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0443","Smart Devices":"Smart \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430","Smart Enums":"Smart \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438","Smart Media":"Smart Media","Smart enums":"\u0423\u043c\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f","Smart name":"Smart \u0438\u043c\u044f","Smart name for %s":"\u0423\u043c\u043d\u043e\u0435 \u0438\u043c\u044f \u0434\u043b\u044f %s","To apply this setting, the restart of adapter must be done. Agree?":"\u0427\u0442\u043e \u0431\u044b \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u044d\u0442\u0443 \u043e\u043f\u0446\u0438\u044e, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044e. \u0421\u043e\u0433\u043b\u0430\u0441\u043d\u044b?","Turn off":"\u0412\u044b\u043a\u043b\u044e\u0447\u0438","Turn on":"\u0412\u043a\u043b\u044e\u0447\u0438",Type:"\u0442\u0438\u043f",Types:"\u0422\u0438\u043f\u044b","Use following link for IFTTT":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u044d\u0442\u043e\u0442 URL \u0434\u043b\u044f IFTTT","Use following link for custom service":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u044d\u0442\u043e\u0442 URL \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430","Use text2command instance":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c text2command",Value:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435","White list for services":"\u0411\u0435\u043b\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432","Write response to":"\u041f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u0432","Yandex \u0410\u043b\u0438\u0441\u0430":"Yandex \u0410\u043b\u0438\u0441\u0430","You can enter several names divided by comma":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u043c\u0435\u043d, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u044f\u0442\u043e\u0439","amazon link":"\u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 Alexa, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0439 \u043e\u0442\u0437\u044b\u0432 <a href='http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/create-review/?ref-suffix=war_dp' target='_blank' class='here'>\u0437\u0434\u0435\u0441\u044c</a>.<br>\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c <a href='http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/reviews' target='_blank'>\u0437\u0434\u0435\u0441\u044c</a>.","by ON":"\u043f\u0440\u0438 \u0412\u041a\u041b",clear:"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",default:"\u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439",disabled:"\u043d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u043e",filter_func:"\u0444\u0443\u043d\u043a\u0446\u0438\u044f",filter_id:"ID",filter_name:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",filter_role:"\u0440\u043e\u043b\u044c",filter_room:"\u043a\u043e\u043c\u043d\u0430\u0442\u0430",help_tip:'\u041d\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 iobroker.pro? \u041a\u0443\u043f\u0438\u0442\u0435 \u0435\u0433\u043e \u043d\u0430 <a href="https://iobroker.pro/accessRemote" target="_blank"> https://iobroker.pro </a> \u0434\u043b\u044f \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u0438\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e, \u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430.',info_allowedServices:"\u0440\u0430\u0437\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 *, \u0447\u0442\u043e \u0431\u044b \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b.",info_iftttKey:"\u0421\u0432\u043e\u0439 \u043a\u043b\u044e\u0447 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 <a href='https://ifttt.com/maker_webhooks' target='_blank'>\u0437\u0434\u0435\u0441\u044c</a> \u0432 'Documentation'","ioBroker.pro Login":"\u041b\u043e\u0433\u0438\u043d ioBroker.pro","ioBroker.pro Password":"\u041f\u0430\u0440\u043e\u043b\u044c ioBroker.pro","last value":"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",modified:"\u0418\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c","no type":"\u043d\u0435\u0442 \u0442\u0438\u043f\u0430",tooltip_ack:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e",tooltip_allowSelfSignedCertificate:"\u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043e\u0431\u043b\u0430\u043a\u043e, \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0430\u043c\u043e\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432",tooltip_apikey:"\u041a\u043b\u044e\u0447 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043b\u044f \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438 \u0441 \u043e\u0431\u043b\u0430\u043a\u043e\u043c. \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430 https://iobroker.net \u0438 \u043e\u043d \u043f\u043e\u0445\u043e\u0436 \u043d\u0430 nickname_f1f439a0-001a-11e7-bc64-92361f002671",tooltip_cloudUrl:"\u041e\u0431\u044b\u0447\u043d\u043e \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043c\u0435\u043d\u044f\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440. \u0422\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043e\u0431\u043b\u0430\u043a\u043e.",tooltip_concatWord:"\u041c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u043a\u0438\u043c \u0441\u043b\u043e\u0432\u043e\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0424\u0443\u043d\u043a\u0446\u0438\u044e \u0438 \u041a\u043e\u043c\u043d\u0430\u0442\u0443. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441 '\u0432': \u0421\u0432\u0435\u0442 \u0432 \u0437\u0430\u043b\u0435.",tooltip_deviceOffLevel:"\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0441\u043e\u0441\u0442\u043e\u044f\u0442 \u0438\u0437 \u0441\u043c\u0435\u0448\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432: \u0434\u0438\u043c\u043c\u0435\u0440\u043e\u0432 \u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0435\u0439. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043c\u0430\u043d\u0434 ON \u0438 OFF \u0438 \u0441 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430\u043c\u0438",tooltip_from:"\u041e\u0442",tooltip_functionFirst:"\u041e\u0431\u044b\u0447\u043d\u043e \u0438\u043c\u0435\u043d\u0430 \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u043a\u0430\u043a \u041a\u043e\u043c\u043d\u0430\u0442\u0430-\u0424\u0443\u043d\u043a\u0446\u0438\u044f. \u042d\u0442\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u0430 \u0424\u0443\u043d\u043a\u0446\u0438\u044f-\u041a\u043e\u043c\u043d\u0430\u0442\u0430.",tooltip_instance:"\u042d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 WEB, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u0438\u0437 \u043e\u0431\u043b\u0430\u043a\u0430",tooltip_language:"\u041c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u0437\u044b\u043a, \u0447\u0442\u043e \u0431\u044b \u0431\u044b\u0441\u0442\u0440\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 US Alexa Skill \u0438 DE Alexa Skill",tooltip_lc:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",tooltip_noCommon:"\u0415\u0441\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u0430 \u044d\u0442\u0430 \u043e\u043f\u0446\u0438\u044f, \u0442\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438. \u0427\u0442\u043e \u0431\u044b \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u043c\u0435\u043d\u0430.",tooltip_quality:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",tooltip_responseOID:"\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0431\u0443\u0434\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043e\u0442\u0432\u0435\u0442. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0437\u0434\u0435\u0441\u044c ID \u043e\u0431\u044a\u0435\u043a\u0442\u0430 , \u0433\u0434\u0435 \u044d\u0442\u043e\u0442 \u0442\u0435\u043a\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0430\u043d. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 sayit.0.tts.text.",tooltip_restartOnDisconnect:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u043f\u0440\u043e\u043f\u0430\u0436\u0435\u0439 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 Alexa, \u043f\u043e\u0441\u043b\u0435 \u0432\u043e\u0441\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u043e\u0431\u043b\u0430\u043a\u043e\u043c. \u042d\u0442\u0438\u043c \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0430\u0439\u0432\u0435\u0440 \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u0442\u0435\u0440\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f.",tooltip_ts:"\u041e\u0442\u043c\u0435\u0442\u043a\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",tooltip_user:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",tooltip_value:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}},144:function(e){e.exports={"(Set to 0 if behavior not desired)":"(Auf 0 setzten, falls das Verhalten unerw\xfcnscht ist)","(you can separate names with comma)":"Sie k\xf6nnen mehrere kommaseparierte Namen eingeben",Active:"aktiv","Add device":"Ger\xe4t hinzuf\xfcgen","Add service":"Dienst hinzuf\xfcgen",Addresses:"Adressen","Alexa devices":"Alexa-Ger\xe4te","Alisa devices":"Alisa Ger\xe4te","Allow admin access (only pro)":"Erlaube Zugriff auf Admin (nur pro)","Allow self-signed certificates":"Erlaube selbst-signierte Zertifikate","Amazon Alexa":"Amazon Alexa","Are you sure?":"Sind Sie sicher?","Authentication must be disabled. You can create second instance extra for cloud.":"Die Authentifizierung muss deaktiviert sein. Sie k\xf6nnen zweite Instanz extra f\xfcr Cloud erstellen.",Cancel:"Abbrechen","Cannot add this object":"Dieses Objekt kann nicht hinzugef\xfcgt werden, da es nicht unterst\xfctzt wird.","Cannot read devices!":"Ger\xe4te k\xf6nnen nicht gelesen werden!","Certificates will be updated after initiated restart":"Zertifikate werden nach dem Neustart aktualisiert","Certificates will be updated after start":"Zertifikate werden nach dem Start aktualisiert","Click now Get new connection certificates to request new temporary password":'Klicken Sie jetzt auf "Neue Verbindungszertifikate anfordern", um ein neues tempor\xe4res Kennwort anzufordern',Close:"Schlie\xdfen","Cloud URL":"Cloud URL","Cloud adapter settings":"Einstellungen f\xfcr Cloud-Adapter",Commands:"Befehle","Concatenate words with":"Verbinde Raum und Funktion mit","Connection timeout":"Verbindungs-Timeout(ms)","Debug outputs":"Ausgaben debuggen","Decrement color temperature":"Farbtemperatur verringern","Decrement percentage":"Prozentsatz verringern","Decrement target temperature":"Solltemperatur verringern",Default:"Standard","Device %s was not added":"Ger\xe4t %s wurde nicht hinzugef\xfcgt","Device will be deactivated.":"Ger\xe4t wird f\xfcr die Sprachsteuerung deaktiviert.","Device will be disabled.":"Ger\xe4t wird aus der Liste entfernt.",Dimmer:"Dimmer","Duplicate name":"Name wurde schon benutzt","Edit smart name":"Smartname editieren",Error:"Fehler","Extended options":"Erweiterte Einstellungen",Filter:"Filter",Functions:"Funktionen","Get actual temperature":"Aktuelle Temperatur abrufen","Get new connection certificates":"Erhalten Sie neue Verbindungszertifikate","Get new service URL key":"Neuen Service-URL-Schl\xfcssel abrufen","Get target temperature":"Solltemperatur abrufen","Google Home":"Google Home","IFTTT key":"IFTTT key","Increment color temperature":"Erh\xf6hen Sie die Farbtemperatur","Increment percentage":"Prozentsatz erh\xf6hen","Increment target temperature":"Erh\xf6hen Sie die Zieltemperatur",Instance:"Instanz","Instance does not exists":"Instanz existiert nicht","Instance is not active.":"Instanz ist nicht aktiv.","Instance must be enabled":"Instanz muss aktiviert sein","Instance must run to deliver the data":"Die Instanz muss laufen um die Daten zu liefern","Invalid object":"Ung\xfcltiges Objekt",Language:"Sprache","Load configuration from file":"Konfiguration aus Datei laden",Message:"Botschaft","OFF level for switches":"OFF level for switches","OFF level for switches in %":"AUS-Pegel f\xfcr Schalter in%",Off:"aus",Ok:"Ok",On:"an","On/Off":"An aus",Options:"Einstellungen","Personal settings (only pro)":"Eigene Einstellungen (nur pro)","Ping timeout:":"Ping-Timeout(ms)","Place function in names first":"Platziere Funktionsnamen vorne","Please select object ID...":"Bitte Objekt ID ausw\xe4hlen ...","Please write your email only in lower case letters":"Bitte schreiben Sie Ihre E-Mail nur in Kleinbuchstaben","Read lock state":"Sperrstatus lesen","Replace in names":"Ersetze in Namen","Request email with password one more time":"Fordern Sie noch einmal eine E-Mail mit Passwort an","Restart on disconnect":"Neustart bei Verbindungsabbruch",Review:"Rezension",Rooms:"R\xe4ume",Save:"sparen","Save and close":"Speichern und schlie\xdfen","Save configuration to file":"Konfiguration in Datei speichern","Save settings and the names will be changed":"Speichere die Einstellungen um die neuen Namen zu sehen",Select:"W\xe4hlen","Service names":"Servicenamen","Services and IFTTT":"Services und IFTTT","Set color":"Farbe einstellen","Set color temperature":"Farbtemperatur einstellen","Set lock state":"Legen Sie den Sperrstatus fest","Set percentage":"Prozent einstellen","Set target temperature":"Solltemperatur einstellen","Smart Devices":"Smart Ger\xe4te","Smart Enums":"Smart Aufz\xe4hlungen","Smart Media":"Smart Media","Smart enums":"Intelligente Aufz\xe4hlungen","Smart name":"Smart-Name","Smart name for %s":"Intelligenter Name f\xfcr %s","To apply this setting, the restart of adapter must be done. Agree?":"Um diese Einstellung zu \xe4ndern, es ist erforderlich diese Instanz neu zu starten. Einverstanden?","Turn off":"Abschalten","Turn on":"Anschalten",Type:"Typ",Types:"Typen","Use following link for IFTTT":"Benutze folgenden Link f\xfcr IFTTT","Use following link for custom service":"Benutze folgende Link f\xfcr einen eigenen Service","Use text2command instance":"Benutze text2command Instanz",Value:"Wert","White list for services":"White list f\xfcr Services","Write response to":"Schreibe Antwort ins","Yandex \u0410\u043b\u0438\u0441\u0430":"Yandex \u0410\u043b\u0438\u0441\u0430","You can enter several names divided by comma":"Sie k\xf6nnen mehrere durch Komma getrennte Namen eingeben","amazon link":"Falls du den Alexa Skill benutzt, schreibe doch bitte <a href='http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/create-review/?ref-suffix=war_dp' target='_blank' class='here'>hier</a> eine Review.<br>Beispiele kann man <a href='http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/reviews' target='_blank'>hier</a> anschauen.","by ON":"bei AN",clear:"l\xf6schen",default:"Systemsprache",disabled:"deaktiviert",filter_func:"Funktion",filter_id:"ICH W\xdcRDE",filter_name:"Name",filter_role:"Rolle",filter_room:"Zimmer",help_tip:'Kein iobroker.pro-Konto? Kaufen Sie es auf <a href="https://iobroker.pro/accessRemote" target="_blank"> https://iobroker.pro </a> f\xfcr den validierten Zugriff oder erhalten Sie kostenlosen, aber eingeschr\xe4nkten Zugriff.',info_allowedServices:"durch Komma getrennt. Benutze * um alle Services zu erlauben.",info_iftttKey:"Der Schl\xfcssel kann <a href='https://ifttt.com/maker_webhooks' target='_blank'>hier</a> unter 'Documentation' gefunden werden","ioBroker.pro Login":"ioBroker.pro Login","ioBroker.pro Password":"ioBroker.pro Passwort","last value":"letzter Wert",modified:"Der Name wurde vom Anwender ge\xe4ndert","no type":"kein Typ",tooltip_ack:"Best\xe4tigte Flagge",tooltip_allowSelfSignedCertificate:"Wenn man eine eigene Cloud verwendet, man kann die Benutzung von selbst-signierten Zertifikaten erlauben.",tooltip_apikey:"Dieser Schl\xfcssel wird ben\xf6tigt um mit der Cloud zu kommunizieren. Man kann den Schl\xfcssel unter https://iobroker.net bekommen. Es sieht wie folgt aus nickname_f1f439a0-001a-11e7-bc64-92361f002671",tooltip_cloudUrl:"Normalerweise muss diese Option nicht ge\xe4ndert werden. Dies ist nur notwendig, wenn man eigenen Cloud verwendet.",tooltip_concatWord:"Damit wird definiert wie Funktion und Raum miteinander verbunden werden; z.B. mit 'im': Licht im Schlafzimmer",tooltip_deviceOffLevel:"Gruppen k\xf6nnen aus gemischten Ger\xe4ten (Schaltern und Dimmern) bestehen. Sie k\xf6nnen mit ON/OFF sowie Prozentwerten angesteuert werden, hier kann definiert werden welcher Prozentsatz OFF entspricht.",tooltip_from:"Von",tooltip_functionFirst:"Die automatischen Namen werden im Schema Raum-Funktion generiert. Hiermit kann man es auf Funktion-Raum ge\xe4ndert werden.",tooltip_instance:"Web Instanz, die f\xfcr ihre Anfragen aus dem Cloud angezeigt wird.",tooltip_language:"Man kann hier die Sprache definieren um zwischen US Alexa Skill und DE Alexa Skill umschalten zu k\xf6nnen",tooltip_lc:"Zuletzt ge\xe4ndert",tooltip_noCommon:"Wenn diese Option aktiviert wird, so werden die Einstellungen nur f\xfcr diese Instanz gespeichert. So ist es m\xf6glich in einer anderen Instanz andere Namen zu setzen.",tooltip_quality:"Qualit\xe4t",tooltip_responseOID:"F\xfcr jedes Kommando wird eine Textantwort generiert. Hier kannst du die Objekt ID angeben, an welche die Textantwort gesendet werden soll, z.B. sayit.0.tts.text.",tooltip_restartOnDisconnect:"Workaround f\xfcr fehlende Kommunikation mit Alexa nach Verbindungsabbruch. Damit kann man zwingen den Adapter neu zu starten und das Problem umgehen.",tooltip_ts:"Zeitstempel",tooltip_user:"Nutzer",tooltip_value:"Wert"}},176:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(20),o=n.n(i),r=n(229),c=(n(135),n(10)),l=n(11),m=n(14),u=n(12),d=n(15),h=n(5),p=n(227),f=n(230),g=n(228),v=(n(136),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).size=n.props.size||234,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"logo-back logo-background-"+this.props.theme},s.a.createElement("div",{className:"logo-div",style:{width:this.size,height:this.size}},s.a.createElement("div",{className:"logo-top logo-background-"+this.props.theme,style:{left:"37%"}}),s.a.createElement("div",{className:"logo-top logo-background-"+this.props.theme,style:{left:"57%"}}),s.a.createElement("div",{className:"logo-border logo-background-"+this.props.theme+" logo-animate-wait",style:{borderWidth:.132*this.size}}),s.a.createElement("div",{className:"logo-i logo-animate-color-inside-"+this.props.theme}),s.a.createElement("div",{className:"logo-i-top logo-animate-color-inside-"+this.props.theme,style:{top:"18%"}}),s.a.createElement("div",{className:"logo-i-top logo-animate-color-inside-"+this.props.theme,style:{bottom:"18%"}})),s.a.createElement("div",{className:"logo-animate-grow logo-animate-grow-"+this.props.theme,style:{width:this.size+11,height:this.size+11}}))}}]),t}(s.a.Component)),b=Object(h.a)(function(e){return{}})(v),y=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"setLanguage",value:function(t){t&&(e.lang=t)}},{key:"getLanguage",value:function(){return e.lang}},{key:"t",value:function(t,n,a,s){if(e.translations[e.lang]){var i=e.translations[e.lang][t];i?t=i:console.log("Translate: ".concat(t))}return void 0!==n&&(t=t.replace("%s",n),void 0!==a&&(t=t.replace("%s",a),void 0!==s&&(t=t.replace("%s",s)))),t}}]),e}();y.translations={en:n(142),ru:n(143),de:n(144)},y.lang=window.sysLang||"en";var k=y,w=n(6),S=n.n(w),E={CONNECTING:0,CONNECTED:1,OBJECTS_LOADED:2,READY:3},C=function(){function e(t){var n=this;Object(c.a)(this,e),t=t||{},this.props=t,this.autoSubscribes=this.props.autoSubscribes||[],this.autoSubscribeLog=this.props.autoSubscribeLog,this.socket=window.io.connect(window.location.protocol+"//"+window.location.host.replace("3000",8081),{query:"ws=true"}),this.states={},this.objects=null,this.scripts={list:[],hosts:[],groups:[],instances:[]},this.firstConnect=!0,this.waitForRestart=!1,this.systemLang="en",this.connected=!1,this.statesSubscribes={},this.objectsSubscribes={},this.onProgress=this.props.onProgress||function(){},this.onError=this.props.onError||function(e){console.error(e)},this.socket.on("connect",function(){n.connected=!0,n.firstConnect?(n.onProgress(E.CONNECTED),n.firstConnect=!1,n.socket.emit("getUserPermissions",function(e,t){n.acl=t,n.socket.emit("getObject","system.config",function(e,t){n.systemConfig=t,!e&&n.systemConfig&&n.systemConfig.common?n.systemLang=n.systemConfig.common.language:(n.systemLang=window.navigator.userLanguage||window.navigator.language,"en"!==n.systemLang&&"de"!==n.systemLang&&"ru"!==n.systemLang&&(n.systemConfig.common.language="en",n.systemLang="en")),n.props.onLanguage&&n.props.onLanguage(n.systemLang),n.getObjects(function(){n.onProgress(E.READY),n.props.onReady&&n.props.onReady(n.objects,n.scripts)})})})):n.onProgress(E.READY),n.subscribe(!0),n.waitForRestart&&window.location.reload()}),this.socket.on("disconnect",function(){n.connected=!1,n.subscribed=!1,n.onProgress(E.CONNECTING)}),this.socket.on("reconnect",function(){n.onProgress(E.READY),n.waitForRestart&&window.location.reload()}),this.socket.on("reauthenticate",function(){return window.location.reload()}),this.socket.on("log",function(e){n.props.onLog&&n.props.onLog(e),n.onLogHandler&&n.onLogHandler(e)}),this.socket.on("permissionError",function(e){return n.onError({message:"no permission",operation:e.operation,type:e.type,id:e.id||""})}),this.socket.on("objectChange",function(e,t){return setTimeout(function(){return n.objectChange(e,t)},0)}),this.socket.on("stateChange",function(e,t){return setTimeout(function(){return n.stateChange(e,t)},0)})}return Object(l.a)(e,[{key:"subscribeState",value:function(e,t){if(this.statesSubscribes[e])-1===this.statesSubscribes[e].cbs.indexOf(t)&&this.statesSubscribes[e].cbs.push(t);else{var n=e.replace(/\./g,"\\.").replace(/\*/g,".*");-1===n.indexOf("*")&&(n+="$"),this.statesSubscribes[e]={reg:new RegExp(n),cbs:[]},this.statesSubscribes[e].cbs.push(t),this.connected&&this.socket.emit("subscribe",e)}this.getState(e,t)}},{key:"unsubscribeState",value:function(e,t){if(this.statesSubscribes[e]){if(t){var n=this.statesSubscribes[e].cbs.indexOf(t);-1!==n&&this.statesSubscribes[e].cbs.splice(n,1)}else this.statesSubscribes[e].cbs=null;!this.connected||this.statesSubscribes[e].cbs&&this.statesSubscribes[e].cbs.length||(delete this.statesSubscribes[e],this.socket.emit("unsubscribe",e))}}},{key:"subscribeObject",value:function(e,t){if(this.objectsSubscribes[e])-1===this.objectsSubscribes[e].cbs.indexOf(t)&&this.objectsSubscribes[e].cbs.push(t);else{var n=e.replace(/\./g,"\\.").replace(/\*/g,".*");-1===n.indexOf("*")&&(n+="$"),this.objectsSubscribes[e]={reg:new RegExp(n),cbs:[]},this.objectsSubscribes[e].cbs.push(t),this.connected&&this.socket.emit("subscribeObjects",e)}return Promise.resolve()}},{key:"unsubscribeObject",value:function(e,t){if(this.objectsSubscribes[e]){if(t){var n=this.objectsSubscribes[e].cbs.indexOf(t);-1!==n&&this.objectsSubscribes[e].cbs.splice(n,1)}else this.objectsSubscribes[e].cbs=null;!this.connected||this.objectsSubscribes[e].cbs&&this.objectsSubscribes[e].cbs.length||(delete this.objectsSubscribes[e],this.socket.emit("unsubscribeObjects",e))}return Promise.resolve()}},{key:"objectChange",value:function(e,t){var n=this;if(this.objects){var a=!1;if(t){if(t._rev&&this.objects[e]&&(this.objects[e]._rev=t._rev),!this.objects[e]||JSON.stringify(this.objects[e])!==JSON.stringify(t))this.objects[e]=t,a=!0,"instance"===t.type?-1===this.scripts.instances.indexOf(e)&&this.scripts.instances.push(e):"script"===t.type?-1===this.scripts.list.indexOf(e)&&this.scripts.list.push(e):e.match(/^script\.js\./)&&"channel"===t.type&&-1===this.scripts.groups.indexOf(e)&&this.scripts.groups.push(e)}else if(this.objects[e]){var s,i={_id:e,type:this.objects[e].type};delete this.objects[e],"instance"===i.type?-1!==(s=this.scripts.instances.indexOf(e))&&this.scripts.instances.splice(s,1):"script"===i.type?-1!==(s=this.scripts.list.indexOf(e))&&this.scripts.list.splice(s,1):e.match(/^script\.js\./)&&"channel"===i.type&&-1!==(s=this.scripts.groups.indexOf(e))&&this.scripts.groups.splice(s,1),a=!0}Object.keys(this.objectsSubscribes).forEach(function(a){(a===e||n.objectsSubscribes[a].reg.test(e))&&n.objectsSubscribes[a].cbs.forEach(function(n){return n(e,t)})}),this.props.onBlocklyChanges&&e.match(/^system\.adapter\.[-\w\d]+\$/)&&t[e].common&&t[e].common.blockly&&this.props.onBlocklyChanges(e),a&&this.props.onObjectChange&&this.props.onObjectChange(this.objects,this.scripts)}}},{key:"stateChange",value:function(e,t){for(var n in e=e?e.replace(/[\s'"]/g,"_"):"",this.statesSubscribes)this.statesSubscribes.hasOwnProperty(n)&&this.statesSubscribes[n].reg.test(e)&&this.statesSubscribes[n].cbs.forEach(function(n){return n(e,t)})}},{key:"getStates",value:function(e,t){var n=this;this.socket.emit("getStates",function(a,s){n.states=s,!t&&n.onProgress(E.STATES_LOADED),e&&setTimeout(function(){return e(n.states)},0)})}},{key:"getState",value:function(e,t){var n=this;if(!t)return new Promise(function(t,a){return n.getState(e,function(e,n){return e?a(e):t(n)})});this.socket.emit("getState",e,t)}},{key:"setState",value:function(e,t,n){var a=this;if(!n)return new Promise(function(n,s){return a.setState(e,t,function(e){return e?s(e):n()})});this.socket.emit("setState",e,t,n)}},{key:"getObjects",value:function(e,t,n){var a=this;if("function"===typeof e&&(n=t,t=e,e=!1),!e&&this.objects)return setTimeout(function(){return t&&t(a.objects)},0);this.socket.emit("getAllObjects",function(e,s){setTimeout(function(){var e;for(var i in a.objects=s,a.objects)a.objects.hasOwnProperty(i)&&"_design"!==i.slice(0,7)&&("instance"===(e=s[i]).type&&i.startsWith("system.adapter.javascript.")&&a.scripts.instances.push(parseInt(i.split(".").pop())),"script"===e.type&&a.scripts.list.push(i),"channel"===e.type&&i.match(/^script\.js\./)&&a.scripts.groups.push(i),"host"===e.type&&a.scripts.hosts.push(i));n&&a.onProgress(E.OBJECTS_LOADED),t&&t(a.objects)},0)})}},{key:"subscribe",value:function(e){var t=this;e&&!this.subscribed?(this.subscribed=!0,this.autoSubscribes.forEach(function(e){return t.socket.emit("subscribeObjects",e)}),Object.keys(this.objectsSubscribes).forEach(function(e){return t.socket.emit("subscribeObjects",e)}),this.autoSubscribeLog&&this.socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach(function(e){return t.socket.emit("subscribe",e)})):!e&&this.subscribed&&(this.subscribed=!1,this.autoSubscribes.forEach(function(e){return t.socket.emit("unsubscribeObjects",e)}),Object.keys(this.objectsSubscribes).forEach(function(e){return t.socket.emit("unsubscribeObjects",e)}),this.autoSubscribeLog&&this.socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(function(e){return t.socket.emit("unsubscribe",e)}))}},{key:"delObject",value:function(e){var t=this;return new Promise(function(n,a){t.socket.emit("delObject",e,function(e){e?a(e):n()})})}},{key:"setObject",value:function(e,t){var n=this;return new Promise(function(a,s){n.socket.emit("setObject",e,t,function(e){e?s(e):a()})})}},{key:"getObject",value:function(e){var t=this;return new Promise(function(n,a){t.socket.emit("getObject",e,function(e,t){e?a(e):n(t)})})}},{key:"updateScript",value:function(e,t,n){var a=this;return new Promise(function(s,i){a.socket.emit("getObject",e,function(o,r){setTimeout(function(){var o={common:{}};if(void 0!==n.engine&&(o.common.engine=n.engine),void 0!==n.enabled&&(o.common.enabled=n.enabled),void 0!==n.source&&(o.common.source=n.source),void 0!==n.debug&&(o.common.debug=n.debug),void 0!==n.verbose&&(o.common.verbose=n.verbose),e===t&&r&&r.common&&n.name===r.common.name)n.engineType&&n.engineType===r.common.engineType?a.socket.emit("extendObject",e,o,function(e){return e?i(e):s()}):(void 0!==n.engineType&&(o.common.engineType=n.engineType||"Javascript/js"),a.socket.emit("extendObject",e,o,function(e){return e?i(e):s()}));else{if(r&&r.common)return r.common.engineType=n.engineType||r.common.engineType||"Javascript/js",void a.socket.emit("delObject",e,function(e){e?i(e):(void 0!==o.common.engine&&(r.common.engine=o.common.engine),void 0!==o.common.enabled&&(r.common.enabled=o.common.enabled),void 0!==o.common.source&&(r.common.source=o.common.source),void 0!==o.common.name&&(r.common.name=o.common.name),void 0!==o.common.debug&&(r.common.debug=o.common.debug),void 0!==o.common.verbose&&(r.common.verbose=o.common.verbose),delete r._rev,r.common.name=n.name,r._id=t,a.socket.emit("setObject",t,r,function(e){return e?i(e):s()}))});(r=o).common.name=n.name,r._id=t,a.socket.emit("setObject",t,r,function(e){return e?i(e):s()})}},0)})})}},{key:"getAdapterInstances",value:function(e){var t=this;return new Promise(function(n,a){t.socket.emit("getObjectView","system","instance",{startkey:"system.adapter."+e,endkey:"system.adapter."+(e?e+".":"")+"\u9999"},function(e,t){e?a(e):n(t.rows.map(function(e){return e.value}))})})}},{key:"_deleteGroup",value:function(e,t,n,a){var s=this;return-1===n.indexOf(e)&&n.push(e),new Promise(function(i,o){for(var r=0;r<s.scripts.list.length;r++)if(s.scripts.list[r].substring(0,e.length+1)===e+"."&&(!a||-1===a.indexOf(s.scripts.list[r])))return s.deleteId(s.scripts.list[r],e,n,a);for(var c=0;c<s.scripts.groups.length;c++)if(s.scripts.groups[c].substring(0,e.length+1)===e+".")return s.deleteId(s.scripts.groups[c],e,n,a);s.socket.emit("delObject",e,function(r){if(r)o(r);else{if(t!==e)return s.deleteId(t,null,n,a);i()}})})}},{key:"deleteId",value:function(e,t,n,a){var s=this;return t=t||e,n=n||[],a=a||[],new Promise(function(i,o){if(s.objects[e]&&"script"===s.objects[e].type)s.props.onConfirmDelete?s.props.onConfirmDelete(!1,s.objects[e].common.name,function(i){i?s.socket.emit("delObject",e,function(i){if(!i)return a.push(e),s.deleteId(t,null,n,a);o(i)}):o("canceled")}):s.socket.emit("delObject",e,function(i){if(!i)return a.push(e),s.deleteId(t,null,n,a);o(i)});else{var r=e;if(-1!==n.indexOf(e))return s._deleteGroup(e,t,n,a);if(s.objects[e]&&s.objects[e].common&&s.objects[e].common.name&&(r=s.objects[e].common.name),!s.props.onConfirmDelete)return s._deleteGroup(e,t,n,a);s.props.onConfirmDelete(!0,r,function(i){if(i)return s._deleteGroup(e,t,n,a);o("canceled")})}})}},{key:"renameGroup",value:function(e,t,n,a){var s=this;return new Promise(function(i,o){if(a)if(a.length){var r=a.pop();s.socket.emit("getObject",r,function(i,c){i?o(i):s.socket.emit("delObject",r,function(i){i?o(i):(r=t+r.substring(e.length),s.socket.emit("setObject",r,c,function(i){if(!i)return s.renameGroup(e,t,n,a);o(i)}))})})}else i();else{a=[];for(var c=0;c<s.scripts.list.length;c++)s.scripts.list[c].substring(0,e.length+1)===e+"."&&a.push(s.scripts.list[c]);for(var l=0;l<s.scripts.groups.length;l++)s.scripts.groups[l].substring(0,e.length+1)===e+"."&&a.push(s.scripts.list[l]);s.socket.emit("getObject",e,function(i,r){i?o(i):((r=r||{common:{}}).common.name=n,r._id=t,s.socket.emit("delObject",e,function(i){i?o(i):s.socket.emit("setObject",t,r,function(i){if(!i)return s.renameGroup(e,t,n,a);o(i)})}))})}})}},{key:"getScripts",value:function(){return this.scripts}},{key:"sendTo",value:function(e,t,n,a){this.socket.emit("sendTo",e,t,n,a)}},{key:"extendObject",value:function(e,t,n){this.socket.emit("extendObject",e,t,n)}},{key:"registerLogHandler",value:function(e){this.onLogHandler=e}},{key:"unregisterLogHandler",value:function(e){this.onLogHandler=null}},{key:"getEnums",value:function(e){var t=this;return new Promise(function(n,a){t.socket.emit("getObjectView","system","enum",{startkey:"enum."+(e||""),endkey:"enum."+(e?e+".":"")+"\u9999"},function(t,s){if(!t&&s){for(var i={},o=0;o<s.rows.length;o++)e&&s.rows[o].id==="enum."+e||(i[s.rows[o].id]=s.rows[o].value);n(i)}else a(t)})})}}]),e}();C.Connection={onLog:S.a.func,onReady:S.a.func,onProgress:S.a.func};var N=C,O=n(211),A=n(235),j=n(210),I=n(208),x=n(209),T=n(207),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).handleOk=function(){n.props.onClose&&n.props.onClose()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(T.a,{className:this.props.classes.titleBackground,classes:{root:this.props.classes.titleColor},id:"alert-dialog-title"},this.props.title||k.t("Error")),s.a.createElement(I.a,null,s.a.createElement(x.a,{id:"alert-dialog-description"},this.props.text||k.t("Unknown error!"))),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.handleOk()},color:"primary",autoFocus:!0},k.t("Ok"))))}}]),t}(s.a.Component),R=Object(h.a)(function(e){return{}})(D),L=n(213),_=n(214),F=n(236),B=n(177),z=n(8),U={background:"#64b5f6",button:{borderRadius:3,height:32}},G=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).instance=parseInt(window.location.search.slice(1),10)||0;var a=window.location.pathname.split("/");n.adapterName=a[a.length-2]||"iot",n.instanceId="system.adapter."+n.adapterName+"."+n.instance,n.state={selectedTab:window.localStorage[n.adapterName+"-adapter"]||"",selectedTabNum:-1,native:{},errorText:"",changed:!1,connected:!1,loaded:!1,themeType:"light",toast:""};try{n.isIFrame=window.self!==window.top}catch(s){n.isIFrame=!0}return n.savedNative={},n.socket=new N({onProgress:function(e){e===E.CONNECTING?n.setState({connected:!1}):(E.READY,n.setState({connected:!0}))},onReady:function(e,t){k.setLanguage(n.socket.systemLang),n.socket.getObject(n.instanceId).then(function(e){n.common=e.common,n.setState({native:e.native,loaded:!0})})},onError:function(e){console.error(e)}}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"selectTab",value:function(e,t){window.localStorage[this.adapterName+"-adapter"]=e,this.setState({selectedTab:e,selectedTabNum:t})}},{key:"onSave",value:function(e){var n,a=this;this.socket.getObject(this.instanceId).then(function(e){for(var t in n=e||{},a.state.native)a.state.native.hasOwnProperty(t)&&(n.native[t]=a.state.native[t]);if(a.state.common)for(var s in a.state.common)a.state.common.hasOwnProperty(s)&&(n.common[s]=a.state.common[s]);return a.socket.setObject(a.instanceId,n)}).then(function(){a.savedNative=n.native,a.setState({changed:!1}),e&&t.onClose()})}},{key:"renderToast",value:function(){var e=this;return this.state.toast?s.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:function(){return e.setState({toast:""})},ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("span",{id:"message-id"},this.state.toast),action:[s.a.createElement(B.a,{key:"close","aria-label":"Close",color:"inherit",className:this.props.classes.close,onClick:function(){return e.setState({toast:""})}},s.a.createElement(z.c,null))]}):null}},{key:"renderError",value:function(){var e=this;return this.state.errorText?s.a.createElement(R,{text:this.state.text,onClose:function(){return e.setState({errorText:""})}}):null}},{key:"getIsChanged",value:function(e){return e=e||this.state.native,JSON.stringify(e)!==JSON.stringify(this.savedNative)}},{key:"onLoadConfig",value:function(e){JSON.stringify(e)!==JSON.stringify(this.state.native)&&this.setState({native:e,changed:this.getIsChanged(e)})}},{key:"renderSaveCloseButtons",value:function(){var e=this,n={borderRadius:U.button.borderRadius||3,height:U.button.height||32};return s.a.createElement(L.a,{position:"absolute",style:{bottom:this.isIFrame?38:0,left:0,right:0,position:"absolute",background:U.background}},s.a.createElement(_.a,{variant:"extended","aria-label":"Save",disabled:!this.state.changed,onClick:function(){return e.onSave(!1)},style:n},s.a.createElement(z.k,null),k.t("Save")),s.a.createElement(_.a,{variant:"extended","aria-label":"Save and close",disabled:!this.state.changed,onClick:function(){return e.onSave(!0)},style:Object.assign({},n,{marginLeft:10})},s.a.createElement(z.k,null),k.t("Save and close")),s.a.createElement("div",{style:{flexGrow:1}}),s.a.createElement(_.a,{variant:"extended","aria-label":"Close",onClick:function(){return t.onClose()},style:n},s.a.createElement(z.c,null),k.t("Close")))}},{key:"updateNativeValue",value:function(e,t){var n=JSON.parse(JSON.stringify(this.state.native));if(n[e]!==t){n[e]=t;var a=this.getIsChanged(n);this.setState({native:n,changed:a})}}},{key:"showError",value:function(e){this.setState({errorText:e})}},{key:"showToast",value:function(e){this.setState({toast:e})}},{key:"render",value:function(){return null}}],[{key:"onClose",value:function(){if("undefined"!==typeof window.parent&&window.parent)try{window.parent.$iframeDialog&&"function"===typeof window.parent.$iframeDialog.close?window.parent.$iframeDialog.close():window.parent.postMessage("close","*")}catch(e){window.parent.postMessage("close","*")}}}]),t}(a.Component),W=n(232),Y=n(223),H=n(234),P=n(218),M=n(219),V=n(222),J=n(221),Q=n(220),Z=n(119),K=["Su","Mo","Tu","We","Th","Fr","Sa"],q=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],X=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"CapitalWords",value:function(e){return(e||"").split(/[\s_]/).filter(function(e){return e}).map(function(e){return e?e[0].toUpperCase()+e.substring(1).toLowerCase():""}).join(" ")}},{key:"getObjectName",value:function(t,n,a,s,i){var o=t[n],r=n,c=i?"desc":"name";if((s=s||{}).language||(s.language=t["system.config"]&&t["system.config"].common&&t["system.config"].common.language||window.sysLang||"en"),a&&a.name)"object"===typeof(r=a.name)&&(r=r[s.language]||r.en);else if(o&&o.common&&o.common[c])r=o.common[c],"desc"!==c&&!r&&o.common.desc&&(r=o.common.desc),"object"===typeof r&&(r=r[s.language]||r.en),(r=r.replace(/[_.]/g," "))===r.toUpperCase()&&(r=r[0]+r.substring(1).toLowerCase());else{var l=n.lastIndexOf(".");r=n.substring(l+1).replace(/[_.]/g," "),r=e.CapitalWords(r)}return r.trim()}},{key:"getObjectNameFromObj",value:function(e,t,n,a){var s=e,i=e._id,o=a?"desc":"name";return n=n||{},t&&t.name?"object"===typeof(i=t.name)&&(i=i[n.language]||i.en):s&&s.common&&s.common[o]&&(i=s.common[o],"desc"!==o&&!i&&s.common.desc&&(i=s.common.desc),"object"===typeof i&&(i=i[n.language]||i.en),(i=i.replace(/[_.]/g," "))===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase())),i.trim()}},{key:"getSettingsOrder",value:function(e,t,n){var a;if(e&&e.hasOwnProperty("common")&&(e=e.common),e&&e.custom){a=(e.custom||{}).material;var s=n.user||"admin";if(a&&a[s])if(t){if(a[s].subOrder&&a[s].subOrder[t])return JSON.parse(JSON.stringify(a[s].subOrder[t]))}else if(a[s].order)return JSON.parse(JSON.stringify(a[s].order))}return null}},{key:"getSettingsCustomURLs",value:function(e,t,n){var a;if(e&&e.hasOwnProperty("common")&&(e=e.common),e&&e.custom){a=(e.custom||{}).material;var s=n.user||"admin";if(a&&a[s])if(t){if(a[s].subURLs&&a[s].subURLs[t])return JSON.parse(JSON.stringify(a[s].subURLs[t]))}else if(a[s].URLs)return JSON.parse(JSON.stringify(a[s].URLs))}return null}},{key:"reorder",value:function(e,t,n){var a=Array.from(e),s=a.splice(t,1),i=Object(Z.a)(s,1)[0];return a.splice(n,0,i),a}},{key:"getSettings",value:function(t,n,a){var s,i=t&&t._id||n&&n.id;if(t&&t.hasOwnProperty("common")&&(t=t.common),(s=t&&t.custom?(s=t.custom||{}).material&&s.material[n.user||"admin"]?JSON.parse(JSON.stringify(s.material[n.user||"admin"])):{enabled:!0}:{enabled:void 0===a||a,useCustom:!1}).hasOwnProperty("enabled")||(s.enabled=void 0===a||a),n&&(!s.name&&n.name&&(s.name=n.name),!s.icon&&n.icon&&(s.icon=n.icon),!s.color&&n.color&&(s.color=n.color)),t&&(!s.color&&t.color&&(s.color=t.color),!s.icon&&t.icon&&(s.icon=t.icon),!s.name&&t.name&&(s.name=t.name)),"object"===typeof s.name&&(s.name=s.name[n.language]||s.name.en,s.name=(s.name||"").replace(/_/g," "),s.name===s.name.toUpperCase()&&(s.name=s.name[0]+s.name.substring(1).toLowerCase())),!s.name&&i){var o=i.lastIndexOf(".");s.name=i.substring(o+1).replace(/[_.]/g," "),s.name=(s.name||"").replace(/_/g," "),s.name=e.CapitalWords(s.name)}return s}},{key:"setSettings",value:function(e,t,n){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom.material=e.common.custom.material||{},e.common.custom.material[n.user||"admin"]=t;var a=e.common.custom.material[n.user||"admin"];return a.useCommon&&(void 0!==a.color&&(e.common.color=a.color,delete a.color),void 0!==a.icon&&(e.common.icon=a.icon,delete a.icon),void 0!==a.name&&("object"!==typeof e.common.name?(e.common.name={},e.common.name[n.language]=a.name):e.common.name[n.language]=a.name,delete a.name)),!0}return!1}},{key:"getIcon",value:function(e,t){return e&&e.icon?(e.icon.startsWith("data:image"),s.a.createElement("img",{alt:e.name,src:e.icon,style:t||{}})):null}},{key:"getObjectIcon",value:function(e,t){if(t&&t.common&&t.common.icon){var n=t.common.icon;if(n.startsWith("data:image"))return n;var a=e.split(".");return n="system"===a[0]?"adapter/"+a[2]+n:"adapter/"+a[0]+n,window.location.pathname.match(/material\/[.\d]+/)?n="../../"+n:window.location.pathname.match(/material\//)&&(n="../"+n),n}return null}},{key:"splitCamelCase",value:function(t){return e.CapitalWords(t)}},{key:"isUseBright",value:function(e,t){if(null===e||void 0===e||""===e)return void 0===t||t;var n,a,s;0===(e=e.toString()).indexOf("#")&&(e=e.slice(1));var i=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(i&&4===i.length)n=parseInt(i[1],10),a=parseInt(i[2],10),s=parseInt(i[3],10);else{if(3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)return!1;n=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16)}return.299*n+.587*a+.114*s<=186}},{key:"getTimeString",value:function(e){if(e=parseFloat(e),isNaN(e))return"--:--";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=e%60;return t?(n<10&&(n="0"+n),a<10&&(a="0"+a),t+":"+n+":"+a):(a<10&&(a="0"+a),n+":"+a)}},{key:"getWindDirection",value:function(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":e>=348.75?"N":void 0}},{key:"padding",value:function(e){return"string"===typeof e?e.length<2?"0"+e:e:e<10?"0"+e:e}},{key:"setDataFormat",value:function(t){t&&(e.dateFormat=t.toUpperCase().split(/[.-\/]/),e.dateFormat.splice(e.dateFormat.indexOf("YYYY"),1))}},{key:"date2string",value:function(t){if("string"===typeof t){if(!(t=t.trim()))return"";if(t.match(/^[\w\s]+$/))return t;var n=t.match(/(\d{1,4})[-.\/](\d{1,2})[-.\/](\d{1,4})/);if(n){var a=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],s=a.find(function(e){return e>31});a.splice(a.indexOf(s),1);var i=a.find(function(e){return e>12});i?(a.splice(a.indexOf(i),1),t=new Date(s,a[0]-1,i)):"M"===e.dateFormat[0][0]&&"D"===e.dateFormat[1][0]?(t=new Date(s,a[0]-1,a[1]),Math.abs(t.getTime-Date.now())>864e6&&(t=new Date(s,a[1]-1,a[0]))):"D"===e.dateFormat[0][0]&&"M"===e.dateFormat[1][0]?(t=new Date(s,a[1]-1,a[0]),Math.abs(t.getTime-Date.now())>864e6&&(t=new Date(s,a[0]-1,a[1]))):t=new Date(t)}else t=new Date(t)}else t=new Date(t);var o=k.t("dow_"+K[t.getDay()]).replace("dow_","");return o+=". "+t.getDate()+" "+k.t("month_"+q[t.getMonth()]).replace("month_","")}},{key:"renderTextWithA",value:function(e){var t=e.match(/<a .*<\/a>/);if(t){var n=t[0].match(/href="([^"]+)"/)||t[0].match(/href='([^']+)'/),a=t[0].match(/target="([^"]+)"/)||t[0].match(/target='([^']+)'/),i=t[0].match(/>([^<]*)</),o=e.split(t[0]);return[o[0]?s.a.createElement("span",{key:"a1"},o[0]):null,s.a.createElement("a",{key:"a2",href:n?n[1]:"",target:a?a[1]:"_blank"},i?i[1]:""),o[1]?s.a.createElement("span",{key:"a3"},o[1]):null]}return e}},{key:"getSmartName",value:function(e,t,n,a){return t?a?e[t]&&e[t].common&&e[t].common.custom&&e[t].common.custom[n]&&e[t].common.custom[n].smartName||null:e[t].common.smartName:a?e&&!e.common?e.smartName:e&&e.common&&e.common.custom&&e.common.custom[n]?e.common.custom[n].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}},{key:"getSmartNameFromObj",value:function(e,t,n){return n?e&&!e.common?e.smartName:e&&e.common&&e.common.custom&&e.common.custom[t]?e.common.custom[t].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}},{key:"enableSmartName",value:function(e,t,n){n?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName={}):e.common.smartName={}}},{key:"removeSmartName",value:function(e,t,n){n?e.common&&e.common.custom&&e.common.custom[t]&&delete e.common.custom[t]:e.common.smartName=null}},{key:"updateSmartName",value:function(e,t,n,a,s,i){var o,r=k.getLanguage();if("string"===typeof e.common.smartName){var c=e.common.smartName;e.common.smartName={},e.common.smartName[r]=c}if(e.native&&e.native.byON){delete e.native.byON;var l=e.common.smartName;l&&"object"===typeof l||((l={en:l})[r]=l.en),e.common.smartName=l}if((void 0!==a&&(i?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},e.common.custom[s].smartName.smartType=a):(e.common.smartName=e.common.smartName||{},e.common.smartName.smartType=a)),void 0!==n&&(i?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},e.common.custom[s].smartName.byON=n):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=n)),void 0!==t)&&(i?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},o=e.common.custom[s].smartName):(e.common.smartName=e.common.smartName||{},o=e.common.smartName),o[r]=t,o&&(!o[r]||o[r]===e.common.name&&(!e.common.role||e.common.role.indexOf("button")>=0)))){delete o[r];var m=!0;for(var u in o)if(o.hasOwnProperty(u)){m=!1;break}m&&(i?void 0===e.common.custom[s].smartName.byON?delete e.common.custom[s]:(delete e.common.custom[s].en,delete e.common.custom[s].de,delete e.common.custom[s].ru,delete e.common.custom[s].nl,delete e.common.custom[s].pl,delete e.common.custom[s].it,delete e.common.custom[s].fr,delete e.common.custom[s].pt,delete e.common.custom[s].es):void 0!==e.common.smartName.byON?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es):e.common.smartName=null)}}},{key:"disableSmartName",value:function(e,t,n){n?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName=!1):e.common.smartName=!1}},{key:"copyToClipboard",value:function(e,t){var n=window.document.createElement("textarea");n.value=e,window.document.body.appendChild(n),n.select(),window.document.execCommand("copy"),window.document.body.removeChild(n),console.log(e),t&&t.stopPropagation(),t&&t.preventDefault()}}]),e}();X.namespace="material",X.INSTANCES="instances",X.dateFormat=["DD","MM"];var $=X,ee=n(7),te=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleFileSelect",value:function(e){var t=this,n=e.target.files[0];if(n){var a=new window.FileReader;a.onload=function(e){var n=e.target.result;try{var a=JSON.parse(n);a.native&&a.common?a.common.name!==t.props.common.name?t.props.onError(k.t("otherConfig",a.common.name)):t.props.onLoad(a.native):t.props.onError(k.t("invalidConfig"))}catch(e){t.props.onError(e.toString())}},a.readAsText(n)}else alert("Failed to open JSON File")}},{key:"download",value:function(){var e={_id:"system.adapter."+this.props.common.name+"."+this.props.instance,common:JSON.parse(JSON.stringify(this.props.common)),native:this.props.native};e.common.news&&delete e.common.news,e.common.titleLang&&delete e.common.titleLang,e.common.desc&&delete e.common.desc,t.generateFile(e._id+".json",e)}},{key:"upload",value:function(){var e=this,t=window.document.createElement("input");t.setAttribute("type","file"),t.setAttribute("id","files"),t.setAttribute("opacity",0),t.addEventListener("change",function(t){return e.handleFileSelect(t,function(){})},!1),t.click()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.props.common.icon&&s.a.createElement("img",{src:this.props.common.icon,className:this.props.classes.logo,alt:"logo"}),this.props.common.readme&&s.a.createElement(_.a,{size:"small",color:"primary","aria-label":"Help",className:this.props.classes.buttons,onClick:function(){window.open(e.props.common.readme,"_blank").focus()}},s.a.createElement(z.h,null)),s.a.createElement(_.a,{size:"small",color:"primary","aria-label":"Load config",className:this.props.classes.buttons,title:k.t("Load configuration from file"),onClick:function(){return e.upload()}},s.a.createElement(ee.d,null)),s.a.createElement(_.a,{size:"small",color:"primary","aria-label":"Save config",className:this.props.classes.buttons,title:k.t("Save configuration to file"),onClick:function(){return e.download()}},s.a.createElement(ee.c,null)))}}],[{key:"generateFile",value:function(e,t){var n=window.document.createElement("a");n.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2))),n.setAttribute("download",e),n.style.display="none",window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n)}}]),t}(a.Component),ne=Object(h.a)(function(e){return{buttons:{marginRight:5,marginTop:5,float:"right"},logo:{padding:8,width:64}}})(te),ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).handleOk=function(){n.props.onClose&&n.props.onClose()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"message-dialog-title","aria-describedby":"message-dialog-description"},s.a.createElement(T.a,{id:"message-dialog-title"},this.props.title||k.t("Message")),s.a.createElement(I.a,null,s.a.createElement(x.a,{id:"message-dialog-description"},this.props.text)),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.handleOk()},color:"primary",autoFocus:!0},k.t("Close"))))}}]),t}(s.a.Component),se=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={inAction:!1,forceUserCreate:!1,showHint:!1,toast:"",isInstanceAlive:!1},n.props.socket.getObject("system.adapter.".concat(n.props.adapterName,".").concat(n.props.instance)).then(function(e){return n.props.socket.getState("system.adapter.".concat(n.props.adapterName,".").concat(n.props.instance,".alive")).then(function(t){return n.setState({isInstanceAlive:e&&e.common&&e.common.enabled&&t&&t.val})})}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e,t,n){var a=this;return s.a.createElement(W.a,{label:k.t(e),className:this.props.classes.input,value:this.props.native[t],type:n||"text",onChange:function(e){return a.props.onChange(t,e.target.value)},margin:"normal"})}},{key:"renderCard",value:function(){return s.a.createElement(P.a,{className:this.props.classes.card},s.a.createElement(M.a,null,s.a.createElement(Q.a,{className:this.props.classes.media,image:"alexalogo.png",title:"Alexa logo"}),s.a.createElement(J.a,null,$.renderTextWithA(k.t("amazon link")))),s.a.createElement(V.a,{style:{textAlign:"center"}},s.a.createElement(O.a,{size:"small",color:"primary",style:{textAlign:"center"},onClick:function(){window.open("http://alexa.amazon.de/spa/index.html#skills/dp/B07L66BFF9/reviews","_blank").focus()}},k.t("Review"))))}},{key:"resetCerts",value:function(){var e=this;this.setState({inAction:!0}),this.props.socket.setState("iot."+this.props.instance+".certs.private",{val:"",ack:!0}).then(function(){return e.props.socket.setState("iot."+e.props.instance+".certs.id",{val:"",ack:!0})}).then(function(){return e.props.socket.setState("iot."+e.props.instance+".certs.public",{val:"",ack:!0})}).then(function(){return e.props.socket.setState("iot."+e.props.instance+".certs.certificate",{val:"",ack:!0})}).then(function(){return e.state.forceUserCreate?e.props.socket.setState("iot."+e.props.instance+".certs.forceUserCreate",{val:!0,ack:!0}):Promise.resolve()}).then(function(){return e.props.socket.getObject("system.adapter.iot."+e.props.instance)}).then(function(t){return t&&t.common&&t.common.enabled?e.props.socket.setObject("system.adapter.iot."+e.props.instance,t):Promise.resolve()}).then(function(){return e.setState({toast:k.t("Certificates will be updated after start")})}).catch(function(t){return e.props.onError(t)}).then(function(){return e.setState({inAction:!1})})}},{key:"onForceUserCreate",value:function(){this.setState({forceUserCreate:!this.state.forceUserCreate,showHint:!this.state.forceUserCreate})}},{key:"renderToast",value:function(){var e=this;return this.state.toast?s.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:function(){return e.setState({toast:""})},ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("span",{id:"message-id"},this.state.toast),action:[s.a.createElement(B.a,{key:"close","aria-label":"Close",color:"inherit",className:this.props.classes.close,onClick:function(){return e.setState({toast:""})}},s.a.createElement(z.c,null))]}):null}},{key:"renderHint",value:function(){var e=this;return this.state.showHint?s.a.createElement(ae,{text:k.t("Click now Get new connection certificates to request new temporary password"),onClose:function(){return e.setState({showHint:!1})}}):null}},{key:"renderCheckbox",value:function(e,t,n){var a=this;return s.a.createElement(Y.a,{key:t,style:Object.assign({paddingTop:5},n),className:this.props.classes.controlElement,control:s.a.createElement(H.a,{checked:this.props.native[t],onChange:function(){return a.props.onChange(t,!a.props.native[t])},color:"primary"}),label:k.t(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:this.props.classes.tab},s.a.createElement(ne,{instance:this.props.instance,common:this.props.common,native:this.props.native,onError:function(t){return e.setState({errorText:t})},onLoad:this.props.onLoad}),s.a.createElement("div",{className:this.props.classes.column+" "+this.props.classes.columnSettings},this.renderInput("ioBroker.pro Login","login"),s.a.createElement("br",null),this.renderInput("ioBroker.pro Password","pass","password"),s.a.createElement("br",null),this.renderCheckbox("Amazon Alexa","amazonAlexa",{marginTop:10}),s.a.createElement("br",null),this.renderCheckbox("Google Home","googleHome",{marginTop:10}),s.a.createElement("br",null),this.renderCheckbox("Yandex \u0410\u043b\u0438\u0441\u0430","yandexAlisa",{marginTop:10}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(O.a,{variant:"outlined",className:this.props.classes.button,disabled:this.state.inAction||!this.state.isInstanceAlive,title:this.state.isInstanceAlive?"":k.t("Instance must be enabled"),onClick:function(){return e.resetCerts()}},s.a.createElement(z.j,null),k.t("Get new connection certificates")),s.a.createElement(Y.a,{control:s.a.createElement(H.a,{checked:this.state.forceUserCreate,onChange:function(){return e.onForceUserCreate()},color:"primary"}),label:k.t("Request email with password one more time")}),s.a.createElement("p",{style:{fontWeight:"bold"}},$.renderTextWithA(k.t("help_tip")))),s.a.createElement("div",{className:this.props.classes.column+" "+this.props.classes.columnLogo},this.renderCard()),this.renderHint(),this.renderToast())}}]),t}(a.Component),ie=Object(h.a)(function(e){return{tab:{width:"100%",minHeight:"100%"},input:{minWidth:300},button:{marginRight:20},card:{maxWidth:345,textAlign:"center"},media:{height:180},column:{display:"inline-block",verticalAlign:"top",marginRight:20},columnLogo:{width:350,marginRight:0},columnSettings:{width:"calc(100% - 370px)"}}})(se),oe=n(215),re=n(217),ce=n(216),le=n(231),me=n(238),ue=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return null}}]),t}(a.Component),de=n(39),he=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={width:"auto"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.rowData,a=e.toggle,i=e.rowMetadata,o=e.renderCell,r=e.className,c=e.classNameColumn,l=this.state._width,m=null!=t?t:l,u=(r?"cp_tree-table_column ".concat(r||""):"cp_tree-table_column")+" "+(c||"");return s.a.createElement("div",{className:u,style:Object(de.a)({},pe,{width:m})},o(n,i,a))}}]),t}(a.Component),pe={boxSizing:"border-box",position:"relative",overflow:"hidden"},fe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={overscanHeight:100,height:0,topOffset:0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.row,i=t.hasVisibleChildren,o=t.index,r=t.onToggle,c=t.columns,l=t.classNameRow,m=t.classNameColumn,u=t.selected,d=t.classNameSelected,h=Object(de.a)({},n.getMetadata(),{hasVisibleChildren:i}),p=Object(de.a)({},ge,{height:n.getHeight()+"px"});return s.a.createElement("div",{className:"cp_tree-table_row "+(l||"")+(u===n.data.id?" "+d:""),style:p,"data-rindex":o,onClick:function(){return e.props.onRowClick&&e.props.onRowClick(n.data,h,r)},onDoubleClick:function(){return e.props.onRowClick&&e.props.onRowClick(n.data,h,r,!0)},"data-depth":n.depth},a.Children.toArray(c).map(function(e,t){return s.a.createElement(he,Object.assign({key:t},e.props,{classNameColumn:m,rowData:n.data,toggle:r,rowMetadata:h}))}))}}]),t}(a.Component),ge={boxSizing:"border-box",position:"relative",overflow:"hidden",width:"100%"},ve=n(102),be=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;Object(c.a)(this,e),this.parent=null,this._height=26,this._cacheHeight=26,this.data=t,this.depth=a,this._hasChildren=n,null!=i&&(this._height=i,this._cacheHeight=i),s||(this._height=0)}return Object(l.a)(e,[{key:"setHeight",value:function(e){this._updateHeight(e),e>0&&(this._cacheHeight=e)}},{key:"getHeight",value:function(){return this._height}},{key:"isVisible",value:function(){return this._height>0}},{key:"getMetadata",value:function(){return{depth:this.depth,hasChildren:this._hasChildren}}},{key:"toggle",value:function(){this._height>0?this.hide():this.show()}},{key:"hide",value:function(){this._cacheHeight=this._height,this._updateHeight(0)}},{key:"show",value:function(){this._updateHeight(this._cacheHeight)}},{key:"_updateHeight",value:function(e){var t=e-this._height;if(t)for(var n=this;n;n=n.parent)n._height+=t}}]),e}(),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ke(e,t,0,!0)},ke=function e(t,n){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=0;o<t.length;o++){var r=null!=t[o].children&&t[o].children.length>0;i.push(new be(t[o].data,r,a,s,t[o].height||n)),t[o].children&&t[o].children.length>0&&e(t[o].children,n,a+1).forEach(function(e){i.push(e)})}return i},we=function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},Se=function(){},Ee=function(){function e(t){Object(c.a)(this,e),this.parent=null,this.children=[],this._size=0,this._height=0,this.children=t;for(var n=0,a=0,s=0;s<t.length;++s){var i=t[s];n+=i.getSize(),a+=i.getHeight(),i.parent=this}this._size=n,this._height=a}return Object(l.a)(e,[{key:"getSize",value:function(){return this._size}},{key:"getHeight",value:function(){return this._height}},{key:"removeInner",value:function(e,t){this._size-=t;for(var n=0;n<this.children.length;n++){var a=this.children[n],s=a.getSize();if(e<s){var i=Math.min(t,s-e),o=a.getHeight();if(a.removeInner(e,i),this._height-=o-a.getHeight(),s===i&&(this.children.splice(n--,1),a.parent=null),0===(t-=i))break;e=0}else e-=s}if(this.getSize()-t<25&&(this.children.length>1||!(this.children[0]instanceof Ce))){var r=[];this.collapse(r),this.children=[new Ce(r)],this.children[0].parent=this}}},{key:"collapse",value:function(e){for(var t=0;t<this.children.length;t++)this.children[t].collapse(e)}},{key:"insertInner",value:function(e,t,n){this._size+=t.length,this._height+=n;for(var a=0;a<this.children.length;a++){var s=this.children[a],i=s.getSize();if(e<=i){if(s.insertInner(e,t,n),s instanceof Ce&&s.getSize()>50){for(var o=s.getSize()%25+25,r=o;r<s.getSize();){var c=new Ce(s.rows.slice(r,r+=25));s._height-=c.getHeight(),this.children.splice(++a,0,c),c.parent=this}s.rows=s.rows.slice(0,o),this.maybeSpill()}break}e-=i}}},{key:"maybeSpill",value:function(){if(!(this.children.length<=10)){var t=this;do{var n=new e(t.children.splice(t.children.length-5,5));if(t.parent){t._size-=n.getSize(),t._height-=n.getHeight();var a=t.parent;if(a&&a.children){var s=we(t,a.children);a.children.splice(s+1,0,n)}}else{var i=new e(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent&&t.parent.maybeSpill()}}},{key:"mapRange",value:function(e,t,n){for(var a=0;a<this.children.length;a++){var s=this.children[a],i=s.getSize();if(e<i){var o=Math.min(t,i-e);if(s.mapRange(e,o,n))return!0;if(0===(t-=o))break;e=0}else e-=i}}},{key:"mapAll",value:function(e){return this.mapRange(0,this._size,e)}}]),e}(),Ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(c.a)(this,e),this.parent=null,this.rows=[],this._height=0,this.rows=t;for(var n=0,a=0;a<t.length;++a)t[a].parent=this,n+=t[a].getHeight();this._height=n}return Object(l.a)(e,[{key:"getSize",value:function(){return this.rows.length}},{key:"getHeight",value:function(){return this._height}},{key:"removeInner",value:function(e,t){for(var n=e,a=e+t;n<a;++n){var s=this.rows[n];this._height-=s.getHeight(),s.parent=null}this.rows.splice(e,t)}},{key:"collapse",value:function(e){e.push.apply(e,this.rows)}},{key:"insertInner",value:function(e,t,n){this._height+=n,this.rows=this.rows.slice(0,e).concat(t).concat(this.rows.slice(e));for(var a=0;a<t.length;++a)t[a].parent=this}},{key:"mapRange",value:function(e,t,n){for(var a=e+t;e<a;++e)if(n(this.rows[e]))return!0}}]),e}(),Ne=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this,[new Ce([])]))).insert(0,n),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"insert",value:function(e,n){for(var a=0,s=0;s<n.length;++s)a+=n[s].getHeight();Object(ve.a)(Object(u.a)(t.prototype),"insertInner",this).call(this,e,n,a)}},{key:"remove",value:function(e,n){Object(ve.a)(Object(u.a)(t.prototype),"removeInner",this).call(this,e,n)}},{key:"getRow",value:function(e){if(e<0||e>=this.getSize())throw new Error("Invalid index! No row at index: "+e);for(var t=this;t instanceof Ee;)for(var n=0;;n++){var a=t.children[n],s=a.getSize();if(e<s){t=a;break}e-=s}return t.rows[e]}},{key:"getRowIndex",value:function(e){if(null==e.parent)throw new Error("Invalid row object! No parent node: (row.parent == null)");for(var t=e.parent,n=we(e,t.rows),a=t.parent;a;t=a,a=a.parent)for(var s=0;a.children[s]!==t;s++)n+=a.children[s].getSize();return n}},{key:"getIndexAtY",value:function(e){if(e<0||e>this.getHeight())throw new Error("Invalid y position! No row at y: "+e);var t=0,n=e,a=this;do{for(var s=0,i=0;i<a.children.length;i++){var o=a.children[i];if(n<(s=o.getHeight())){a=o;break}n-=s,t+=o.getSize()}if(n>=s)return t}while(!a.rows);var r=0;if(a instanceof Ce)for(;r<a.getSize();r++){var c=a.rows[r].getHeight();if(n<c)break;n-=c}return t+r}},{key:"getYAtIndex",value:function(e){var t=this.getRow(e);if(null==t.parent)throw new Error("Invalid row object! No parent node: (row.parent == null)");for(var n=0,a=t.parent,s=0;s<a.rows.length;s++){var i=a.rows[s];if(i===t)break;n+=i.getHeight()}for(var o=a.parent;o;o=(a=o).parent)for(var r=0;r<o.children.length;r++){var c=o.children[r];if(c===a)break;n+=c.getHeight()}return n}}]),t}(Ee),Oe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={overscanHeight:100,height:0,topOffset:0},n._handleScroll=function(){var e=n.props.onScroll;if(n.container){var t=n.container.scrollTop;e(t),n.setState({topOffset:t})}},n._setHeight=function(){var e=n.state.height;if(n.container){var t=n.container.offsetHeight;e!==t&&n.setState({height:t})}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this._setHeight()}},{key:"componentDidMount",value:function(){this._setHeight(),window.addEventListener("resize",this._setHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setHeight)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.root,i=n.columns,o=n.onToggle,r=n.className,c=n.classNameColumn,l=n.onRowClick,m=n.classNamePartlyVisible,u=n.classNameMover,d=n.classNameRow,h=n.selected,p=n.classNameSelected,f=n.classNameInner,g=this.state,v=g.overscanHeight,b=g.height,y=g.topOffset,k=Math.max(0,a.getHeight()-b-2*v),w=Math.min(k,Math.max(0,y-v)),S=a.getIndexAtY(w),E=Math.min(a.getHeight(),y+b+v),C=a.getIndexAtY(E),N=a.getYAtIndex(S),O=[];a.mapRange(S,C-S,function(t){if(t.isVisible()){if(null!=e&&!O[e].hasVisibleChildren){var n=O[e];null==n||n.row.depth!==t.depth-1||n.hasVisibleChildren||(O[e].hasVisibleChildren=!0)}e=O.length,O.push({row:t,hasVisibleChildren:!1})}});var A=[],j=0;return O.forEach(function(e){(void 0===e.row.data.visible||e.row.data.visible||e.row.data.hasVisibleChildren)&&A.push(s.a.createElement(fe,{row:e.row,columns:i,selected:h,onRowClick:l,classNameSelected:p,classNameColumn:c,classNameRow:d+(!e.row.data.visible&&m&&e.row.data.hasVisibleChildren?" "+m:""),hasVisibleChildren:e.hasVisibleChildren,index:j,key:j++,onToggle:function(){return o(e.row)}}))}),s.a.createElement("div",{className:r,style:Object(de.a)({},Ae,{height:this.props.height+"px"}),ref:function(e){t.container=e},onScroll:this._handleScroll},s.a.createElement("div",{style:Object(de.a)({},je,{height:a.getHeight()+"px"}),className:f||""},s.a.createElement("div",{style:Object(de.a)({},Ie,{top:N+"px"}),className:"cp_tree-table_mover "+(u||"")},A)))}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.container&&(this.container.parentNode.scrollTop=e)}}]),t}(a.Component),Ae={overflow:"auto",WebkitOverflowScrolling:"touch"},je={position:"relative",overflow:"hidden",width:"100%",minHeight:"100%"},Ie={position:"absolute",overflow:"visible",height:"100%",width:"100%",top:"0",left:"0"},xe=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e)))._handleOnToggle=function(e){var t=n.state.root,a=n._toggleRow(t,e);a.hasChange&&n.setState({root:a.root})},n._toggleRow=function(e,t){var n,a=t.depth,s=Math.min(e.getRowIndex(t)+1,e.getSize()),i=!1;return e.mapRange(s,e.getSize()-s,function(e){return null==n&&(n=!e.isVisible()),!(e.depth>=a+1)||(e.depth===a+1?(e.toggle(),i=!0):!n&&e.isVisible()&&(e.toggle(),i=!0),!1)}),{root:e,hasChange:i}};var a=e.rowHeight;return n.depth=0,n.state={root:new Ne(ye(n.props.data,a))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.children,i=t.onScroll,o=t.className,r=t.classNameRow,c=t.classNamePartlyVisible,l=t.classNameColumn,m=t.classNameMover,u=t.classNameInner,d=t.selected,h=t.classNameSelected,p=o?"cp_tree-table ".concat(o):"cp_tree-table";return s.a.createElement(Oe,{className:p,classNameSelected:h,selected:d,classNameRow:r,classNamePartlyVisible:c,classNameColumn:l,classNameMover:m,onRowClick:this.props.onRowClick,classNameInner:u,ref:function(t){e.virtualList=t},columns:a,height:n||200,root:this.state.root,onScroll:i||Se,onToggle:function(t){return e._handleOnToggle(t)}})}},{key:"scrollIntoView",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.state.root,s=e&&function(e,t){var n;return e.mapAll(function(e){if(t.data===e.data)return n=e,!0}),n}(a,e);if(s){var i=a.getRowIndex(s);if(n&&!s.isVisible()){for(var o=[],r=Math.max(i-1,0),c=s.depth;r>=0;r--){var l=a.getRow(r);if(l.depth===c-1&&(o.push(l),c=l.depth,l.isVisible()))break;if(0===l.depth)break}for(var m=a,u=!1,d=0;d<o.length;d++){var h=o[d],p=this._toggleRow(m,h);u||(u=p.hasChange)}u&&this.setState({root:m},function(){var e=a.getYAtIndex(i);t.scrollTo(e)})}else{var f=a.getYAtIndex(i);this.scrollTo(f)}}}},{key:"scrollTo",value:function(e){this.virtualList&&this.virtualList.scrollTop(e)}},{key:"_showRowsInRange",value:function(e,t){var n=this.state.root,a=null!=e?e:0,s=null!=t?t:n.getSize();if(this._isOpRangeValid(a,s)){var i=!1;n.mapRange(a,s,function(e){e.depth>0&&!e.isVisible()&&(e.show(),i=!0)}),i&&this.setState({root:n})}}},{key:"_walkOne",value:function(e,t){var n;if(e.rows)for(var a=0;a<e.rows.length;a++)e.rows[a].depth<=t?e.rows[a].isVisible()||(n=!0,e.rows[a].show()):e.rows[a].isVisible()&&(n=!0,e.rows[a].hide());else if(e.children)for(var s=0;s<e.children.length;s++){this._walkOne(e.children[s],t)&&(n=!0)}return n}},{key:"expandAll",value:function(e){void 0===e?this._showRowsInRange():(this.depth=!0===e||!1===e?e?this.depth+1:this.depth-1:e,this.depth<0&&(this.depth=0),this._walkOne(this.state.root,this.depth)&&this.setState({root:this.state.root}))}},{key:"_hideRowsInRange",value:function(e,t){var n=this.state.root,a=null!=e?e:0,s=null!=t?t:n.getSize();if(this._isOpRangeValid(a,s)){var i=!1;n.mapRange(a,s,function(e){e.depth>0&&e.isVisible()&&(e.hide(),i=!0)}),i&&this.setState({root:n})}}},{key:"collapseAll",value:function(){this._hideRowsInRange()}},{key:"_isOpRangeValid",value:function(e,t){var n=this.state.root.getSize();return e<0?(console.warn("Invalid range: from < 0"),!1):e>n?(console.warn("Invalid range: from > max size"),!1):t>n?(console.warn("Invalid range: to > max size"),!1):!(e>t)||(console.warn("Invalid range: to > from"),!1)}}]),t}(a.Component);xe.Column=ue;var Te=xe,De=n(224),Re=n(100),Le=n.n(Re),_e=n(112),Fe=n.n(_e),Be=n(113),ze=n.n(Be),Ue=n(114),Ge=n.n(Ue),We=n(115),Ye=n.n(We),He=n(67),Pe=n.n(He);function Me(e,t,n,a){if(n=n||0,void 0===a&&!(a=e.length-1))return e[0]===t;var s=Math.floor((n+a)/2);return t===e[s]?e[s]:a-1===n?e[n]===t||e[a]===t:t>e[s]?Me(e,t,s,a):t<e[s]?Me(e,t,n,s):void 0}function Ve(e,t,n,a,s){var i=!1;return s||(s={},t.id&&(s.id=t.id.toLowerCase()),t.name&&(s.name=t.name.toLowerCase()),t.role&&(s.role=t.role.toLowerCase()),t.room&&(s.room=a[t.room]&&a[t.room].common&&a[t.room].common.members||[]),t.func&&(s.func=a[t.func]&&a[t.func].common&&a[t.func].common.members||[])),e.data.id&&(t.expert||(i="system"===e.data.id||e.data.id.startsWith("system.")||e.data.obj&&e.data.obj.common&&e.data.obj.common.expert),!i&&s.id&&(void 0===e.data.fID&&(e.data.fID=e.data.id.toLowerCase()),i=-1===e.data.fID.indexOf(s.id)),!i&&s.name&&(void 0===e.data.fName&&(e.data.fName=e.data.obj&&e.data.obj.common&&Je(e.data.obj.common.name,n)||"",e.data.fName=e.data.name.toLowerCase()),i=-1===e.data.fName.indexOf(s.name)),!i&&t.role&&(i=!(e.data&&e.data.obj&&e.data.obj.common&&e.data.obj.common.role&&e.data.obj.common.role.startsWith(s.role))),!i&&s.room&&(i=!s.room.find(function(t){return t===e.data.id||e.data.id.startsWith(t+".")})),!i&&s.func&&(i=!s.func.find(function(t){return t===e.data.id||e.data.id.startsWith(t+".")}))),e.data.visible=!i,e.data.hasVisibleChildren=!1,e.children&&e.children.forEach(function(i){Ve(i,t,n,a,s)&&(e.data.hasVisibleChildren=!0)}),e.data.visible||e.data.hasVisibleChildren}function Je(e,t){return e&&"object"===typeof e?e[t]||e.en:e||""}function Qe(e){if(!e)return"";var t=e.getFullYear(),n=e.getMonth()+1;return t+=n<10?"-0"+n:"-"+n,t+=(n=e.getDate())<10?"-0"+n:"-"+n,t+=(n=e.getHours())<10?" 0"+n:" "+n,t+=(n=e.getMinutes())<10?":0"+n:":"+n,t+=(n=e.getSeconds())<10?":0"+n:":"+n,t+=(n=e.getMilliseconds())<10?".00"+n:n<100?".0"+n:"."+n}function Ze(e,t,n,a){var s,i=function(e){var t;if(e&&e.common&&e.common.states&&(t=e.common.states),t)if("string"===typeof t&&"{"===t[0])try{t=JSON.parse(t)}catch(i){console.error("Cannot parse states: "+t),t=null}else if("string"===typeof t){var n=t.split(";");t={};for(var a=0;a<n.length;a++){var s=n[a].split(":");t[s[0]]=s[1]}}return t}(n),o=n.common,r=t.val;return o&&o.role&&o.role.match(/^value\.time|^date/)&&(r=r?new Date(r).toString():r),i&&void 0!==i[r]&&(r=i[r]+"("+r+")"),void 0===r?r="&nbsp;":(t.ts<9466812e5&&(t.ts*=1e3),t.lc<9466812e5&&(t.lc*=1e3),o&&o.unit&&(r+=" "+o.unit),s=a.value+": "+t.val,s+="\n"+a.ack+": "+t.ack,s+="\n"+a.ts+": "+(t.ts?Qe(new Date(t.ts)):""),s+="\n"+a.lc+": "+(t.lc?Qe(new Date(t.lc)):""),s+="\n"+a.from+": "+(t.from||""),t.user&&(s+="\n"+a.user+": "+(t.user||"")),s+="\n"+a.quality+": "+function(e){if(!e)return"ok";var t=4294901760&e,n="";return 64&e&&(n+="device"),128&e&&(n+="sensor"),1&e&&(n+=" bad"),2&e&&(n+=" not connected"),4&e&&(n+=" error"),n+(t?"|0x"+(t>>16).toString(16).toUpperCase():"")+" [0x"+e.toString(16).toUpperCase()+"]"}(t.q||0)),null!==r&&""!==r||(r="&nbsp;"),"string"===typeof r&&"&nbsp;"!==r&&(r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),{valText:r,valFull:s,style:{color:t.ack?t.q?"orange":"":"#c00000"}}}function Ke(e,t,n){n=n||".";var a="",s="",i="system.adapter."+t;if(t&&e[i]&&e[i].common&&e[i].common.icon)if(e[i].common.icon.match(/^data:image\//))a=e[i].common.icon;else{if(-1===e[i].common.icon.indexOf("."))return null;a=n+"/adapter/"+e[i].common.name+"/"+e[i].common.icon}else{var o=e[t];if(o&&o.common)if(o.common.icon)if(o.common.icon.match(/^data:image\//))a=o.common.icon;else{if(-1===o.common.icon.indexOf("."))return null;var r;"instance"===o.type?a=n+"/adapter/"+o.common.name+"/"+o.common.icon:t&&t.match(/^system\.adapter\./)?(r=t.split(".",3),"/"===o.common.icon[0]?r[2]+=o.common.icon:r[2]+="/"+o.common.icon,a=n+"/adapter/"+r[2]):(r=t.split(".",2),"/"===o.common.icon[0]?r[0]+=o.common.icon:r[0]+="/"+o.common.icon,a=n+"/adapter/"+r[0])}else"device"===o.type?(a=Ge.a,s="device"):"channel"===o.type?(a=ze.a,s="channel"):"state"===o.type&&(a=Fe.a,s="state")}return a?{src:a,alt:s}:{src:Ye.a,alt:""}}var qe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={loaded:!1,selected:(n.props.selected||"").replace(/["']/g,""),filter:{id:"",name:"",room:"",func:"",role:"",expert:!1},depth:0},n.selectedFound=!n.state.selected,n.copyContentImg=Pe.a,n.treeTableRef=s.a.createRef(),n.mainRef=s.a.createRef(),n.root=null,n.lang=k.getLanguage(),n.props.connection.getObjects(function(e){n.props.connection.getStates(function(t){n.states=t,n.objects=e;var a=function(e,t){t=t||{};var n=Object.keys(e);n.sort(function(e,t){return e===t?0:(e=e.replace(/\./g,"!!!"))>(t=t.replace(/\./g,"!!!"))?1:-1});for(var a=[],s="",i=0,o={data:{name:"",id:""},children:[]},r={funcEnums:[],roomEnums:[],roles:[],ids:[],objects:e},c=o,l=function(l){var m=n[l],u=m.split(".");if(e[m]&&(e[m].common&&e[m].common.role?-1===r.roles.indexOf(e[m].common.role)&&r.roles.push(e[m].common.role):m.startsWith("enum.rooms.")?r.roomEnums.push(m):m.startsWith("enum.functions.")&&r.funcEnums.push(m)),t.statesOnly&&(!e[m]||"state"!==e[m].type))return"continue";r.ids.push(m);var d=void 0;do{if(d=!1,s&&m.substring(0,s.length+1)!==s+"."){for(var h=0;a[h]===u[h];)h++;if(h>0){var p=a.length;for(a=a.splice(0,h),i=h,s=a.join(".");p>h;)c=c.data.parent,p--}else c=o,a=[],s="",i=0;d=!0}else{if(u.length-i>1)for(var f=s,g=function(t){if(f+=(f?".":"")+u[t],Me(r.ids,f))c=c.children.find(function(e){return e.data.name===u[t]});else{var n={data:{name:u[t],parent:c,id:f,obj:e[f]}};c.children=c.children||[],c.children.push(n),c=n,r.ids.push(f)}},v=i;v<u.length-1;v++)g(v);var b={data:{name:u[u.length-1],obj:e[m],parent:c,id:m},children:[]};c.children=c.children||[],c.children.push(b),c=b,i=u.length,a=u,s=m}}while(d)},m=0;m<n.length;m++)l(m);return r.roomEnums.sort(),r.funcEnums.sort(),r.roles.sort(),{info:r,root:o}}(n.objects,n.props),s=a.info,i=a.root;n.root=i,n.info=s,Ve(n.root,n.state.filter,n.lang,n.objects),n.setState({loaded:!0}),n.state.selected&&n.onSelect(n.state.selected)},!0)},!0),n.texts={value:k.t("tooltip_value"),ack:k.t("tooltip_ack"),ts:k.t("tooltip_ts"),lc:k.t("tooltip_lc"),from:k.t("tooltip_from"),user:k.t("tooltip_user"),quality:k.t("tooltip_quality")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onSelect",value:function(e,t){e!==this.state.selected&&this.setState({selected:e});var n=e?$.getObjectName(this.objects,e,null,{language:this.lang}):"";this.props.onSelect&&this.props.onSelect(e,n,t)}},{key:"onDoubleClick",value:function(e,t,n){t.hasChildren?n():e.obj&&"state"===e.obj.type&&this.onSelect(e.obj._id,!0)}},{key:"onCopy",value:function(e,t){var n=window.document.createElement("textarea");n.value=t,window.document.body.appendChild(n),n.select(),window.document.execCommand("copy"),window.document.body.removeChild(n),console.log(t),e.stopPropagation(),e.preventDefault()}},{key:"installCopyButtons",value:function(){var e=this;if(this.mainRef.current)for(var t=this.mainRef.current.getElementsByClassName("add-copy-button"),n=0;n<t.length;n++)t[n].__installed||(t[n].addEventListener("mouseenter",function(t){var n=t.target.getElementsByClassName(e.props.classes.cellCopy);if(!n||!n.length){var a=document.createElement("div"),s=document.createElement("img");s.src=e.copyContentImg,s.width=16,s.height=16,s.color=Le.a.A200,a.appendChild(s),a.className=e.props.classes.cellCopy,a.addEventListener("click",function(t){return e.onCopy(t,t.target.parentNode.dataset.index)},!1),a.addEventListener("mousedown",function(t){-1===t.target.parentNode.className.indexOf(e.props.classes.cellCopyPressed)&&(t.target.parentNode.className+=" "+e.props.classes.cellCopyPressed)},!1),a.addEventListener("mouseup",function(t){for(var n=t.target.parentNode.className.split(" "),a=n.indexOf(e.props.classes.cellCopyPressed);-1!==a;)n.splice(a),a=n.indexOf(e.props.classes.cellCopyPressed);t.target.parentNode.className=n.join(" ")},!1),t.target.appendChild(a)}},!1),t[n].addEventListener("mouseleave",function(t){var n=t.target.getElementsByClassName(e.props.classes.cellCopy);n&&n.length&&t.target.removeChild(n[0])},!1),t[n].__installed=!0)}},{key:"componentDidUpdate",value:function(){if(this.installCopyButtons(),!this.selectedFound&&this.props.selected&&this.treeTableRef.current){var e=function e(t,n,a,s,i){if(t.data.id===n)return t;if(a||(s=(a=n.split("."))[i=0]),t.children||t.data.id===n){for(var o,r=0;r<t.children.length;r++){var c=t.children[r].data.id;if(c===s){o=t.children[r];break}if(!(c<s)&&c>s)break}return o?e(o,n,a,s+"."+a[i+1],i+1):null}return null}(this.root,this.props.selected);this.treeTableRef.current.scrollIntoView(e),this.selectedFound=!0}}},{key:"renderIndexColumn",value:function(e,t,n){var a=this.state.selected===e.id,i=!!this.objects[e.id]&&"state"===this.objects[e.id].type,o=25*t.depth+"px",r="calc(100% - ".concat(o,")");return s.a.createElement("div",{style:{paddingLeft:o,width:r},"data-index":e.id,className:this.props.classes.cellWrapper+" add-copy-button"},s.a.createElement("span",{className:(a?this.props.classes.selected:"")+" "+this.props.classes.toggleButtonWrapper},t.hasChildren?s.a.createElement("span",{onClick:n},t.hasVisibleChildren?s.a.createElement(ee.f,null):s.a.createElement(ee.e,null)):i?s.a.createElement(ee.b,null):s.a.createElement(ee.a,null)),s.a.createElement("span",{className:this.props.classes.cellWrapperElement,style:{fontWeight:t.hasChildren?"bold":"normal"}},e.name))}},{key:"renderColumnName",value:function(e,t,n){var a=Ke(this.objects,e.id,this.props.prefix);return s.a.createElement("span",{className:this.props.classes.cellWrapper},s.a.createElement("img",{src:a.src,className:this.props.classes.icon,alt:a.alt}),e.obj&&$.getObjectName(this.objects,e.obj._id,null,{language:this.lang}))}},{key:"renderColumnRole",value:function(e,t,n){return e.obj?s.a.createElement("span",{className:this.props.classes.cellWrapper},e.obj.common&&e.obj.common.role||""):null}},{key:"renderColumnRoom",value:function(e,t,n){if(!e.obj)return null;var a=function e(t,n,a,s,i){if(!n)return[];i=i||[];for(var o=0;o<t.roomEnums.length;o++){var r=t.objects[t.roomEnums[o]]&&t.objects[t.roomEnums[o]].common,c=Je(r.name,a);r.members&&-1!==r.members.indexOf(n)&&-1===i.indexOf(c)&&(s?i.push({name:c,origin:n}):i.push(c))}var l=n.split(".");return l.pop(),n=l.join("."),t.objects[n]&&e(t,n,a,s,i),i}(this.info,e.obj._id,this.lang)||[];return s.a.createElement("span",{className:this.props.classes.cellWrapper},a.join(", "))}},{key:"renderColumnFunc",value:function(e,t,n){if(!e.obj)return null;var a=function e(t,n,a,s,i){if(!n)return[];i=i||[];for(var o=0;o<t.funcEnums.length;o++){var r=t.objects[t.funcEnums[o]]&&t.objects[t.funcEnums[o]].common,c=Je(r.name,a);r&&r.members&&-1!==r.members.indexOf(n)&&-1===i.indexOf(c)&&(s?i.push({name:c,origin:n}):i.push(c))}var l=n.split(".");return l.pop(),n=l.join("."),t.objects[n]&&e(t,n,a,s,i),i}(this.info,e.obj._id,this.lang)||[];return s.a.createElement("span",{className:this.props.classes.cellWrapper},a.join(", "))}},{key:"renderColumnValue",value:function(e,t,n){if(!e.obj||!e.obj._id||this.states||!this.states[e.obj._id])return null;var a=e.obj._id,i=Ze(0,this.states[a],e.obj,this.texts);return s.a.createElement("span",{className:this.props.classes.cellWrapper,style:i.style,title:i.valFull},i.valText)}},{key:"onFilter",value:function(e,t){var n=this;if(this.state.filter[e]!==t){var a=JSON.parse(JSON.stringify(this.state.filter));a[e]=t,this.filterTimer&&clearTimeout(this.filterTimer),this.filterTimer=setTimeout(function(){Ve(n.root,a,n.lang,n.objects),n.forceUpdate()},400),this.setState({filter:a})}}},{key:"getFilterInput",value:function(e){var t=this;return s.a.createElement(ce.a,{className:this.props.classes.headerCellInput,style:{marginTop:0,marginBottom:0},margin:"dense"},s.a.createElement(oe.a,{classes:{underline:"no-underline"},id:e,placeholder:k.t("filter_"+e),value:this.state.filter[e],onChange:function(n){return t.onFilter(e,n.target.value)},autoComplete:"off"}))}},{key:"getFilterSelect",value:function(e,t){var n=this;return s.a.createElement(le.a,{className:this.props.classes.headerCellInput+" no-underline",value:this.state.filter[e],onChange:function(t){return n.onFilter(e,t.target.value)},inputProps:{name:e,id:e},displayEmpty:!0},s.a.createElement(me.a,{key:"empty",value:""},s.a.createElement("span",{className:this.props.classes.selectNone},k.t("filter_"+e))),t.map(function(e){var t,a,i;return"object"===typeof e?(t=e.value,a=e.name,i=Ke(n.objects,t,n.props.prefix)):(t=e,a=e),s.a.createElement(me.a,{key:t,value:t},i&&s.a.createElement("img",{className:n.props.classes.selectIcon,src:i.src,alt:a}),a)}))}},{key:"getFilterSelectRole",value:function(){return this.getFilterSelect("role",this.info.roles)}},{key:"getFilterSelectRoom",value:function(){var e=this,t=this.info.roomEnums.map(function(t){return{name:Je(e.objects[t]&&e.objects[t].common&&e.objects[t].common.name||t.split(".").pop()),value:t}});return this.getFilterSelect("room",t)}},{key:"getFilterSelectFunction",value:function(){var e=this,t=this.info.funcEnums.map(function(t){return{name:Je(e.objects[t]&&e.objects[t].common&&e.objects[t].common.name||t.split(".").pop()),value:t}});return this.getFilterSelect("func",t)}},{key:"onExpandAll",value:function(){this.treeTableRef.current.expandAll()}},{key:"onCollapseAll",value:function(){this.treeTableRef.current.collapseAll()}},{key:"onExpandVisible",value:function(){var e=this;if(this.state.depth<9){var t=this.state.depth+1;this.setState({depth:t},function(){e.treeTableRef.current.expandAll(t)})}}},{key:"onCollapseVisible",value:function(){var e=this;if(this.state.depth>0){var t=this.state.depth-1;this.setState({depth:t},function(){e.treeTableRef.current.expandAll(t)})}}},{key:"getToolbar",value:function(){var e=this;return s.a.createElement(L.a,{variant:"dense",className:this.props.classes.toolbar,key:"toolbar"},s.a.createElement(B.a,{key:"expert",variant:"contained",className:this.props.classes.toolbarButtons,color:this.state.filter.expert?"secondary":"primary",onClick:function(){return e.onFilter("expert",!e.state.filter.expert)}},s.a.createElement(z.i,null)),s.a.createElement(B.a,{key:"expandAll",variant:"contained",className:this.props.classes.toolbarButtons,onClick:function(){return e.onExpandAll()}},s.a.createElement(ee.f,null)),s.a.createElement(B.a,{key:"collapseAll",variant:"contained",className:this.props.classes.toolbarButtons,onClick:function(){return e.onCollapseAll()}},s.a.createElement(ee.e,null)),s.a.createElement(B.a,{key:"expandVisible",variant:"contained",className:this.props.classes.toolbarButtons+" "+this.props.classes.visibleButtons,onClick:function(){return e.onExpandVisible()}},s.a.createElement(ee.f,null),this.state.depth?s.a.createElement("div",{className:this.props.classes.depth},this.state.depth):null),s.a.createElement(B.a,{key:"collapseVisible",variant:"contained",className:this.props.classes.toolbarButtons+" "+this.props.classes.visibleButtons,onClick:function(){return e.onCollapseVisible()}},s.a.createElement(ee.e,null),this.state.depth?s.a.createElement("div",{className:this.props.classes.depth},this.state.depth):null))}},{key:"render",value:function(){var e=this;if(this.state.loaded){var t=this.props.classes,n=[120,180,180,120],a="calc(100% - ".concat(300+n[0]+n[1]+n[2]+n[3],"px)");return s.a.createElement("div",{className:t.mainDiv,ref:this.mainRef},this.getToolbar(),s.a.createElement("div",{key:"header",className:t.header},s.a.createElement("div",{className:t.headerCell,style:{width:300}},this.getFilterInput("id")),s.a.createElement("div",{className:t.headerCell,style:{width:a}},this.getFilterInput("name")),s.a.createElement("div",{className:t.headerCell,style:{width:n[0]}},this.getFilterSelectRole()),s.a.createElement("div",{className:t.headerCell,style:{width:n[1]}},this.getFilterSelectRoom()),s.a.createElement("div",{className:t.headerCell,style:{width:n[2]}},this.getFilterSelectFunction()),s.a.createElement("div",{className:t.headerCell,style:{width:n[3]}},k.t("Value"))),s.a.createElement("div",{className:t.tableDiv},s.a.createElement(Te,{ref:this.treeTableRef,key:"table",data:this.root.children,height:"100%",selected:this.state.selected,classNameSelected:t.selected,classNamePartlyVisible:t.partlyVisible,className:t.treeTable,classNameRow:t.treeTableRow,onRowClick:function(t,n,a,s){return s?e.onDoubleClick(t,n,a):e.onSelect(t.id)}},s.a.createElement(Te.Column,{grow:0,renderCell:this.renderIndexColumn.bind(this),className:t.cellDivId,width:300}),s.a.createElement(Te.Column,{grow:1,renderCell:this.renderColumnName.bind(this),className:t.cellDiv,width:a}),s.a.createElement(Te.Column,{grow:1,renderCell:this.renderColumnRole.bind(this),className:t.cellDiv,width:n[0]}),s.a.createElement(Te.Column,{grow:1,renderCell:this.renderColumnRoom.bind(this),className:t.cellDiv,width:n[1]}),s.a.createElement(Te.Column,{grow:1,renderCell:this.renderColumnFunc.bind(this),className:t.cellDiv,width:n[2]}),s.a.createElement(Te.Column,{grow:1,renderCell:this.renderColumnValue.bind(this),className:t.cellDiv,width:n[3]}))))}return s.a.createElement(De.a,null)}}]),t}(s.a.Component),Xe=Object(h.a)(function(e){return{toolbar:{minHeight:38},toolbarButtons:{padding:4,marginLeft:4},treeTable:{background:"#ffffff",borderTop:"1px solid #999",borderBottom:"1px solid #999"},treeTableRow:{boxShadow:"inset 0 1px 0 #eeeeee",display:"block"},mainDiv:{width:"100%",height:"100%",overflow:"hidden"},tableDiv:{width:"100%",height:"calc(100% - 34px - 38px)",overflow:"auto"},cellDiv:{display:"inline-block",fontSize:12,height:26,verticalAlign:"top"},cellDivId:{display:"inline-block",height:26,verticalAlign:"top"},cellWrapper:{display:"flex",alignItems:"center",fontWeight:300,fontSize:13,height:"100%",width:"100%",lineHeight:"1em"},selectNone:{opacity:.5},selectIcon:{width:16,height:16,paddingRight:5},cellWrapperElement:{flexGrow:1,cursor:"default"},toggleButtonWrapper:{width:16,flexGrow:0,color:"#008fff",cursor:"pointer",padding:1,borderRadius:3},partlyVisible:{opacity:.3},selectSpan:{background:"#efefef",border:"1px solid #e5e5e5",padding:2,borderRadius:3},selected:{background:"#008fff",color:"white"},icon:{width:20,height:20,paddingTop:2,paddingRight:2},header:{width:"100%"},headerCell:{display:"inline-block"},headerCellInput:{width:"calc(100% - 5px)"},visibleButtons:{color:"#2196f3",opacity:.7},depth:{position:"absolute",top:8,left:10,color:"black",fontSize:14},cellCopy:{position:"absolute",top:3,right:10,width:16,height:16,background:"lightblue",cursor:"grab",borderRadius:2,padding:2},cellCopyPressed:{cursor:"grabbing",background:Le.a.A700}}})(qe),$e=n(116),et=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={selected:n.props.selected||"",name:""},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleCancel",value:function(){this.props.onClose()}},{key:"handleOk",value:function(){this.props.onOk(this.state.selected,this.state.name),this.props.onClose()}},{key:"render",value:function(){var e,t=this;return e=this.state.name||this.state.selected?[s.a.createElement("span",{key:"selected"},k.t("Selected")," "),s.a.createElement("span",{key:"id",className:this.props.classes.headerID},(this.state.name||this.state.selected)+(this.state.name?" ["+this.state.selected+"]":""))]:this.props.title||k.t("Please select object ID..."),s.a.createElement(A.a,{disableBackdropClick:!0,maxWidth:!1,disableEscapeKeyDown:!0,classes:{paper:this.props.classes.dialog},fullWidth:!0,open:!0,"aria-labelledby":"selectid-dialog-title"},s.a.createElement(T.a,{id:"selectid-dialog-title"},e),s.a.createElement(I.a,{className:this.props.classes.content},s.a.createElement(Xe,{prefix:this.props.prefix,statesOnly:this.props.statesOnly,style:{width:"100%",height:"100%"},connection:this.props.connection,selected:this.state.selected,name:this.state.name,onSelect:function(e,n,a){e!==t.state.selected&&t.setState({selected:e,name:n}),a&&t.handleOk()}})),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return t.handleOk()},disabled:!this.state.selected,color:"primary"},this.props.ok||k.t("Ok")),s.a.createElement(O.a,{onClick:function(){return t.handleCancel()},color:"primary"},this.props.cancel||k.t("Cancel"))))}}]),t}(s.a.Component),tt=Object($e.withStyles)(function(e){return{headerID:{fontWeight:"bold",fontStyle:"italic"},dialog:{height:"95%"},content:{height:"100%",overflow:"hidden"}}})(et),nt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showSelectId:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e,t,n){var a=this;return s.a.createElement(W.a,{label:k.t(e),className:this.props.classes.input+" "+this.props.classes.controlElement,value:this.props.native[t],type:n||"text",onChange:function(e){return a.props.onChange(t,e.target.value)},margin:"normal"})}},{key:"renderSelect",value:function(e,t,n,a){var i=this;return s.a.createElement(ce.a,{className:this.props.classes.input+" "+this.props.classes.controlElement,style:Object.assign({paddingTop:5},a)},s.a.createElement(le.a,{value:this.props.native[t]||"_",onChange:function(e){return i.props.onChange(t,"_"===e.target.value?"":e.target.value)},input:s.a.createElement(oe.a,{name:t,id:t+"-helper"})},n.map(function(e){return s.a.createElement(me.a,{key:"key-"+e.value,value:e.value||"_"},k.t(e.title))})),s.a.createElement(re.a,null,k.t(e)))}},{key:"renderCheckbox",value:function(e,t,n){var a=this;return s.a.createElement(Y.a,{key:t,style:Object.assign({paddingTop:5},n),className:this.props.classes.controlElement,control:s.a.createElement(H.a,{checked:this.props.native[t],onChange:function(){return a.props.onChange(t,!a.props.native[t])},color:"primary"}),label:k.t(e)})}},{key:"getSelectIdDialog",value:function(e){var t=this;return this.state.showSelectId?s.a.createElement(tt,{key:"dialogSelectID2",prefix:"../..",connection:this.props.socket,selected:this.props.native[e],statesOnly:!0,onClose:function(){return t.setState({showSelectId:!1})},onOk:function(n){t.setState({showSelectId:!1}),t.props.onChange(e,n)}}):null}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:this.props.classes.tab},this.renderInput("Cloud URL","cloudUrl"),s.a.createElement("br",null),this.renderSelect("Language","language",[{title:"default",value:""},{title:"english",value:"en"},{title:"Deutsch",value:"de"},{title:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",value:"ru"}],{marginTop:10}),s.a.createElement("br",null),this.renderCheckbox("Place function in names first","functionFirst",{marginTop:10}),s.a.createElement("br",null),this.renderInput("Concatenate words with","concatWord"),s.a.createElement("br",null),this.renderInput("Replace in names","replaces"),s.a.createElement("br",null),s.a.createElement("div",{className:this.props.classes.controlElement,style:{marginTop:15}},this.renderInput("OFF level for switches in %","deviceOffLevel"),s.a.createElement(re.a,null,k.t("(Set to 0 if behavior not desired)"))),s.a.createElement("div",{className:this.props.classes.controlElement},this.renderInput("Write response to","responseOID"),s.a.createElement(_.a,{size:"small",color:"secondary",onClick:function(){return e.setState({showSelectId:!0})},"aria-label":"Add",style:{marginLeft:5,marginTop:10}},s.a.createElement(z.a,null)),s.a.createElement("br",null)),s.a.createElement("div",{className:this.props.classes.controlElement},this.renderCheckbox("Personal settings (only pro)","noCommon"),s.a.createElement(re.a,null,$.renderTextWithA(k.t("help_tip"))),s.a.createElement("br",null)),this.renderCheckbox("Debug outputs","debug"),this.getSelectIdDialog("responseOID"))}}]),t}(a.Component),at=Object(h.a)(function(e){return{tab:{width:"100%",minHeight:"100%"},input:{marginTop:0,minWidth:400},button:{marginRight:20},card:{maxWidth:345,textAlign:"center"},media:{height:180},column:{display:"inline-block",verticalAlign:"top",marginRight:20},columnLogo:{width:350,marginRight:0},columnSettings:{width:"calc(100% - 370px)"},controlElement:{marginBottom:5}}})(nt),st=n(31),it=n(237),ot=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={running:!1,toast:"",text2commandList:[],addValue:"",isInstanceAlive:!1},n.onKeyChangedBound=n.onKeyChanged.bind(Object(st.a)(n)),n.props.socket.getAdapterInstances("text2command").then(function(e){return n.setState({text2commandList:e.map(function(e){return e._id.replace("system.adapter.text2command.","")})})}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.socket.subscribeState("iot."+this.props.instance+".certs.urlKey",this.onKeyChangedBound),this.props.socket.getObject("system.adapter.".concat(this.props.adapterName,".").concat(this.props.instance)).then(function(t){return e.props.socket.getState("system.adapter.".concat(e.props.adapterName,".").concat(e.props.instance,".alive")).then(function(n){return e.setState({isInstanceAlive:t&&t.common&&t.common.enabled&&n&&n.val})})})}},{key:"componentWillUnmount",value:function(){this.props.socket.unsubscribeState("iot."+this.props.instance+".certs.urlKey",this.onKeyChangedBound)}},{key:"onKeyChanged",value:function(e,t){this.setState({key:t.val})}},{key:"renderInput",value:function(e,t,n){var a=this;return s.a.createElement(W.a,{label:k.t(e),className:this.props.classes.input+" "+this.props.classes.controlElement,value:this.props.native[t],type:n||"text",onChange:function(e){return a.props.onChange(t,e.target.value)},margin:"normal"})}},{key:"reissueUrlKey",value:function(){var e=this;return this.setState({running:!0}),this.props.socket.setState("iot."+this.props.instance+".certs.urlKey",{val:"",ack:!0}).then(function(){return e.props.socket.getObject("system.adapter.iot."+e.props.instance)}).then(function(t){if(t&&t.common&&t.common.enabled)return e.props.socket.setObject("system.adapter.iot."+e.props.instance,t);e.setState({running:!1,toast:k.t("Key will be updated after start")})}).then(function(){return e.setState({running:!1,toast:k.t("Certificates will be updated after initiated restart")})}).catch(function(t){e.setState({running:!1}),e.props.showError(t)})}},{key:"renderToast",value:function(){var e=this;return this.state.toast?s.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:function(){return e.setState({toast:""})},ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("span",{id:"message-id"},this.state.toast),action:[s.a.createElement(B.a,{key:"close","aria-label":"Close",color:"inherit",className:this.props.classes.close,onClick:function(){return e.setState({toast:""})}},s.a.createElement(z.c,null))]}):null}},{key:"onChipsDelete",value:function(e,t){var n=(this.props.native[e]||"").split(/[,;\s]/).filter(function(e){return!!e}),a=n.indexOf(t);-1!==a&&(n.splice(a,1),this.props.onChange(e,n.join(" ")))}},{key:"onChipsAdd",value:function(e){var t=this,n=(this.props.native[e]||"").split(/[,;\s]/).filter(function(e){return!!e});-1===n.indexOf(this.state.addValue)&&(n.push(this.state.addValue),this.setState({addValue:""},function(){return t.props.onChange(e,n.join(" "))}))}},{key:"renderChips",value:function(e,t){var n=this;return s.a.createElement("div",{className:this.props.classes.chipsDiv},s.a.createElement(re.a,null,$.renderTextWithA(k.t(e))),s.a.createElement(W.a,{label:k.t("Add service"),style:{width:150},type:"text",value:this.state.addValue,onKeyUp:function(e){return 13===e.keyCode&&n.onChipsAdd(t)},onChange:function(e){return n.setState({addValue:e.target.value.trim()})},margin:"normal"}),s.a.createElement(_.a,{size:"small",color:"secondary",disabled:!this.state.addValue,onClick:function(){return n.onChipsAdd(t)},style:{marginLeft:5,marginTop:-15}},s.a.createElement(z.a,null)),s.a.createElement("div",{className:this.props.classes.chips},(this.props.native[t]||"").split(/[,;\s]/).filter(function(e){return!!e}).map(function(e){return s.a.createElement(it.a,{key:e,size:"small",label:e,onDelete:function(){return n.onChipsDelete(t,e)},className:n.props.classes.chip})})))}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:this.props.classes.tab},s.a.createElement(O.a,{variant:"outlined",disabled:!this.state.isInstanceAlive||this.state.running,color:"primary",title:this.state.isInstanceAlive?"":k.t("Instance must be enabled"),onClick:function(){return e.reissueUrlKey()}},s.a.createElement(z.j,null),k.t("Get new service URL key")),s.a.createElement("br",null),this.renderInput("IFTTT key","iftttKey"),s.a.createElement("br",null),s.a.createElement(W.a,{style:{marginTop:10},label:k.t("Use following link for IFTTT"),className:this.props.classes.input+" "+this.props.classes.controlElement+" "+this.props.classes.fullSize,value:"https://service.iobroker.in/v1/iotService?service=ifttt&key=".concat(this.state.key,"&user=").concat(encodeURIComponent(this.props.native.login)),type:"text",readOnly:!0,margin:"normal"}),s.a.createElement(_.a,{size:"small",style:{marginTop:10,marginLeft:5},onClick:function(){return $.copyToClipboard("https://service.iobroker.in/v1/iotService?service=ifttt&key=".concat(e.state.key,"&user=").concat(encodeURIComponent(e.props.native.login)))}},s.a.createElement("img",{src:Pe.a,alt:"Copy"})),s.a.createElement("br",null),s.a.createElement("br",null),this.renderChips("White list for services","allowedServices"),s.a.createElement("br",null),s.a.createElement(W.a,{style:{marginTop:10},label:k.t("Use following link for custom service"),className:this.props.classes.input+" "+this.props.classes.controlElement+" "+this.props.classes.fullSize,value:"https://service.iobroker.in/v1/iotService?service=custom_<SERVICE_NAME>&key=".concat(this.state.key,"&user=").concat(encodeURIComponent(this.props.native.login),"&data=<SOME_TEXT>"),type:"text",readOnly:!0,margin:"normal"}),s.a.createElement(_.a,{size:"small",style:{marginTop:10,marginLeft:5},onClick:function(){return $.copyToClipboard("https://service.iobroker.in/v1/iotService?service=custom_<SERVICE_NAME>&key=".concat(e.state.key,"&user=").concat(encodeURIComponent(e.props.native.login),"&data=<SOME_TEXT>"))}},s.a.createElement("img",{src:Pe.a,alt:"Copy"})),s.a.createElement("br",null),s.a.createElement(ce.a,{className:this.props.classes.input+" "+this.props.classes.controlElement,style:{paddingTop:20}},s.a.createElement(le.a,{value:this.props.native.text2command||"_",onChange:function(t){return e.props.onChange("text2command","_"===t.target.value?"":t.target.value)},input:s.a.createElement(oe.a,{name:"text2command",id:"text2command-helper"})},s.a.createElement(me.a,{key:"key-default",value:"_"},k.t("disabled")),this.state.text2commandList.map(function(e){return s.a.createElement(me.a,{key:"key-"+e,value:e},"text2command.",e)})),s.a.createElement(re.a,null,k.t("Use text2command instance"))),this.renderToast())}}]),t}(a.Component),rt=Object(h.a)(function(e){return{tab:{width:"100%",minHeight:"100%"},input:{marginTop:0,minWidth:400},fullSize:{width:"calc(100% - 64px)"},button:{marginRight:20},card:{maxWidth:345,textAlign:"center"},media:{height:180},column:{display:"inline-block",verticalAlign:"top",marginRight:20},columnLogo:{width:350,marginRight:0},columnSettings:{width:"calc(100% - 370px)"},controlElement:{marginBottom:5},chips:{border:"1px solid #DDD",borderRadius:1,width:"calc(100% - 250px)",display:"inline-block",padding:5,minHeight:32,marginLeft:10,marginTop:20},chip:{marginRight:5}}})(ot),ct=n(225),lt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={inAction:!1,editId:"",editedSmartName:"",funcs:[],rooms:[],changed:[],message:"",loading:!0},n.onEnumUpdateBound=n.onEnumUpdate.bind(Object(st.a)(n)),n.props.socket.getEnums().then(function(e){var t=[],a=[];return Object.keys(e).forEach(function(n){n.match(/^enum\.rooms\./)?a.push(e[n]):n.match(/^enum\.functions\./)&&t.push(e[n])}),n.setState({funcs:t,rooms:a,loading:!1}),n.props.socket.subscribeObject("enum.*",n.onEnumUpdateBound)}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.props.socket.unsubscribeObject("enum.*",this.onEnumUpdateBound).then(function(){})}},{key:"onEnumUpdate",value:function(e,t){this.removeChanged(e),this.updateObjInState(e,t)}},{key:"informInstance",value:function(e){this.props.socket.sendTo(this.props.adapterName+"."+this.props.instance,"update",e)}},{key:"addChanged",value:function(e){var t=JSON.parse(JSON.stringify(this.state.changed));-1===t.indexOf(e)&&(t.push(e),this.setState({changed:t}))}},{key:"removeChanged",value:function(e){var t=JSON.parse(JSON.stringify(this.state.changed)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.setState({changed:t}))}},{key:"updateObjInState",value:function(e,t){if(e.match(/^enum\.functions\./)){for(var n=this.state.funcs.length-1;n>=0;n--)if(this.state.funcs[n]._id===e){var a=JSON.parse(JSON.stringify(this.state.funcs));t?a[n]=t:a.splice(n,1),this.setState({funcs:a});break}}else if(e.match(/^enum\.rooms\./))for(var s=this.state.rooms.length-1;s>=0;s--)if(this.state.rooms[s]._id===e){var i=JSON.parse(JSON.stringify(this.state.rooms));t?i[s]=t:i.splice(s,1),this.setState({rooms:i});break}}},{key:"onToggleEnum",value:function(e){var t=this,n=this.state.funcs.find(function(t){return t._id===e})||this.state.rooms.find(function(t){return t._id===e}),a=$.getSmartNameFromObj(n);n=JSON.parse(JSON.stringify(n)),!1!==a?$.disableSmartName(n,this.props.adapterName+"."+this.props.instance,this.props.native.noCommon):$.removeSmartName(n,this.props.adapterName+"."+this.props.instance,this.props.native.noCommon),this.addChanged(e),this.props.socket.setObject(e,n).then(function(){t.updateObjInState(e,n),t.informInstance(e),setTimeout(function(){return t.removeChanged(e)},500)})}},{key:"onEdit",value:function(e){var t=this.state.funcs.find(function(t){return t._id===e})||this.state.rooms.find(function(t){return t._id===e}),n=$.getSmartNameFromObj(t,this.props.adapterName+"."+this.props.instance,this.props.native.noCommon);"object"===typeof n&&n&&(n=n[k.getLanguage()]||n.en),n=n||$.getObjectNameFromObj(t,null,{language:k.getLanguage()}),this.setState({editId:e,editedSmartName:n})}},{key:"renderEnum",value:function(e){var t=this,n=$.getSmartNameFromObj(e,this.props.adapterName+"."+this.props.instance,this.props.native.noCommon);n&&"object"===typeof n&&(n=n[k.getLanguage()]||n.en||"");var a=$.getObjectNameFromObj(e);return s.a.createElement("div",{key:e._id,className:this.props.classes.enumLine,style:{background:-1!==this.state.changed.indexOf(e._id)?"#e7000040":"inherit"}},s.a.createElement("span",{className:this.props.classes.enumLineName,style:{opacity:!1===n?.5:1}},n||null,n?s.a.createElement("span",{className:this.props.classes.enumLineSubName}," (",a,")"):a),s.a.createElement("span",{className:this.props.classes.enumLineId,style:{opacity:!1===n?.5:1}},e._id),s.a.createElement(ct.a,{className:this.props.classes.enumLineEnabled,checked:!1!==n,onChange:function(){return t.onToggleEnum(e._id)}}),s.a.createElement(B.a,{"aria-label":"Edit",className:this.props.classes.enumLineEdit,onClick:function(){return t.onEdit(e._id)}},s.a.createElement(z.f,{fontSize:"small"})))}},{key:"renderEnums",value:function(e){var t=this;return this.state[e].map(function(e){return t.renderEnum(e)})}},{key:"renderMessage",value:function(){var e=this;return this.state.message?s.a.createElement(ae,{text:this.state.message,onClose:function(){return e.setState({message:""})}}):null}},{key:"changeSmartName",value:function(){var e=this;if((this.state.editId.startsWith("enum.functions.")?this.state.funcs:this.state.rooms).find(function(t){return e.state.editId!==t._id&&(e.state.editedSmartName===$.getObjectNameFromObj(t,null,{language:k.getLanguage()})||e.state.editedSmartName===$.getSmartNameFromObj(t,e.props.adapterName+"."+e.props.instance,e.props.native.noCommon))}))this.setState({message:k.t("Duplicate name")});else{this.addChanged(this.state.editId),setTimeout(function(){return e.removeChanged(e.state.editId)},500);var t,n=this.state.editId;this.setState({editId:""}),this.props.socket.getObject(n).then(function(a){return $.updateSmartName(a,e.state.editedSmartName,void 0,void 0,e.props.adapterName+"."+e.props.instance,e.props.native.noCommon),t=a,e.props.socket.setObject(n,a)}).then(function(){e.updateObjInState(n,t),e.informInstance(n)}).catch(function(t){return e.props.onError(t)})}}},{key:"renderEditDialog",value:function(){var e=this;if(this.state.editId){var t=this.state.funcs.find(function(t){return t._id===e.state.editId})||this.state.rooms.find(function(t){return t._id===e.state.editId});return s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"message-dialog-title","aria-describedby":"message-dialog-description"},s.a.createElement(T.a,{id:"message-dialog-title"},this.props.title||k.t("Smart name for %s",$.getObjectNameFromObj(t,null,{language:k.getLanguage()}))),s.a.createElement(I.a,null,s.a.createElement(W.a,{style:{width:"100%"},label:k.t("Smart name"),onChange:function(t){return e.setState({editedSmartName:t.target.value})},value:this.state.editedSmartName,helperText:k.t("You can enter several names divided by comma"),margin:"normal"})),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.changeSmartName()},color:"primary",autoFocus:!0},k.t("Ok")),s.a.createElement(O.a,{onClick:function(){return e.setState({editId:""})}},k.t("Cancel"))))}return null}},{key:"render",value:function(){return this.state.loading?s.a.createElement(De.a,null):s.a.createElement("form",{className:this.props.classes.tab},s.a.createElement("div",{className:this.props.classes.column},s.a.createElement("h5",{className:this.props.classes.columnHeader},k.t("Rooms")),s.a.createElement("div",{className:this.props.classes.columnDiv},this.renderEnums("rooms"))),s.a.createElement("div",{className:this.props.classes.column},s.a.createElement("h5",{className:this.props.classes.columnHeader},k.t("Functions")),s.a.createElement("div",{className:this.props.classes.columnDiv},this.renderEnums("funcs"))),this.renderMessage(),this.renderEditDialog())}}]),t}(a.Component),mt=Object(h.a)(function(e){return{tab:{width:"100%",height:"100%"},column:{display:"inline-block",verticalAlign:"top",marginRight:20,height:"100%",overflow:"hidden",width:"calc(50% - 20px)",minWidth:300,maxWidth:450},columnDiv:{height:"calc(100% - 60px)",overflow:"auto",minWidth:300},enumLineEnabled:{position:"absolute",right:0,top:0},enumLineEdit:{position:"absolute",top:5,right:50},enumLineName:{},enumLineSubName:{fontStyle:"italic"},enumLine:{height:48,width:"100%",position:"relative"},enumLineId:{display:"block",fontStyle:"italic",fontSize:12},columnHeader:{background:e.palette.primary.light,padding:10,color:e.palette.primary.contrastText}}})(lt),ut=n(226),dt={turnOn:{color:"#aba613",icon:ee.m,desc:"Turn on"},turnOff:{color:"#444",icon:ee.m,desc:"Turn off"},setTargetTemperature:{color:"#00c6ff",icon:ee.o,desc:"Set target temperature"},incrementTargetTemperature:{color:"#aba613",icon:ee.j,desc:"Increment target temperature"},decrementTargetTemperature:{color:"#444",icon:ee.i,desc:"Decrement target temperature"},setPercentage:{color:"#00c6ff",icon:ee.l,desc:"Set percentage"},incrementPercentage:{color:"#aba613",icon:ee.j,desc:"Increment percentage"},decrementPercentage:{color:"#444",icon:ee.i,desc:"Decrement percentage"},setColor:{color:"#00c6ff",icon:ee.k,desc:"Set color"},setColorTemperature:{color:"#00c6ff",icon:ee.g,desc:"Set color temperature"},incrementColorTemperature:{color:"#aba613",icon:ee.j,desc:"Increment color temperature"},decrementColorTemperature:{color:"#444",icon:ee.i,desc:"Decrement color temperature"},getTargetTemperature:{color:"#00bc00",icon:ee.n,desc:"Get target temperature"},getTemperatureReading:{color:"#00bc00",icon:ee.n,desc:"Get actual temperature"},setLockState:{color:"#00c6ff",icon:ee.h,desc:"Set lock state"},getLockState:{color:"#00bc00",icon:ee.h,desc:"Read lock state"}},ht=["LIGHT","SWITCH","THERMOSTAT","ACTIVITY_TRIGGER","SCENE_TRIGGER","SMARTPLUG","SMARTLOCK","CAMERA"],pt=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(m.a)(this,Object(u.a)(t).call(this,e)),dt.translated||(Object.keys(dt).forEach(function(e){return dt[e].desc=k.t(dt[e].desc)}),dt.translated=!0),n.state={editedSmartName:"",editId:"",editObjectName:"",deleteId:"",showSelectId:!1,showConfirmation:"",changed:[],devices:[],message:"",filter:"",loading:!0,browse:!1,expanded:[],lastChanged:""},n.timerChanged=null,n.browseTimer=null,n.browseTimerCount=0,n.editedSmartName="",n.waitForUpdateID=null,n.onReadyUpdateBound=n.onReadyUpdate.bind(Object(st.a)(n)),n.onResultUpdateBound=n.onResultUpdate.bind(Object(st.a)(n)),n.props.socket.getObject("system.adapter.".concat(n.props.adapterName,".").concat(n.props.instance)).then(function(e){n.props.socket.getState("system.adapter.".concat(n.props.adapterName,".").concat(n.props.instance,".alive")).then(function(t){e&&e.common&&(e.common.enabled||t&&t.val)?n.browse():n.setState({message:k.t("Instance must be enabled"),loading:!1,devices:[]})})}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"browse",value:function(e){var t=this;Date.now()-this.lastBrowse<500||(this.lastBrowse=Date.now(),e?this.setState({loading:!0,browse:!0}):this.setState({browse:!0}),console.log("Send BROWSE!"),this.browseTimer=setTimeout(function(){console.log("Browse timeout!"),t.browseTimer=null,t.browseTimerCount++,t.browseTimerCount<5?t.browse(e):t.setState({message:k.t("Cannot read devices!")})},1e4),this.props.socket.sendTo(this.props.adapterName+"."+this.props.instance,"browse",null,function(e){t.browseTimer&&clearTimeout(t.browseTimer),t.browseTimerCount=0,t.browseTimer=null,t.waitForUpdateID&&(t.onEdit(t.waitForUpdateID,e)||t.setState({message:k.t("Device %s was not added",t.waitForUpdateID)}),t.waitForUpdateID=null),console.log("BROWSE received."),t.setState({devices:e,loading:!1,changed:[],browse:!1})}))}},{key:"onReadyUpdate",value:function(e,t){var n=this;console.log("Update "+e+" "+t.val+"/"+t.ack),t&&!0===t.ack&&!0===t.val&&(this.devTimer&&clearTimeout(this.devTimer),this.devTimer=setTimeout(function(){n.devTimer=null,n.browse()},300))}},{key:"onResultUpdate",value:function(e,t){t&&!0===t.ack&&t.val&&this.setState({message:t.val})}},{key:"componentWillMount",value:function(){this.props.socket.subscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updates"),this.onReadyUpdateBound),this.props.socket.subscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updatesResult"),this.onResultUpdateBound)}},{key:"componentWillUnmount",value:function(){this.props.socket.unsubscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updates"),this.onReadyUpdateBound),this.props.socket.unsubscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updatesResult"),this.onResultUpdateBound),this.timerChanged&&(clearTimeout(this.timerChanged),this.timerChanged=null)}},{key:"informInstance",value:function(e){this.props.socket.sendTo(this.props.adapterName+"."+this.props.instance,"update",e)}},{key:"addChanged",value:function(e,t){var n=JSON.parse(JSON.stringify(this.state.changed));-1===n.indexOf(e)?(n.push(e),this.setState({changed:n},function(){return t&&t()})):t&&t()}},{key:"removeChanged",value:function(e){var t=JSON.parse(JSON.stringify(this.state.changed)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.setState({changed:t}))}},{key:"onEdit",value:function(e,t){var n=this,a=(t=t||this.state.devices).find(function(t){return t.additionalApplianceDetails.id===e});return!!a&&(this.props.socket.getObject(e).then(function(t){var s=a.additionalApplianceDetails.friendlyNames?a.additionalApplianceDetails.friendlyNames:a.friendlyName;"object"===typeof s&&s&&(s=s[k.getLanguage()]||s.en),n.editedSmartName=s,n.setState({editId:e,editedSmartName:s,editObjectName:$.getObjectNameFromObj(t,null,{language:k.getLanguage()})})}),!0)}},{key:"onAskDelete",value:function(e){this.setState({deleteId:e,showConfirmation:!0})}},{key:"onDelete",value:function(){var e=this,t=this.state.deleteId;this.addChanged(t,function(){e.props.socket.getObject(t).then(function(n){return $.disableSmartName(n,e.props.adapterName+"."+e.props.instance,e.props.native.noCommon),e.props.socket.setObject(t,n)}).then(function(){e.setState({deleteId:"",showConfirmation:!1,lastChanged:t}),e.timerChanged&&clearTimeout(e.timerChanged),e.timerChanged=setTimeout(function(){e.setState({lastChanged:""}),e.timerChanged=null},3e4),e.informInstance(t)}).catch(function(t){return e.props.onError(t)})})}},{key:"renderActions",value:function(e){var t=this,n=[];if(!e.actions)return console.log("Something went wrong"),null;e.actions.sort(function(e,t){return e===t?0:"turnOn"===e?-1:"turnOn"===t?1:"turnOff"===e?-1:"turnOff"===t?1:0}),Object.keys(dt).forEach(function(a){if(-1!==e.actions.indexOf(a)){var i=dt[a].icon;n.push(s.a.createElement("span",{key:a,title:dt[a].desc},s.a.createElement(i,{className:t.props.classes.actionIcon,style:{color:dt[a].color}})))}});for(var a=0;a<e.actions.length;a++)dt[e.actions[a]]||n.push(s.a.createElement("span",{key:e.actions[a]},e.actions[a]));return n}},{key:"onExpand",value:function(e){var t=JSON.parse(JSON.stringify(this.state.expanded)),n=t.indexOf(this.state.devices[e].friendlyName);-1===n?t.push(this.state.devices[e].friendlyName):t.splice(n,1),this.setState({expanded:t})}},{key:"renderSelectByOn",value:function(e,t,n,a){var i=this;if(!1!==a){for(var o=[s.a.createElement(me.a,{key:"_",value:""},s.a.createElement("em",null,k.t("Default"))),s.a.createElement(me.a,{key:"last",value:"stored"},k.t("last value"))],r=5;r<=100;r+=5)o.push(s.a.createElement(me.a,{key:r.toString(),value:r.toString()},r,"%"));return s.a.createElement(ce.a,{className:this.props.classes.devSubLineByOn},s.a.createElement(le.a,{className:this.props.classes.devSubLineByOnSelect,value:(a||"").toString(),onChange:function(e){return i.onParamsChange(n,e.target.value)}},o),s.a.createElement(re.a,{className:this.props.classes.devSubLineTypeTitle},k.t("by ON")))}return null}},{key:"onParamsChange",value:function(e,t,n){var a=this;this.addChanged(e,function(){a.props.socket.getObject(e).then(function(s){return $.updateSmartName(s,void 0,t,n,a.props.adapterName+"."+a.props.instance,a.props.native.noCommon),a.state.lastChanged!==e&&(a.setState({lastChanged:e}),a.timerChanged&&clearTimeout(a.timerChanged),a.timerChanged=setTimeout(function(){a.setState({lastChanged:""}),a.timerChanged=null},3e4)),a.props.socket.setObject(e,s)}).then(function(){a.informInstance(e)}).catch(function(e){return a.props.onError(e)})})}},{key:"renderSelectType",value:function(e,t,n,a){var i=this;if(!1!==a){for(var o=[s.a.createElement(me.a,{key:"_",value:"_"},s.a.createElement("em",null,k.t("no type")))],r=0;r<ht.length;r++)o.push(s.a.createElement(me.a,{key:ht[r],value:ht[r]},s.a.createElement("em",null,k.t(ht[r]))));return s.a.createElement(ce.a,null,s.a.createElement(le.a,{value:a||"_",onChange:function(e){return i.onParamsChange(n,void 0,e.target.value)}},o),s.a.createElement(re.a,{className:this.props.classes.devSubLineTypeTitle},k.t("Types")))}return""}},{key:"renderChannels",value:function(e,t){var n=this,a=[],i=this.props.classes;if(e.additionalApplianceDetails.group){var o=e.additionalApplianceDetails.channels,r=e.additionalApplianceDetails.names,c=e.additionalApplianceDetails.byONs,l=e.additionalApplianceDetails.smartTypes,m=0;for(var u in o)if(o.hasOwnProperty(u))for(var d=function(d){var h=o[u][d].id,p=-1!==n.state.changed.indexOf(h)?"#e7000040":"#e9e9e9";n.state.lastChanged===h&&"#e9e9e9"===p&&(p="#b4ffbe"),a.push(s.a.createElement("div",{key:"sub"+h,className:i.devSubLine,style:m%2?{}:{background:p}},s.a.createElement("div",{className:n.props.classes.devLineActions+" "+n.props.classes.channelLineActions},n.renderActions(o[u][d])),s.a.createElement("div",{className:i.devSubLineName,title:h},r[h]||h,h!==r[h]?s.a.createElement("span",{className:i.devSubSubLineName},h):null),n.renderSelectType(e,t,h,l[h]),n.renderSelectByOn(e,t,h,c[h]),s.a.createElement(B.a,{"aria-label":"Delete",className:n.props.classes.devSubLineDelete,onClick:function(){return n.onAskDelete(h,t)}},s.a.createElement(z.d,{fontSize:"middle"})))),m++},h=0;h<o[u].length;h++)d(h)}else{var p=e.additionalApplianceDetails.id,f=e.additionalApplianceDetails.name||p,g=-1!==this.state.changed.indexOf(p)?"#e7000040":"#e9e9e9";this.state.lastChanged===p&&"#e9e9e9"===g&&(g="#b4ffbe"),a.push(s.a.createElement("div",{key:"sub"+p,className:i.devSubLine,style:{background:g}},s.a.createElement("div",{className:this.props.classes.devLineActions+" "+this.props.classes.channelLineActions,style:{width:80}},this.renderActions(e)),s.a.createElement("div",{className:i.devSubLineName,title:p||""},f),this.renderSelectType(e,t,p,e.additionalApplianceDetails.smartType),this.renderSelectByOn(e,t,p,e.additionalApplianceDetails.byON)))}return a}},{key:"renderDevice",value:function(e,t){var n,a=this,i=e.friendlyName;n=!e.additionalApplianceDetails.group&&e.additionalApplianceDetails.nameModified?i:s.a.createElement("span",{className:this.props.classes.devModified,title:k.t("modified")},i);var o=0;for(var r in e.additionalApplianceDetails.channels)e.additionalApplianceDetails.channels.hasOwnProperty(r)&&(o+=e.additionalApplianceDetails.channels[r].length);o=o||1;var c=-1!==this.state.expanded.indexOf(i),l=e.additionalApplianceDetails.id,m=t%2?"#f1f1f1":"inherit",u=-1!==this.state.changed.indexOf(l);if(u?m="#e7000040":l===this.state.lastChanged&&(m="#b4ffbe"),e.additionalApplianceDetails.group&&!u&&l!==this.state.lastChanged){var d=e.additionalApplianceDetails.channels;for(var h in d)if(d.hasOwnProperty(h))for(var p=0;p<d[h].length;p++){var f=d[h][p].id;-1!==this.state.changed.indexOf(f)?m="#e7000040":this.state.lastChanged===f&&(m="#b4ffbe")}}return[s.a.createElement("div",{key:"line"+t,className:this.props.classes.devLine,style:{background:m}},s.a.createElement("div",{className:this.props.classes.devLineNumber},t+1,"."),s.a.createElement(B.a,{className:this.props.classes.devLineExpand,onClick:function(){return a.onExpand(t)}},o>1?s.a.createElement(ut.a,{badgeContent:o,color:"primary"},c?s.a.createElement(z.e,null):s.a.createElement(z.g,null)):c?s.a.createElement(z.e,null):s.a.createElement(z.g,null)),s.a.createElement("div",{className:this.props.classes.devLineNameBlock,style:{display:"inline-block",position:"relative"}},s.a.createElement("span",{className:this.props.classes.devLineName},n),s.a.createElement("span",{className:this.props.classes.devLineDescription},e.friendlyDescription),u?s.a.createElement(De.a,{className:this.props.classes.devLineProgress,size:20}):null),s.a.createElement("span",{className:this.props.classes.devLineActions},this.renderActions(e)),e.additionalApplianceDetails.group?null:s.a.createElement(B.a,{"aria-label":"Edit",className:this.props.classes.devLineEdit,onClick:function(){return a.onEdit(l)}},s.a.createElement(z.f,{fontSize:"middle"})),e.additionalApplianceDetails.group?null:s.a.createElement(B.a,{"aria-label":"Delete",className:this.props.classes.devLineDelete,onClick:function(){return a.onAskDelete(l)}},s.a.createElement(z.d,{fontSize:"middle"}))),c?this.renderChannels(e,t):null]}},{key:"renderMessage",value:function(){var e=this;return this.state.message?s.a.createElement(ae,{text:this.state.message,onClose:function(){return e.setState({message:""})}}):null}},{key:"changeSmartName",value:function(e){var t=this;e&&e.preventDefault(),this.addChanged(this.state.editId,function(){var e=t.state.editId;t.setState({editId:"",editObjectName:"",lastChanged:e}),t.timerChanged&&clearTimeout(t.timerChanged),t.timerChanged=setTimeout(function(){t.setState({lastChanged:""}),t.timerChanged=null},3e4),t.props.socket.getObject(e).then(function(n){return $.updateSmartName(n,t.editedSmartName,void 0,void 0,t.props.adapterName+"."+t.props.instance,t.props.native.noCommon),t.props.socket.setObject(e,n)}).then(function(){t.informInstance(e)}).catch(function(e){return t.props.onError(e)})})}},{key:"renderEditDialog",value:function(){var e=this;return this.state.editId?s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"message-dialog-title","aria-describedby":"message-dialog-description"},s.a.createElement(T.a,{id:"message-dialog-title"},this.props.title||k.t("Smart name for %s",this.state.editObjectName)),s.a.createElement(I.a,null,s.a.createElement("p",null,s.a.createElement("span",null,"ID:")," ",s.a.createElement("span",{className:this.props.classes.editedId},this.state.editId)),s.a.createElement(W.a,{style:{width:"100%"},label:k.t("Smart name"),onKeyDown:function(t){return 13===t.keyCode&&e.changeSmartName(t)},onChange:function(t){return e.editedSmartName=t.target.value},defaultValue:this.state.editedSmartName,helperText:k.t("You can enter several names divided by comma"),margin:"normal"})),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.changeSmartName()},color:"primary",autoFocus:!0},k.t("Ok")),s.a.createElement(O.a,{onClick:function(){e.editedSmartName=null,e.setState({editId:"",editedSmartName:""})}},k.t("Cancel")))):null}},{key:"renderConfirmDialog",value:function(){var e=this;return this.state.showConfirmation?s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description"},s.a.createElement(T.a,{id:"confirmation-dialog-title"},this.props.title||k.t("Device will be disabled.")),s.a.createElement(I.a,null,s.a.createElement("p",null,k.t("Are you sure?"))),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.onDelete()},color:"primary",autoFocus:!0},k.t("Ok")),s.a.createElement(O.a,{onClick:function(){return e.setState({showConfirmation:""})}},k.t("Cancel")))):null}},{key:"getSelectIdDialog",value:function(){var e=this;return this.state.showSelectId?s.a.createElement(tt,{key:"dialogSelectID1",prefix:"../..",connection:this.props.socket,selected:"",statesOnly:!0,onClose:function(){return e.setState({showSelectId:!1})},onOk:function(t,n){e.setState({showSelectId:!1}),e.props.socket.getObject(t).then(function(t){if(t){var n=$.getObjectNameFromObj(t,null,{language:k.getLanguage()});$.updateSmartName(t,(n||k.t("Device name")).replace(/[-_.]+/g," "),void 0,void 0,e.props.adapterName+"."+e.props.instance,e.props.native.noCommon),e.addChanged(t._id),e.waitForUpdateID=t._id,e.state.lastChanged!==t._id&&(e.setState({lastChanged:t._id}),e.timerChanged&&clearTimeout(e.timerChanged),e.timerChanged=setTimeout(function(){e.setState({lastChanged:""}),e.timerChanged=null},3e4)),e.props.socket.setObject(t._id,t).then(function(){return e.informInstance(t._id)}).catch(function(t){return e.setState({message:t})})}else e.setState({message:k.t("Invalid ID")})})}}):null}},{key:"renderDevices",value:function(){for(var e=this.state.filter.toLowerCase(),t=[],n=0;n<this.state.devices.length;n++)this.state.filter&&-1===this.state.devices[n].friendlyName.toLowerCase().indexOf(e)||t.push(this.renderDevice(this.state.devices[n],n));return s.a.createElement("div",{key:"listDevices",className:this.props.classes.columnDiv},t)}},{key:"render",value:function(){var e=this;return this.state.loading?s.a.createElement(De.a,{key:"alexaProgress"}):s.a.createElement("form",{key:"alexa",className:this.props.classes.tab},s.a.createElement(_.a,{size:"small",color:"secondary","aria-label":"Add",className:this.props.classes.button,onClick:function(){return e.setState({showSelectId:!0})}},s.a.createElement(z.a,null)),s.a.createElement(_.a,{size:"small",color:"primary","aria-label":"Refresh",className:this.props.classes.button,onClick:function(){return e.browse(!0)},disabled:this.state.browse},this.state.browse?s.a.createElement(De.a,{size:20}):s.a.createElement(z.j,null)),s.a.createElement(oe.a,{placeholder:k.t("Filter"),className:this.state.filter,value:this.state.filter,onChange:function(t){return e.setState({filter:t.target.value})}}),s.a.createElement(B.a,{"aria-label":"Clear",className:this.props.classes.button,onClick:function(){return e.setState({filter:""})}},s.a.createElement(z.b,{fontSize:"large"})),this.renderDevices(),this.renderMessage(),this.renderEditDialog(),this.getSelectIdDialog(),this.renderConfirmDialog())}}]),t}(a.Component),ft=Object(h.a)(function(e){return{tab:{width:"100%",height:"100%"},column:{display:"inline-block",verticalAlign:"top",marginRight:20,height:"100%",overflow:"hidden"},columnDiv:{height:"calc(100% - 40px)",overflow:"auto",minWidth:300},filter:{margin:0},button:{marginRight:20},devLineExpand:{marginRight:10},devLineEnabled:{position:"absolute",right:0,top:0},devLineEdit:{position:"absolute",top:5,right:50},devLineDelete:{position:"absolute",top:5,right:0},devLineName:{},devLineNumber:{display:"inline-block",verticalAlign:"middle",width:15},editedId:{fontStyle:"italic"},enumLineSubName:{fontStyle:"italic"},devLine:{height:48,width:"100%",position:"relative"},devLineDescription:{display:"block",fontStyle:"italic",fontSize:12},devLineActions:{fontStyle:"italic",fontSize:12,paddingLeft:50,display:"inline-block"},devLineProgress:{position:"absolute",top:0,left:0},channelLineActions:{width:80},devLineNameBlock:{display:"inline-block",width:"calc(100% - 350px)"},columnHeader:{background:e.palette.primary.light,padding:10,color:e.palette.primary.contrastText},devModified:{fontStyle:"italic"},actionIcon:{width:16},devSubLine:{position:"relative",height:48},devSubLineName:{marginLeft:5,marginTop:14,display:"inline-block",fontSize:13,width:"calc(100% - 400px)"},devSubSubLineName:{fontSize:8,fontStyle:"italic",display:"block"},devSubLineByOn:{marginLeft:5},devSubLineDelete:{position:"absolute",top:12,right:12,padding:0},devSubLineEdit:{position:"absolute",top:12,right:62,padding:0},devSubLineTypeTitle:{marginTop:0}}})(pt),gt={OnOff:{color:"#aba613",icon:ee.m,desc:"On/Off"},Brightness:{color:"#00c6ff",icon:ee.g,desc:"Dimmer"},RGB:{color:"#ff7ee3",icon:ee.g,desc:"Set color"},setTargetTemperature:{color:"#00c6ff",icon:ee.o,desc:"Set target temperature"},incrementTargetTemperature:{color:"#aba613",icon:ee.j,desc:"Increment target temperature"},decrementTargetTemperature:{color:"#444",icon:ee.i,desc:"Decrement target temperature"},incrementPercentage:{color:"#aba613",icon:ee.j,desc:"Increment percentage"},decrementPercentage:{color:"#444",icon:ee.i,desc:"Decrement percentage"},setColor:{color:"#00c6ff",icon:ee.k,desc:"Set color"},incrementColorTemperature:{color:"#aba613",icon:ee.j,desc:"Increment color temperature"},decrementColorTemperature:{color:"#444",icon:ee.i,desc:"Decrement color temperature"},getTargetTemperature:{color:"#00bc00",icon:ee.n,desc:"Get target temperature"},getTemperatureReading:{color:"#00bc00",icon:ee.n,desc:"Get actual temperature"},setLockState:{color:"#00c6ff",icon:ee.h,desc:"Set lock state"},getLockState:{color:"#00bc00",icon:ee.h,desc:"Read lock state"}},vt=["LIGHT","SWITCH","THERMOSTAT","ACTIVITY_TRIGGER","SCENE_TRIGGER","SMARTPLUG","SMARTLOCK","CAMERA"],bt=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(m.a)(this,Object(u.a)(t).call(this,e)),gt.translated||(Object.keys(gt).forEach(function(e){return gt[e].desc=k.t(gt[e].desc)}),gt.translated=!0),n.state={editedSmartName:"",editId:"",editObjectName:"",deleteId:"",showSelectId:!1,showConfirmation:"",changed:[],devices:[],message:"",filter:"",loading:!0,browse:!1,expanded:[],lastChanged:""},n.timerChanged=null,n.browseTimer=null,n.browseTimerCount=0,n.editedSmartName="",n.waitForUpdateID=null,n.onReadyUpdateBound=n.onReadyUpdate.bind(Object(st.a)(n)),n.onResultUpdateBound=n.onResultUpdate.bind(Object(st.a)(n)),n.props.socket.getObject("system.adapter.".concat(n.props.adapterName,".").concat(n.props.instance)).then(function(e){n.props.socket.getState("system.adapter.".concat(n.props.adapterName,".").concat(n.props.instance,".alive")).then(function(t){e&&e.common&&(e.common.enabled||t&&t.val)?n.browse():n.setState({message:k.t("Instance must be enabled"),loading:!1,devices:[]})})}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"browse",value:function(e){var t=this;Date.now()-this.lastBrowse<500||(this.lastBrowse=Date.now(),e?this.setState({loading:!0,browse:!0}):this.setState({browse:!0}),console.log("Send BROWSE!"),this.browseTimer=setTimeout(function(){console.log("Browse timeout!"),t.browseTimer=null,t.browseTimerCount++,t.browseTimerCount<5?t.browse(e):t.setState({message:k.t("Cannot read devices!")})},1e4),this.props.socket.sendTo(this.props.adapterName+"."+this.props.instance,"browseAlisa",null,function(e){t.browseTimer&&clearTimeout(t.browseTimer),t.browseTimerCount=0,t.browseTimer=null,t.waitForUpdateID&&(t.onEdit(t.waitForUpdateID,e)||t.setState({message:k.t("Device %s was not added",t.waitForUpdateID)}),t.waitForUpdateID=null),console.log("BROWSE received."),t.setState({devices:e,loading:!1,changed:[],browse:!1})}))}},{key:"onReadyUpdate",value:function(e,t){var n=this;console.log("Update "+e+" "+t.val+"/"+t.ack),t&&!0===t.ack&&!0===t.val&&(this.devTimer&&clearTimeout(this.devTimer),this.devTimer=setTimeout(function(){n.devTimer=null,n.browse()},300))}},{key:"onResultUpdate",value:function(e,t){t&&!0===t.ack&&t.val&&this.setState({message:t.val})}},{key:"componentWillMount",value:function(){this.props.socket.subscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updates"),this.onReadyUpdateBound),this.props.socket.subscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updatesResult"),this.onResultUpdateBound)}},{key:"componentWillUnmount",value:function(){this.props.socket.unsubscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updates"),this.onReadyUpdateBound),this.props.socket.unsubscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".smart.updatesResult"),this.onResultUpdateBound),this.timerChanged&&(clearTimeout(this.timerChanged),this.timerChanged=null)}},{key:"informInstance",value:function(e){this.props.socket.sendTo(this.props.adapterName+"."+this.props.instance,"update",e)}},{key:"addChanged",value:function(e,t){var n=JSON.parse(JSON.stringify(this.state.changed));-1===n.indexOf(e)?(n.push(e),this.setState({changed:n},function(){return t&&t()})):t&&t()}},{key:"removeChanged",value:function(e){var t=JSON.parse(JSON.stringify(this.state.changed)),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.setState({changed:t}))}},{key:"onEdit",value:function(e,t){var n=this,a=(t=t||this.state.devices).find(function(t){return t.iobID===e});return!!a&&(this.props.socket.getObject(e).then(function(t){var s=a.name;"object"===typeof s&&s&&(s=s[k.getLanguage()]||s.en),n.editedSmartName=s,n.setState({editId:e,editedSmartName:s,editObjectName:s})}),!0)}},{key:"onAskDelete",value:function(e){this.setState({deleteId:e,showConfirmation:!0})}},{key:"onDelete",value:function(){var e=this,t=this.state.deleteId;this.addChanged(t,function(){e.props.socket.getObject(t).then(function(n){return $.disableSmartName(n,e.props.adapterName+"."+e.props.instance,e.props.native.noCommon),e.props.socket.setObject(t,n)}).then(function(){e.setState({deleteId:"",showConfirmation:!1,lastChanged:t}),e.timerChanged&&clearTimeout(e.timerChanged),e.timerChanged=setTimeout(function(){e.setState({lastChanged:""}),e.timerChanged=null},3e4),e.informInstance(t)}).catch(function(t){return e.props.onError(t)})})}},{key:"renderActions",value:function(e){var t=this,n=[];if(!e.actions)return console.log("Something went wrong"),null;e.actions.sort(function(e,t){return e===t?0:"OnOff"===e?-1:"OnOff"===t?1:0}),Object.keys(gt).forEach(function(a){if(-1!==e.actions.indexOf(a)){var i=gt[a].icon;n.push(s.a.createElement("span",{key:a,title:gt[a].desc},s.a.createElement(i,{className:t.props.classes.actionIcon,style:{color:gt[a].color}})))}});for(var a=0;a<e.actions.length;a++)gt[e.actions[a]]||n.push(s.a.createElement("span",{key:e.actions[a]},e.actions[a]));return n}},{key:"onExpand",value:function(e){var t=JSON.parse(JSON.stringify(this.state.expanded)),n=t.indexOf(this.state.devices[e].name);-1===n?t.push(this.state.devices[e].name):t.splice(n,1),this.setState({expanded:t})}},{key:"onParamsChange",value:function(e,t,n){var a=this;this.addChanged(e,function(){a.props.socket.getObject(e).then(function(s){return $.updateSmartName(s,void 0,t,n,a.props.adapterName+"."+a.props.instance,a.props.native.noCommon),a.state.lastChanged!==e&&(a.setState({lastChanged:e}),a.timerChanged&&clearTimeout(a.timerChanged),a.timerChanged=setTimeout(function(){a.setState({lastChanged:""}),a.timerChanged=null},3e4)),a.props.socket.setObject(e,s)}).then(function(){a.informInstance(e)}).catch(function(e){return a.props.onError(e)})})}},{key:"renderSelectType",value:function(e,t,n,a){var i=this;if(!1!==a){for(var o=[s.a.createElement(me.a,{key:"_",value:"_"},s.a.createElement("em",null,k.t("no type")))],r=0;r<vt.length;r++)o.push(s.a.createElement(me.a,{key:vt[r],value:vt[r]},s.a.createElement("em",null,k.t(vt[r]))));return s.a.createElement(ce.a,null,s.a.createElement(le.a,{value:a||"_",onChange:function(e){return i.onParamsChange(n,void 0,e.target.value)}},o),s.a.createElement(re.a,{className:this.props.classes.devSubLineTypeTitle},k.t("Types")))}return""}},{key:"renderChannels",value:function(e,t){var n=[],a=this.props.classes,i=e.main.getId,o=e.func;return n.push(s.a.createElement("div",{key:"sub"+i,className:a.devSubLine,style:{background:"#e9e9e9"}},s.a.createElement("div",{className:a.devSubLineName},o.toUpperCase()),s.a.createElement("div",{className:a.devSubSubLine},s.a.createElement("div",null,e.main.getId),e.main.setId&&e.main.setId!==e.main.getId?s.a.createElement("div",{className:a.devSubLineSetId},e.main.setId):null))),e.attributes.forEach(function(e){n.push(s.a.createElement("div",{key:"sub"+e.getId,className:a.devSubLine,style:{background:"#e9e9e9"}},s.a.createElement("div",{className:a.devSubLineName},e.name.toUpperCase()),s.a.createElement("div",{className:a.devSubSubLine},s.a.createElement("div",null,e.getId),e.setId&&e.setId!==e.getId?s.a.createElement("div",{className:a.devSubLineSetId},e.setId):null)))}),n}},{key:"renderDevice",value:function(e,t){var n=this,a=-1!==this.state.expanded.indexOf(e.name),i=t%2?"#f1f1f1":"inherit",o=-1!==this.state.changed.indexOf(e.iobID);return o?i="#e7000040":e.iobID===this.state.lastChanged&&(i="#b4ffbe"),[s.a.createElement("div",{key:"line"+t,className:this.props.classes.devLine,style:{background:i}},s.a.createElement("div",{className:this.props.classes.devLineNumber},t+1,"."),s.a.createElement(B.a,{className:this.props.classes.devLineExpand,onClick:function(){return n.onExpand(t)}},e.attributes.length?s.a.createElement(ut.a,{badgeContent:e.attributes.length,color:"primary"},a?s.a.createElement(z.e,null):s.a.createElement(z.g,null)):a?s.a.createElement(z.e,null):s.a.createElement(z.g,null)),s.a.createElement("div",{className:this.props.classes.devLineNameBlock,style:{display:"inline-block",position:"relative"}},s.a.createElement("span",{className:this.props.classes.devLineName},e.name),s.a.createElement("span",{className:this.props.classes.devLineDescription},e.description),o?s.a.createElement(De.a,{className:this.props.classes.devLineProgress,size:20}):null),s.a.createElement("span",{className:this.props.classes.devLineActions},this.renderActions(e)),s.a.createElement(B.a,{"aria-label":"Edit",className:this.props.classes.devLineEdit,onClick:function(){return n.onEdit(e.iobID)}},s.a.createElement(z.f,{fontSize:"middle"})),s.a.createElement(B.a,{"aria-label":"Delete",className:this.props.classes.devLineDelete,onClick:function(){return n.onAskDelete(e.iobID)}},s.a.createElement(z.d,{fontSize:"middle"}))),a?this.renderChannels(e,t):null]}},{key:"renderMessage",value:function(){var e=this;return this.state.message?s.a.createElement(ae,{text:this.state.message,onClose:function(){return e.setState({message:""})}}):null}},{key:"changeSmartName",value:function(e){var t=this;e&&e.preventDefault(),this.addChanged(this.state.editId,function(){var e=t.state.editId;t.setState({editId:"",editObjectName:"",lastChanged:e}),t.timerChanged&&clearTimeout(t.timerChanged),t.timerChanged=setTimeout(function(){t.setState({lastChanged:""}),t.timerChanged=null},3e4),t.props.socket.getObject(e).then(function(n){return $.updateSmartName(n,t.editedSmartName,void 0,void 0,t.props.adapterName+"."+t.props.instance,t.props.native.noCommon),t.props.socket.setObject(e,n)}).then(function(){t.informInstance(e)}).catch(function(e){return t.props.onError(e)})})}},{key:"renderEditDialog",value:function(){var e=this;return this.state.editId?s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"message-dialog-title","aria-describedby":"message-dialog-description"},s.a.createElement(T.a,{id:"message-dialog-title"},this.props.title||k.t("Smart name for %s",this.state.editObjectName)),s.a.createElement(I.a,null,s.a.createElement("p",null,s.a.createElement("span",null,"ID:")," ",s.a.createElement("span",{className:this.props.classes.editedId},this.state.editId)),s.a.createElement(W.a,{style:{width:"100%"},label:k.t("Smart name"),onKeyDown:function(t){return 13===t.keyCode&&e.changeSmartName(t)},onChange:function(t){return e.editedSmartName=t.target.value},defaultValue:this.state.editedSmartName,helperText:k.t("You can enter several names divided by comma"),margin:"normal"})),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.changeSmartName()},color:"primary",autoFocus:!0},k.t("Ok")),s.a.createElement(O.a,{onClick:function(){e.editedSmartName=null,e.setState({editId:"",editedSmartName:""})}},k.t("Cancel")))):null}},{key:"renderConfirmDialog",value:function(){var e=this;return this.state.showConfirmation?s.a.createElement(A.a,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return e.handleOk()},"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description"},s.a.createElement(T.a,{id:"confirmation-dialog-title"},this.props.title||k.t("Device will be disabled.")),s.a.createElement(I.a,null,s.a.createElement("p",null,k.t("Are you sure?"))),s.a.createElement(j.a,null,s.a.createElement(O.a,{onClick:function(){return e.onDelete()},color:"primary",autoFocus:!0},k.t("Ok")),s.a.createElement(O.a,{onClick:function(){return e.setState({showConfirmation:""})}},k.t("Cancel")))):null}},{key:"getSelectIdDialog",value:function(){var e=this;return this.state.showSelectId?s.a.createElement(tt,{key:"dialogSelectID1",prefix:"../..",connection:this.props.socket,selected:"",statesOnly:!0,onClose:function(){return e.setState({showSelectId:!1})},onOk:function(t,n){e.setState({showSelectId:!1}),e.props.socket.getObject(t).then(function(t){if(t){var n=$.getObjectNameFromObj(t,null,{language:k.getLanguage()});$.updateSmartName(t,(n||k.t("Device name")).replace(/[-_.]+/g," "),void 0,void 0,e.props.adapterName+"."+e.props.instance,e.props.native.noCommon),e.addChanged(t._id),e.waitForUpdateID=t._id,e.state.lastChanged!==t._id&&(e.setState({lastChanged:t._id}),e.timerChanged&&clearTimeout(e.timerChanged),e.timerChanged=setTimeout(function(){e.setState({lastChanged:""}),e.timerChanged=null},3e4)),e.props.socket.setObject(t._id,t).then(function(){return e.informInstance(t._id)}).catch(function(t){return e.setState({message:t})})}else e.setState({message:k.t("Invalid ID")})})}}):null}},{key:"renderDevices",value:function(){for(var e=this.state.filter.toLowerCase(),t=[],n=0;n<this.state.devices.length;n++)this.state.filter&&-1===this.state.devices[n].name.toLowerCase().indexOf(e)||t.push(this.renderDevice(this.state.devices[n],n));return s.a.createElement("div",{key:"listDevices",className:this.props.classes.columnDiv},t)}},{key:"render",value:function(){var e=this;return this.state.loading?s.a.createElement(De.a,{key:"alexaProgress"}):s.a.createElement("form",{key:"alexa",className:this.props.classes.tab},s.a.createElement(_.a,{size:"small",color:"secondary","aria-label":"Add",className:this.props.classes.button,onClick:function(){return e.setState({showSelectId:!0})}},s.a.createElement(z.a,null)),s.a.createElement(_.a,{size:"small",color:"primary","aria-label":"Refresh",className:this.props.classes.button,onClick:function(){return e.browse(!0)},disabled:this.state.browse},this.state.browse?s.a.createElement(De.a,{size:20}):s.a.createElement(z.j,null)),s.a.createElement(oe.a,{placeholder:k.t("Filter"),className:this.state.filter,value:this.state.filter,onChange:function(t){return e.setState({filter:t.target.value})}}),s.a.createElement(B.a,{"aria-label":"Clear",className:this.props.classes.button,onClick:function(){return e.setState({filter:""})}},s.a.createElement(z.b,{fontSize:"large"})),this.renderDevices(),this.renderMessage(),this.renderEditDialog(),this.getSelectIdDialog(),this.renderConfirmDialog())}}]),t}(a.Component),yt=Object(h.a)(function(e){return{tab:{width:"100%",height:"100%"},column:{display:"inline-block",verticalAlign:"top",marginRight:20,height:"100%",overflow:"hidden"},columnDiv:{height:"calc(100% - 40px)",overflow:"auto",minWidth:300},filter:{margin:0},button:{marginRight:20},devLineExpand:{marginRight:10},devLineEnabled:{position:"absolute",right:0,top:0},devLineEdit:{position:"absolute",top:5,right:50},devLineDelete:{position:"absolute",top:5,right:0},devLineName:{},devLineNumber:{display:"inline-block",verticalAlign:"middle",width:15},editedId:{fontStyle:"italic"},enumLineSubName:{fontStyle:"italic"},devLine:{height:48,width:"100%",position:"relative"},devLineDescription:{display:"block",fontStyle:"italic",fontSize:12},devLineActions:{fontStyle:"italic",fontSize:12,paddingLeft:50,display:"inline-block"},devLineProgress:{position:"absolute",top:0,left:0},channelLineActions:{width:80},devLineNameBlock:{display:"inline-block",width:"calc(100% - 350px)"},columnHeader:{background:e.palette.primary.light,padding:10,color:e.palette.primary.contrastText},devModified:{fontStyle:"italic"},actionIcon:{width:16},devSubLine:{position:"relative",height:48},devSubLineName:{marginLeft:5,marginTop:14,minWidth:100,display:"inline-block",fontSize:13,paddingLeft:70},devSubSubLine:{fontSize:10,fontStyle:"italic",display:"inline-block",marginLeft:15},devSubLineSetId:{fontStyle:"italic",display:"block",color:"#999"},devSubLineByOn:{marginLeft:5},devSubLineDelete:{position:"absolute",top:12,right:12,padding:0},devSubLineEdit:{position:"absolute",top:12,right:62,padding:0},devSubLineTypeTitle:{marginTop:0}}})(bt),kt=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getSelectedTab",value:function(){var e=this.state.selectedTab;return e&&"options"!==e?"enums"===e?1:"alexa"===e?2:"alisa"===e?2+(this.state.native.amazonAlexa?1:0):"extended"===e?2+((this.state.native.amazonAlexa?1:0)+(this.state.native.yandexAlisa?1:0)):"services"===e?3+((this.state.native.amazonAlexa?1:0)+(this.state.native.yandexAlisa?1:0)):void 0:0}},{key:"render",value:function(){var e=this;return this.state.loaded?s.a.createElement("div",{className:"App"},s.a.createElement(p.a,{position:"static"},s.a.createElement(f.a,{value:this.getSelectedTab(),onChange:function(t,n){return e.selectTab(t.target.parentNode.dataset.name,n)}},s.a.createElement(g.a,{label:k.t("Options"),"data-name":"options"}),s.a.createElement(g.a,{label:k.t("Smart enums"),"data-name":"enums"}),this.state.native.amazonAlexa&&s.a.createElement(g.a,{selected:"alexa"===this.state.selectedTab,label:k.t("Alexa devices"),"data-name":"alexa"}),this.state.native.yandexAlisa&&s.a.createElement(g.a,{selected:"alisa"===this.state.selectedTab,label:k.t("Alisa devices"),"data-name":"alisa"}),s.a.createElement(g.a,{label:k.t("Extended options"),"data-name":"extended"}),s.a.createElement(g.a,{label:k.t("Services and IFTTT"),"data-name":"services"}))),s.a.createElement("div",{className:this.isIFrame?this.props.classes.tabContentIFrame:this.props.classes.tabContent},("options"===this.state.selectedTab||!this.state.selectedTab)&&s.a.createElement(ie,{key:"options",common:this.common,socket:this.socket,native:this.state.native,onError:function(t){return e.setState({errorText:t})},onLoad:function(t){return e.onLoadConfig(t)},instance:this.instance,adapterName:this.adapterName,onChange:function(t,n){return e.updateNativeValue(t,n)}}),"enums"===this.state.selectedTab&&s.a.createElement(mt,{key:"enums",common:this.common,socket:this.socket,native:this.state.native,onError:function(t){return e.setState({errorText:t})},instance:this.instance,adapterName:this.adapterName}),"alexa"===this.state.selectedTab&&s.a.createElement(ft,{key:"alexa",common:this.common,socket:this.socket,native:this.state.native,onError:function(t){return e.setState({errorText:t})},adapterName:this.adapterName,instance:this.instance}),"alisa"===this.state.selectedTab&&s.a.createElement(yt,{key:"alisa",common:this.common,socket:this.socket,native:this.state.native,onError:function(t){return e.setState({errorText:t})},adapterName:this.adapterName,instance:this.instance}),"extended"===this.state.selectedTab&&s.a.createElement(at,{key:"extended",common:this.common,socket:this.socket,native:this.state.native,onError:function(t){return e.setState({errorText:t})},instance:this.instance,adapterName:this.adapterName,onChange:function(t,n){return e.updateNativeValue(t,n)}}),"services"===this.state.selectedTab&&s.a.createElement(rt,{key:"services",common:this.common,socket:this.socket,native:this.state.native,onError:function(t){return e.setState({errorText:t})},instance:this.instance,adapterName:this.adapterName,onShowError:function(t){return e.showError(t)},onChange:function(t,n){return e.updateNativeValue(t,n)}})),this.renderError(),this.renderSaveCloseButtons()):s.a.createElement(b,{theme:this.state.themeType})}}]),t}(G),wt=Object(h.a)(function(e){return{root:{},tabContent:{padding:10,height:"calc(100% - 64px - 48px - 20px)",overflow:"auto"},tabContentIFrame:{padding:10,height:"calc(100% - 64px - 48px - 20px - 38px)",overflow:"auto"}}})(kt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=n(118),Et=function(e){return"dark"===e?Object(St.a)({palette:{type:e,primary:{light:"#5F6975",main:"#2978d0",dark:"#053C72",contrastText:"#C\u0421\u0421"},secondary:{light:"#7EB2CC",main:"#3399CC",dark:"#068ACC",contrastText:"#ee0000"}}}):Object(St.a)({palette:{type:e,primary:{light:"#5F6975",main:"#164477",dark:"#053C72",contrastText:"#FFF"},secondary:{light:"#7EB2CC",main:"#3399CC",dark:"#068ACC",contrastText:"#ee0000"}}})},Ct="light";!function e(){return o.a.render(s.a.createElement(r.a,{theme:Et(Ct)},s.a.createElement(wt,{onThemeChange:function(t){Ct=t,e()}})),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,n){e.exports=n.p+"static/media/copy-content.6fe0b363.svg"}},[[130,1,2]]]);
//# sourceMappingURL=main.4774d483.chunk.js.map